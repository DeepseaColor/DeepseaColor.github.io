<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>关卡协助叙事</title>
      <link href="/2023/08/31/%E5%85%B3%E5%8D%A1%E5%8D%8F%E5%8A%A9%E5%8F%99%E4%BA%8B/"/>
      <url>/2023/08/31/%E5%85%B3%E5%8D%A1%E5%8D%8F%E5%8A%A9%E5%8F%99%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>关卡是如何影响人的情绪的，我在这篇文章曾提到我在战神中非常喜欢的一段体验：</p><p><a href="https://deepseacolor.github.io/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/">https://deepseacolor.github.io/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/</a></p><p>在设计这段剧情体验时，战神团队想要表达奎托斯怎样的状态和心情？</p><p>儿子追着野猪很快跑没影了，奎托斯年迈、笨拙，心里怀揣着对儿子安危的担忧，紧张且急切，同时又有作为父亲的骄傲和尊严，不想拖儿子后腿。</p><p>那么关卡设计师如何表达奎托斯的情绪：</p><p>　　－ 这段路线发生在峡谷中，整体视野非常封闭，该环境可以让玩家保持紧张和多疑。</p><p>　　－ 峡谷中充满雾气，能见度极低，看不到儿子也难以分辨地形，这种设计创造了困惑和恐慌的情绪。</p><p>　　－ 关键节奏点设置分岔路口，同时引导玩家走向错误的岔路，玩家发现自己走错时会感到非常的急躁和慌乱，这时候已经完全带入了奎托斯的情绪。</p><p>　　－ 可以主动呼唤阿特柔斯（儿子），以交互的方式结合听声辩位来引导正确的方向，但是作为父亲的骄傲又偏偏要故作镇定的呼唤，不想拖累儿子以及让儿子感受到自己的慌乱。</p><p>　　－ 结束阶段设计一段夹缝路径，奎托斯强壮的身躯在夹缝处拼命挤压前行同时能听得到的沉重呼吸把“急切”这样的情绪推向高潮。</p><p>叙事向的关卡设计其实没有系统的方法论，因为游戏角色在当时处境下拥有的情绪是非常细腻的，需要设计师去揣摩并用巧妙的方式传达给玩家，同样的手段可能并不能一直奏效。</p>]]></content>
      
      
      <categories>
          
          <category> 方法总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计方法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>玩法叙事、表达概念的方法</title>
      <link href="/2023/08/31/%E7%8E%A9%E6%B3%95%E5%8F%99%E4%BA%8B%E3%80%81%E8%A1%A8%E8%BE%BE%E6%A6%82%E5%BF%B5%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2023/08/31/%E7%8E%A9%E6%B3%95%E5%8F%99%E4%BA%8B%E3%80%81%E8%A1%A8%E8%BE%BE%E6%A6%82%E5%BF%B5%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>游戏设计的最高难度在于不同元素之间优美的组合，而不是某个元素本身。单独的一条规则、一个画面、或者一段音乐是无法被充分评价的，而由这些元素组成的完整的体验才是可以被评价的起点。</p><h1 id="一-什么是玩法叙事、表达概念"><a href="#一-什么是玩法叙事、表达概念" class="headerlink" title="一 什么是玩法叙事、表达概念"></a>一 <strong>什么是玩法叙事、表达概念</strong></h1><p>原神去年夏活里的一个玩法我印象非常深刻，它想要表达的主题概念是占卜，讲的是莫娜的故事（一个占星术士），发生的场景叫星纬殿堂。</p><p>那个玩法特别简单，就是观察周围环境会看到一个图形，然后把这个图形用机关拼出来即可。</p><p>我记得当时的场景有球个形的玻璃穹顶，但是碎了一片区域，然后我发现在某个角度透过这片区域能够看到天上的星星排列成了想要的图形，我当时就想到，“占卜不就是偷窥天之一角吗”。我真的非常喜欢这段玩法体验，即一个简单的玩法就完成了非常好的概念（占卜）表达。</p><p><img src="/2023/08/31/%E7%8E%A9%E6%B3%95%E5%8F%99%E4%BA%8B%E3%80%81%E8%A1%A8%E8%BE%BE%E6%A6%82%E5%BF%B5%E7%9A%84%E6%96%B9%E6%B3%95/wps1.jpg" alt="img"> </p><p>从这个案例里面就能意识到，玩法设计并不意味着要规则多么精妙、多么有思维深度或者多么有拓展性，当需要玩法来协助叙事、表达概念时，轻松、愉快、沉浸更加重要。</p><p><em><strong>*叙事的终极追求是让玩家的情绪和玩家所扮演角色的情绪保持一致*</strong></em></p><p>至少在rpg的叙事流程中，我并不希望玩家中断流程去绞尽脑汁解决一个大难题，除非你需要让玩家获得烦躁的情绪（也不排除这种可能），或者你让玩家扮演的是一个机关术高手，这样玩家在设定的暗示下也更能进入机关解密玩法的心流状态。</p><p>如果你想要表达的是“占卜”，那么应该是神秘、巧合、不可预知的感觉。</p><h1 id="二-如何评价玩法"><a href="#二-如何评价玩法" class="headerlink" title="二 如何评价玩法"></a>二 <strong>如何评价玩法</strong></h1><h2 id="2-1-直觉"><a href="#2-1-直觉" class="headerlink" title="2.1. 直觉"></a>2.1. 直觉</h2><p>关卡设计师会在雪地里放一根显眼的树枝引导正确的方向；玩法设计里面，你会将三角形的钥匙放进三角插孔，圆形钥匙放进圆形插孔。</p><p>如果你希望一个机关能转，那么可以给它的底座增加圆形结构；如果你希望一个机关能伸缩，那么可以给它的设计一个类似伸缩杆结构。</p><p>　－ 直觉直接决定了玩家学习规则的难易程度，并且人的直觉是有迹可循的。</p><p>　－ 我们需要对每一条规则的直觉设计进行评估。</p><h2 id="2-2-概念表达、叙事"><a href="#2-2-概念表达、叙事" class="headerlink" title="2.2. 概念表达、叙事"></a>2.2. 概念表达、叙事</h2><p>玩法的本质就是一些抽象的规则，真正决定玩法高度的是玩法所能表达的概念，以及它的叙事性（情绪）。</p><p>什么是概念表达：人们的成长历程中会获得大量的生活经验，比如我们知道正确的钥匙能够打开对应的锁，那么玩法中这种一一对应的关系就可以被赋予“钥匙”和“锁”的形式。</p><p>与直觉不同，“概念”的呈现效果是人们经过学习得到的，一个无任何经验的自然人并不能理解“钥匙”和“锁”的概念。人们基于人生经历的不同对不同的形式具有理解上的差异，比如东亚人对筷子的理解肯定远高于西方人。</p><p>在游戏中当你想要用玩法来表达某个概念，那么为此设计的玩法能够很好的表达这个概念是感受得到的。</p><h2 id="2-3-规则量"><a href="#2-3-规则量" class="headerlink" title="2.3. 规则量"></a>2.3. 规则量</h2><p>　－ 规则：玩家所能执行的操作手段（条件）及其能造成的结果。</p><p>　　　－ 条件触发的结果也可能是另一条规则的条件。例如，蓝色的光线射到蓝色的接收板上（条件）能够打开一扇蓝色的门（结果）。</p><p>　　　－ 达成玩法的目标可能是由多条规则组合触发的，例如：使用正确的钥匙插入某个钥匙孔–&gt;整个房间会旋转180度–&gt;玩家可以拾取到原本在天花板上的宝箱。</p><p>　－ 应当评估达成一个玩法目标所使用的有多少种规则，这个类型数量应当是被控制的。</p><h2 id="2-4-决策量"><a href="#2-4-决策量" class="headerlink" title="2.4. 决策量"></a>2.4. 决策量</h2><p>玩家所能进行的操作是推动整个玩法系统运行的基础事件（或者说触发规则的基础条件）。</p><p>玩家在某一个状态下，（大部分情况下）所能进行的操作上的决策需要是有限的，否则如果玩家在大量的尝试下都无法获得反馈必然会迅速失去信心。</p><p>增加玩法决策的维度会让玩家决策的量指数级上升，例如：假设一个机关可以向4个方向移动1个单位，此时玩家决策的量为4；那么如果再引入机关可以旋转4个方向的维度，此时玩家的决策量为16。</p><h1 id="三-玩法的设计方法"><a href="#三-玩法的设计方法" class="headerlink" title="三 玩法的设计方法"></a>三 <strong>玩法的设计方法</strong></h1><p>玩法从系统上大体可以拆解为操作手段、通关条件，但从设计角度，个人觉得达成通关条件的过程更为重要，我将其称之为“玩点”或者“玩法内核”。</p><p>　－ 操作手段：玩家在该玩法系统中所能采取的所有行为。</p><p>　－ 玩点：玩家经历怎样的过程达成目标。</p><p>以推箱子玩法为例：1.推箱子是玩家的手段；2.通过逻辑分析，以正确的行动次序推箱子直到所有箱子到终点是玩点。</p><p>通过大量实例能够发现，操作手段和玩法内核是可以各种排列组合的；而复合型玩法，可能是由多种操作手段+多种玩法内核组合成的，所以对这些玩法的归纳上，既从操作方式上，也从玩法内核上对玩法进行了分类。</p><p>以这种排列组合的思想设计出一个逻辑完整的玩法其实是一件并不复杂的事情，但是如何设计出能更好的叙事、表达概念的玩法还远远不够，还需要挖掘概念或者事情本身的特点，而概念或者事件的特异性太多，很难抽象。</p><p>针对市面上一些游戏的3d解密玩法，以下简单列举一些拆分结果：</p><h2 id="3-1-操作方式："><a href="#3-1-操作方式：" class="headerlink" title="3.1. 操作方式："></a>3.1. 操作方式：</h2><table><thead><tr><th>操作方式</th><th>说明</th></tr></thead><tbody><tr><td>转方向</td><td>玩家的直接手段可以改变机关的朝向。</td></tr><tr><td>改高度</td><td>玩家的直接手段可以改变机关的有效高度。</td></tr><tr><td>推箱子</td><td>玩家可以改变某个交互物的位置。</td></tr><tr><td>踩格子</td><td>玩家通过移动行为对多个格子区域产生影响。</td></tr><tr><td>钥匙</td><td>玩家可以携带某个物体和某个机关进行配对。</td></tr><tr><td>跟随</td><td>跟随是人行动的本能，这种玩法体验来源于直觉，是人们对于自身直觉的验证。</td></tr></tbody></table><h2 id="3-2-玩法内核（玩点）："><a href="#3-2-玩法内核（玩点）：" class="headerlink" title="3.2. 玩法内核（玩点）："></a>3.2. 玩法内核（玩点）：</h2><table><thead><tr><th>玩点</th><th>说明</th></tr></thead><tbody><tr><td>看形式</td><td>通过画面提示直接引导玩家对当前机关的操作</td></tr><tr><td>连轴动</td><td>玩家操作的机关具有相互联动的关系，玩家需要解析这个关系并达成终解。</td></tr><tr><td>操作映射</td><td>玩家对当前机关的操作能够直接影响远端无法直接操作的机关，并通过这种方式使远端达成预期目标而解密成功。</td></tr><tr><td>记顺序</td><td>通过记忆演示的次序，玩家用操作复刻该次序来通关。</td></tr><tr><td>连线</td><td>玩家通过各种形式的操作来改变连线直到达成最终连线效果。</td></tr><tr><td>互斥</td><td>玩家的决策会造成不同的互斥结果，通过灵活利用这些互斥结果推动事件进行从而解密成功。</td></tr><tr><td>空间变化</td><td>同一区域在不同条件（以时空为例）下符合逻辑的变化，玩家需要利用这些既定的变化来解密。</td></tr><tr><td>迷宫</td><td>通过记忆、尝试来寻找最终的正确路线。</td></tr><tr><td>反常识</td><td>以违反思维定势的方式来设计玩法，考验玩家的想象力，给予惊喜感就。</td></tr><tr><td>限时</td><td>在一定时间限制内完成解密，通常和其他玩法内核结合作为一种辅助设计。</td></tr><tr><td>时机</td><td>对玩家物理反应能力的考验，在正确的时机用正确动作来达成目标。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 方法总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计方法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游戏的共情设计-前言</title>
      <link href="/2023/08/12/%E6%B8%B8%E6%88%8F%E7%9A%84%E5%85%B1%E6%83%85%E8%AE%BE%E8%AE%A1-%E5%89%8D%E8%A8%80/"/>
      <url>/2023/08/12/%E6%B8%B8%E6%88%8F%E7%9A%84%E5%85%B1%E6%83%85%E8%AE%BE%E8%AE%A1-%E5%89%8D%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>· 以原神为例，我们对原神未来版本的期待主要是两部分：新的角色任务，新的世界探索。基于这点，可以建立三个要素：玩家、世界、（目标）角色。</p><p>· 实现共情的目标是强化这三者相互之间的联系，使其互相之间发生关系；有联系才会热爱这个世界，对这个世界有归宿感；才会爱这个人（角色），珍惜共同的经历，以及渴望他&#x2F;她的陪伴。</p><p>· 世界是一个单独的要素，但其根源仍然是作为主角与众多角色联系的纽带，即仍然是为角色服务的，它的好处是让角色的形象更加立体和具象化。 </p><p>· 其实从现在的视角往回看所有成功的二次元项目，可以得出的结论是“二次元的成功往往依托于角色的成功”。</p><p>&emsp;&emsp;o 提起可莉，你可以想到蒙德城的一片居民楼以及墙上生长的慕风蘑菇（可莉的突破材料并且设定上喜欢这个东西）；可莉从高处跳出打开风之翼会有“哇”充满惊喜情绪的语音。</p><p>&emsp;&emsp;o 而提提及早期的一些二次元数值卡牌游戏，里面的角色除了精美的立绘，她的生长环境、喜欢的东西、爱好的食物，可能很多人都没有印象，但是但凡存活下来的二次元游戏，它们的角色都以各种方式在给人们留下印象，不局限于共情设计的方式。</p><table><thead><tr><th>要素</th><th>是什么</th><th>意义</th><th>案例说明</th></tr></thead><tbody><tr><td>主角与角色的联系</td><td>主角与目标角色共同经历的事件； 间接联系：主角与角色通过其他人或物产生的联系。（比如“一不小心”在某地留言板上看到ta留下的信息）</td><td>不多赘述</td><td>比如说“我”和刻晴发生了一段故事（逐月节），它强化了我与角色（刻晴）的联系；但这段故事是在璃月港、群玉阁发生的，这样的区域不可替代，那么它同时也是“我“和刻晴与这个世界的联系。</td></tr><tr><td>角色与世界的联系</td><td>角色与世界中的人、物、一片区域、或者一个国家之间的关系、羁绊、经历等； 角色与世界的交互（例如看到雪或者高出风景的语音）；</td><td>角色并不是这个世界里的一颗小石子，而是作为拥有自我意志的个体；角色必定在先前，此刻，及未来，与这个大世界进行着频繁的互动。</td><td></td></tr><tr><td>主角与世界的联系</td><td>主角能力与世界的交互；以及与世界中的人共同发生的事（一些任务中、额外突出了主角（扮演的角色）的行动影响了一些普通世界人物的人生轨迹，或者是一定程度上影响了世界）。</td><td>我在这个区域里面进行的所有行为（包括参与故事，甚至是简单的采集行为）都强化了我对这个区域的意识和归宿感。</td><td></td></tr></tbody></table><p>· 上述方法定义了哪些是属于共情事件，但如果只是混杂的共情事件并不能建立一个形象饱满的角色，我们还需要明白这些共情事件与角色三性之间的联系。</p><table><thead><tr><th>角色三性</th><th>解释</th><th>美术&amp;动作设计</th><th>语音</th><th>背景故事</th><th>任务系统</th><th>突破材料</th><th>武器、圣遗物</th><th>命之座&amp;天赋</th></tr></thead><tbody><tr><td>独特性</td><td>角色的特征与属性能够让玩家快速认识ta，并且产生持久的印象； ta的特征和属性在项目中是独一无二的。</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td></td><td>✔</td></tr><tr><td>复杂性</td><td>所谓三段论： 1.看山是山； 通过表象对角色的认知； 2. 看山不是山； 通过各种互动事件对角色开启更深层次的认知，一般来说打破都角色第一层的认知，认识到角色“原来还有这一面” 3. 看山还是山； 经过一系列事件最后完整的认知角色，并且充分理解角色人格的形成“原来是这样”。</td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td>互动性</td><td>角色的先前、此刻、未来，都与这个大世界进行着频繁的互动。</td><td></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr></tbody></table><p>· 因此，本文探究的主要内容是： </p><p>&emsp;&emsp;o 有哪些系统参与角色共情的建设；主要是额外的，有特点且其他游戏不常见的共情方法与细节。</p><p>&emsp;&emsp;o 该系统中承担传达共情的载体。</p><p>&emsp;&emsp;o 使用该载体传达共情的方法（案例）</p><p>· 文档预期作用 </p><p>&emsp;&emsp;o 角色设计在进入讨论阶段并且转化为实际工作量之前，可以系统化思考的东西。</p><p>​&emsp;&emsp;&emsp;&emsp;1.产生的概念；（例如和狼群一起长大的少年、传说中的xx第一战力等）</p><p>​&emsp;&emsp;&emsp;&emsp;2.角色的三性以及表现方式；</p><p>​&emsp;&emsp;&emsp;&emsp;3.角色在各个系统中的共情表现；</p>]]></content>
      
      
      <categories>
          
          <category> 体验、感受 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>真正的美源于所有组成成分中元素的协调关系，而不是元素本身</title>
      <link href="/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/"/>
      <url>/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>之前和朋友聊天，我在战神4里面最喜欢的一段体验：</p><p>（背景）战神奎托斯教导儿子阿特柔斯如何进行打猎，在射中一只野猪后，受伤的野猪惊慌的逃窜进了一片迷雾区域。<br>急切又灵巧的的阿特柔斯快速的跟着野猪消失在了迷雾里，这是（玩家扮演的战神）第一次和阿特柔斯分开。</p><p>这么危险的地方，当然是要急切的寻找儿子，一边听着阿特柔斯从远方传来的喊声一边朝着大概的方向前进。这片区域真是诡异，道路狭长又布满了迷雾，我看不清前面的路，又连续遇到好几个分叉路口，总是走错，只能通过呼唤阿特柔斯以及他的回复判断正确的路线。<br>—-我是一个年迈又不灵巧又笨重的老父亲，我很着急，但是老是走错路。然而我在用自己的方法努力着，虽然并不聪明但还是行进在了正确的路线上。</p><p><img src="/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/b&ek=1&kp=1&pt=0&bo=AQZ2AwEGdgMDEDU!&tl=1&su=081142847&tm=1691776800&dis_t=1691778801&dis_k=8beaf22fb59e516b73ca3f4a7b440458&sce=0-12-12&rf=2-9.png" alt="图片"></p><p>后面终于听着阿特柔斯的声音越来越近，但还有一段狭缝路径。奎托斯强壮的身体挤在这段狭小的缝隙里拼命向前移动，沉重的呼吸无一不在宣示他急切的心情。</p><p><img src="/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/b&ek=1&kp=1&pt=0&bo=dQUeA3UFHgMDEDU!&tl=1&su=074704255&tm=1691776800&dis_t=1691778801&dis_k=14ee6386188568eabab03c199c1b1c0f&sce=0-12-12&rf=2-9.png" alt="图片"></p><p>最后进入了一个开放且温和的环境，看到阿特柔斯和一个女人在救治那头野猪，虽然不明白发生了什么但是好像没有危险，心情瞬间放松了下来。<br>我是个什么也不知道的笨蛋，所以只好听着女人的数落和吩咐照做：帮野猪按住伤口，扛着野猪回家（还好有一身蛮力还有点用）；还好儿子没有看到我之前窘迫的状态，我又能重新成为了那个严肃、沉稳仿佛永远也不会急的父亲。</p><p><img src="/2023/08/12/%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%BE%8E%E6%BA%90%E4%BA%8E%E6%89%80%E6%9C%89%E7%BB%84%E6%88%90%E6%88%90%E5%88%86%E4%B8%AD%E5%85%83%E7%B4%A0%E7%9A%84%E5%8D%8F%E8%B0%83%E5%85%B3%E7%B3%BB%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E5%85%83%E7%B4%A0%E6%9C%AC%E8%BA%AB/b&ek=1&kp=1&pt=0&bo=0AVXA9AFVwMDEDU!&tl=1&su=0136401551&tm=1691776800&dis_t=1691778801&dis_k=8ea0ea7c8dfbe582c5744e358679262d&sce=0-12-12&rf=2-9.png" alt="图片"> </p><p>（这个女人是美神芙蕾雅–奥丁的前妻，那只猪是全世界只剩一只的稀有品种，迷雾路径是美神隐居设置的结界。）</p><p>我一直认为，游戏中的共情体验来源于玩家与扮演角色的动机的一致性，以及相似情绪的流露。</p><p>在这段纯粹的跑图体验里，<br>故事层面上，阿特柔斯的灵巧以及小男孩那种急于证明自己、获取第一个战利品的心情和老父亲的笨重、认真和窘迫都让这段故事显得真实而容易沉浸。<br>关卡层面上，我无比喜欢这几个岔口，没有它们我应该感受不到这种急切的心情。<br>演出呈现上，通过呼唤阿特柔斯获取的回应来分辨路线的交互设计，以及使用能见度极低（来强化声源价值）的迷雾设计。</p><p>这些元素汇聚起来就是圆润且美好的体验。</p><p>真正的美源于所有组成成分中元素的协调关系，而不是元素本身。</p>]]></content>
      
      
      <categories>
          
          <category> 体验、感受 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>互斥概念关卡演示</title>
      <link href="/2023/08/12/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1%E6%BC%94%E7%A4%BA/"/>
      <url>/2023/08/12/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1%E6%BC%94%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>—-视频演示</p><p>设计文档见关卡实践分类:<a href="https://deepseacolor.github.io/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/">https://deepseacolor.github.io/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/</a></p><p>全流程演示：</p><iframe src="//player.bilibili.com/player.html?aid=957789862&bvid=BV1Xp4y1E7Gu&cid=1250865108&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>通过sequence的方式表达互斥通路的概念，并围绕互斥通路建立关卡。<iframe src="//player.bilibili.com/player.html?aid=362159343&bvid=BV1W94y1k7hq&cid=1230990239&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>1.引入解救水晶的概念，水晶是一个会自主移动并能改变关卡连通状态，启动机关的设定。2.玩家会阶段性的解救水晶，并跟随水晶直到它到达终点。3.水晶和互斥通路结构相关，玩家打开一条通路，这条通路终点对应的水晶会被封存（参考上一个视频）。玩家需要在通路被关闭的条件下解救对应水晶。<iframe src="//player.bilibili.com/player.html?aid=617142726&bvid=BV1m84y1Z7Ta&cid=1230990043&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p>护送水晶过程中插入简易玩法优化玩家过程体验。<br>记忆一笔画玩法：玩家需要在sequence过程中记录路径并以一笔画方式通过道路</p><iframe src="//player.bilibili.com/player.html?aid=914650439&bvid=BV16u4y1i7ZM&cid=1230990241&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p>寻找水晶过程中插入简易玩法优化玩家跑图体验。<br>同色板玩法：玩家每次踩格子会将格子改变为另一个颜色，万家需要将所有格子踩为同一颜色。</p><iframe src="//player.bilibili.com/player.html?aid=702157496&bvid=BV1qm4y1p7Ca&cid=1230990051&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>]]></content>
      
      
      <categories>
          
          <category> demo演示 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>电路玩法演示</title>
      <link href="/2023/08/12/%E7%94%B5%E8%B7%AF%E7%8E%A9%E6%B3%95%E6%BC%94%E7%A4%BA/"/>
      <url>/2023/08/12/%E7%94%B5%E8%B7%AF%E7%8E%A9%E6%B3%95%E6%BC%94%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>—-视频演示</p><p>设计文档见关卡实践分类</p><p><a href="http://deepseacolor.github.io/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/">http://deepseacolor.github.io/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/</a></p><p>玩家仅能改变继电器的位置和状态，以此手段，让电路从起点到终点连通。</p><iframe src="//player.bilibili.com/player.html?aid=999818460&bvid=BV1vx4y1f7dy&cid=1234874411&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><iframe src="//player.bilibili.com/player.html?aid=489778854&bvid=BV18N411z7rx&cid=1234874231&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>]]></content>
      
      
      <categories>
          
          <category> demo演示 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>仙人洞府</title>
      <link href="/2023/08/12/%E4%BB%99%E4%BA%BA%E6%B4%9E%E5%BA%9C/"/>
      <url>/2023/08/12/%E4%BB%99%E4%BA%BA%E6%B4%9E%E5%BA%9C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>—-视频演示</p><p>设计文档见关卡实践分类</p><p>作为钥匙概念玩法的包装构思：</p><p><a href="http://deepseacolor.github.io/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/">http://deepseacolor.github.io/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/</a></p><p>将钥匙概念包装化，设想为仙人洞府解密场景，尝试搭建关卡。</p><iframe src="//player.bilibili.com/player.html?aid=957338219&bvid=BV1wp4y137MY&cid=1234874223&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><iframe src="//player.bilibili.com/player.html?aid=957311051&bvid=BV1Qp4y1g7Dh&cid=1234874326&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>]]></content>
      
      
      <categories>
          
          <category> demo演示 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>钥匙概念玩法演示</title>
      <link href="/2023/08/12/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95%E6%BC%94%E7%A4%BA/"/>
      <url>/2023/08/12/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95%E6%BC%94%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>—-视频演示</p><p>设计文档见关卡实践分类</p><p><a href="http://deepseacolor.github.io/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/">http://deepseacolor.github.io/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/</a></p><p>①钥匙和锁作为达成玩法目标的基础概念。<br>②拓展1：多把钥匙对应需要多把钥匙的锁，考验玩家对钥匙资源的分配规划能力。</p><iframe src="//player.bilibili.com/player.html?aid=872321610&bvid=BV1ZV4y1Y7o3&cid=1234874420&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p>③拓展2：存在这样一种锁，可以每插入一把钥匙都产生一个阶段性的变化—-钥匙和旋转房间机制的结合。</p><iframe src="//player.bilibili.com/player.html?aid=659874794&bvid=BV1ah4y1S7px&cid=1234874238&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe><p>④拓展3：钥匙和旋转场地的结合。</p><iframe src="//player.bilibili.com/player.html?aid=317330619&bvid=BV1HP411s7LK&cid=1234874339&page=1&high_quality=1&danmaku=0"allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>]]></content>
      
      
      <categories>
          
          <category> demo演示 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>相机基础需求</title>
      <link href="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/"/>
      <url>/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 <strong>概述</strong></h1><h2 id="一-1-设计目的"><a href="#一-1-设计目的" class="headerlink" title="一.1. 设计目的"></a>一.1. <strong>设计目的</strong></h2><p>-提供良好的角色操控体验，使玩家能够更好的观察游戏世界。</p><p>-提供良好的战斗体验，强化战斗表现。</p><h2 id="一-2-设计思路"><a href="#一-2-设计思路" class="headerlink" title="一.2. 设计思路"></a>一.2. <strong>设计思路</strong></h2><p>-A3是一款二次元风格的JRPG，对标产品为FF7RE。我们期望A3产品具有以下特点：</p><p>​    -沉浸：高度自洽的游戏世界，流畅的操作体验。强调代入感和临场感。</p><p>​    -精品化：次时代的游戏画面表现力，包括场景展现与战斗表现，能够被二次元用户认可。</p><p>-在游戏中，相机功能是玩家最早和最常接触到的游戏体验之一，也是玩家对于游戏基础品质评判的重要依据，需要达到足够高的品质。</p><h1 id="第二章-角色跟随的相机模式"><a href="#第二章-角色跟随的相机模式" class="headerlink" title="第二章 角色跟随的相机模式"></a>第二章 <strong>角色跟随的相机模式</strong></h1><h2 id="二-1-角色跟随模式相机"><a href="#二-1-角色跟随模式相机" class="headerlink" title="二.1. 角色跟随模式相机"></a>二.1. <strong>角色跟随模式相机</strong></h2><p>-在我们产品中，绝大多数情况下使用的都是角色跟随的相机模式，这是一种“焦点跟随相机”，需要实时地根据某个（某些）场景中的焦点坐标，计算相机位置</p><p>-玩家借助角色跟随相机进行跑图和战斗，观察游戏箱庭世界和箱庭副本</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps98.png" alt="img"> </p><p>1-角色跟随相机示意</p><h2 id="二-2-角色跟随模式下相机的基础构成"><a href="#二-2-角色跟随模式下相机的基础构成" class="headerlink" title="二.2. 角色跟随模式下相机的基础构成"></a>二.2. <strong>角色跟随模式下相机的基础构成</strong></h2><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps99.jpg" alt="img"> </p><p>-如上图所示，角色相机主要由三部分组成。相机视点、相机摇臂、相机焦点</p><p>​    -相机视点:相机镜头所在的位置。</p><p>​    -相机摇臂:相机视点到相机焦点的连线轨道是相机摇臂，玩家可以通过操作来进行摇臂的放缩</p><p>​    -相机焦点:</p><p>​        -角色相机的默认相机焦点是玩家的当前主控角色，具体会挂在角色的根骨骼上的某个偏移量的位置上，我们把这个挂点叫做角色的焦点插槽</p><p>​        -焦点插槽的位置会根据当前摇臂的长度以及角色的不同有所区别，具体见下文相关规则</p><h2 id="二-3-相机的基础参数"><a href="#二-3-相机的基础参数" class="headerlink" title="二.3. 相机的基础参数"></a>二.3. <strong>相机的基础参数</strong></h2><p>-相机的视锥体</p><p>​    -游戏中镜头所呈现的景物是由视点发出的视椎体决定的，视锥提通常情况下是一个金字塔结构，相机镜头定位于金字塔的顶端，视锥体的中心线朝向焦点位置。可配置相机的最近和最远渲染范围</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps100.jpg" alt="img"> </p><p>-FOV</p><p>​    -FOV决定了相机拍摄游戏场景时的可视范围角度，FOV的实际含义是Camera视锥体接收画面的角度α</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps101.jpg" alt="img"> </p><p>​    -3D游戏中一般FOV设定会在90到100左右</p><h1 id="第三章-角色跟随相机的镜头运动"><a href="#第三章-角色跟随相机的镜头运动" class="headerlink" title="第三章 角色跟随相机的镜头运动"></a>第三章 <strong>角色跟随相机的镜头运动</strong></h1><h2 id="三-1-角色相机的镜头跟随规则"><a href="#三-1-角色相机的镜头跟随规则" class="headerlink" title="三.1. 角色相机的镜头跟随规则"></a>三.1. <strong>角色相机的镜头跟随规则</strong></h2><p>-当前角色发生移动，角色相机也会以摇臂为轴，跟随发生移动</p><p>-镜头的跟随惯性</p><p>​    -一些品质不错的游戏，镜头运动和角色运动之间都留有一些余地</p><p>​    -不用追的太近，也不能离得太远，有一定的惯性</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps102.png" alt="img"> </p><p>2-镜头跟随的惯性</p><p>-镜头惯性的实现方式</p><p>​    -单纯的时间延迟的方式来实现镜头的惯性会十分僵硬，一般都是用惯性系数来实现</p><p>​    -角色在三维空间中移动时，镜头焦点会始终模仿角色的运动轨迹而运动，把问题简化，从三维空间下降到一维，假设角色只在X轴上左右移动，相机焦点当前的位置Xc，角色焦点插槽当前的位置Xg，游戏每次tick的间隔dtime，定义相机移动的惯性系数a，那么有：</p><p>​        -Distance&#x3D;Xg-Xc</p><p>​        -镜头每帧移动&#x3D;a<em>dtime</em>distance</p><p>​    -通过以上计算方式，我们可以看出当相机焦点越接近角色，相机的运动越缓慢</p><h2 id="三-2-角色相机的焦点插槽的位置"><a href="#三-2-角色相机的焦点插槽的位置" class="headerlink" title="三.2. 角色相机的焦点插槽的位置"></a>三.2. <strong>角色相机的焦点插槽的位置</strong></h2><p>-焦点插槽位置和角色的关系</p><p>​    -焦点插槽是挂在角色根骨骼的一个相对偏移上</p><p>​    -在相同的相机参数下，不同的角色这个偏移是不一样的，一般会考虑角色的体型，调整这个偏移使角色在画面中的构图更加合理</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps103.jpg" alt="img"> </p><p>-焦点插槽位置和摇臂长度的关系</p><p>​    -同一个角色，角色相机焦点插槽的位置和当前摇臂的长度相关</p><p>​    -一般来说摇臂从较远位置到最近位置的过度的过程中，随着摇臂的拉近，焦点插槽会有个向上的偏移。这个偏移主要是让人物在画面中的构图更加合理</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps104.jpg" alt="img"><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps105.jpg" alt="img"> </p><p>-焦点插槽位置的具体确定方式</p><p>​    -根据上述规则，我们需要制定某个角色的焦点插槽位置和摇臂长度之间的函数关系，这个函数关系是个调试好的函数曲线，我们可以在ue4中直接拉出一条合适的相机曲线来导出使用</p><p>​    -一般情况下如果两个角色的体型近似，使用同样的函数曲线过度即可</p><h2 id="三-3-玩家对角色相机的操控"><a href="#三-3-玩家对角色相机的操控" class="headerlink" title="三.3. 玩家对角色相机的操控"></a>三.3. <strong>玩家对角色相机的操控</strong></h2><p>-玩家操控相机的方式</p><table><thead><tr><th><em><strong>*行为*</strong></em></th><th><em><strong>*移动端操作*</strong></em></th><th><em><strong>*pc端键位*</strong></em></th></tr></thead><tbody><tr><td>相机镜头移动</td><td>非功能热区按住屏幕滑动</td><td>鼠标移动</td></tr><tr><td>相机摇臂拉近&#x2F;拉远</td><td>非功能热区双指放缩</td><td>鼠标滚轮向前&#x2F;向后滚</td></tr></tbody></table><p>​    -在PC端玩家通过移动鼠标，旋转游戏镜头。通过滚轮前后滚来放缩相机摇臂距离</p><p>​    -在移动端，玩家通过手指点触滑动屏幕来旋转游戏镜头。通过双指放缩操作来放缩相机摇臂距离</p><p>​        -移动端操作相机的区域为所有非功能热区</p><p>-玩家操控相机的运动形式</p><p>​    -玩家操控相机镜头移动:</p><p>​        -玩家操控相机的移动主要是操控相机以焦点为圆心，以摇臂长度为半径，沿着圆球的轨道进行相机旋转</p><p>​        -相机有三种旋转方式，其中常用的是以焦点为圆心，以摇臂长度为半径的偏航角和俯仰角旋转。旋转角一般只在一些3d空中驾驶模拟中才用到</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps106.jpg" alt="img"> </p><p>​        -移动端按住屏幕左右滑动&#x2F;PC端左右移动鼠标，可以控制相机水平角度旋转，可以旋转360度。向右滑动相机向左旋转，向左滑动相机向右旋转</p><p>² 可以连续转动相机（转过一周后可继续转动）</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps107.png" alt="img"> </p><p> 3-偏航角旋转示意</p><p>​        -移动端按住屏幕上下滑动&#x2F;PC端上下移动鼠标，为调节相机俯仰角度，角度有限制，上下角度分别配置。向上滑动相机降低，向下滑动相机升高</p><p>² 俯仰角度限制支持配置区间，但肯定会大于-90°，且小于90°</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps108.png" alt="img"> </p><p> 4-俯仰角旋转示意</p><p>​        -当玩家斜方向进行镜头移动的操作时，实际上是同时在进行水平方向和垂直方向的操作</p><p>​    -玩家操控摇臂拉近拉远:</p><p>​        -移动端双指张开为镜头推进缩短摇臂长度，双指收拢为镜头拉远加长摇臂长度</p><p>​        -PC端滚轮前滚为缩短摇臂长度，滚轮后滚为镜头拉远加长摇臂长度。</p><p>​        -角色相机的玩家控制摇臂最远和最近长度支持配置</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps109.png" alt="img"> </p><p>​    5-摇臂长度调整示意</p><h2 id="三-4-角色跟随相机的参数配置"><a href="#三-4-角色跟随相机的参数配置" class="headerlink" title="三.4. 角色跟随相机的参数配置"></a>三.4. <strong>角色跟随相机的参数配置</strong></h2><p>-角色跟随相机的基础默认参数</p><p>​    -包含视距范围、FOV、后处理等参数</p><p>-玩家操控相机的一些参数需求</p><p>​    -对玩家开放的参数后续可能会在设置里由玩家自由配置</p><table><thead><tr><th><em><strong>*参数条目*</strong></em></th><th><em><strong>*参数概述*</strong></em></th><th><em><strong>*是否对玩家开放*</strong></em></th></tr></thead><tbody><tr><td>镜头俯仰角度区间</td><td>支持配置区间，区间必定位于(-90°,90°)以内</td><td>否</td></tr><tr><td>摇臂调节范围</td><td>支持配置区间</td><td>否</td></tr><tr><td>镜头水平移动灵敏度</td><td>鼠标&#x2F;手指的移动距离转化为镜头偏航角度的比例</td><td>可能</td></tr><tr><td>镜头垂直移动灵敏度</td><td>鼠标&#x2F;手指的移动距离转化为镜头俯仰角度的比例</td><td>可能</td></tr><tr><td>摇臂调节灵敏度</td><td>鼠标中键的滚动距离&#x2F;双指方所得距离，转化为实际视距的缩放长度大小</td><td>可能</td></tr><tr><td>镜头默认俯仰角度</td><td>默认数值</td><td>否</td></tr><tr><td>镜头默认偏航角度</td><td>一般为玩家角色当前朝向</td><td>否</td></tr><tr><td>镜头默认摇臂长度</td><td>默认数值</td><td>否</td></tr></tbody></table><h1 id="第四章-物体的相机碰撞体"><a href="#第四章-物体的相机碰撞体" class="headerlink" title="第四章 物体的相机碰撞体"></a>第四章 <strong>物体的相机碰撞体</strong></h1><h2 id="四-1-物体的相机碰撞体定义"><a href="#四-1-物体的相机碰撞体定义" class="headerlink" title="四.1. 物体的相机碰撞体定义"></a>四.1. <strong>物体的相机碰撞体定义</strong></h2><p>-我们需要定义某个物体的相机碰撞体，这个碰撞体的作用就是用来和相机或者相机摇臂发生碰撞的，从而进行碰撞后的处理的</p><p>-一般情况下程序支持根据物体的模型，自动生成相机的碰撞体。同时也需要支持相机碰撞体的手动添加、删除和修改</p><p>-我们可以定义这个碰撞体和相机的碰撞发生类型，同时也可以定义碰撞发生后的处理方式 </p><h2 id="四-2-相机碰撞体的碰撞类型和碰撞处理"><a href="#四-2-相机碰撞体的碰撞类型和碰撞处理" class="headerlink" title="四.2. 相机碰撞体的碰撞类型和碰撞处理"></a>四.2. <strong>相机碰撞体的碰撞类型和碰撞处理</strong></h2><p>-碰撞类型类型1:与摇臂碰撞，造成摇臂遮挡 </p><p>​    -此种类型下，有如下两种处理方式</p><p>​    -摇臂遮挡后的相机拉近</p><p>​    -摇臂遮挡后的物体外显隐藏</p><p>-碰撞类型类型2:与相机碰撞，造成相机探视到物体模型内部</p><p>​    -此种类型下，有如下一种处理方式</p><p>​    -相机碰撞后的物体外显隐藏</p><h1 id="第五章-相机的摇臂遮挡"><a href="#第五章-相机的摇臂遮挡" class="headerlink" title="第五章 相机的摇臂遮挡"></a>第五章 <strong>相机的摇臂遮挡</strong></h1><h2 id="五-1-摇臂遮挡的相机拉近处理"><a href="#五-1-摇臂遮挡的相机拉近处理" class="headerlink" title="五.1. 摇臂遮挡的相机拉近处理"></a>五.1. <strong>摇臂遮挡的相机拉近处理</strong></h2><p>-当焦点和视点的整条摇臂线上出现使相机拉近的遮挡物，这个时候就需要对相机进行拉近处理</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps110.jpg" alt="img"> </p><p>-相机拉近处理的方式</p><p>​    -此种处理是当碰撞发生的瞬间，镜头会缩短摇臂且****瞬间****拉近到一个由程序计算的合法位置(最短运动距离让摇臂线无遮挡的位置)，我们可看如下示例帮助理解</p><p>​        -示例:假设某个遮挡物突然出现在相机和角色之间，对摇臂进行了遮挡。此时相机摇臂会瞬间(一次tick时间)缩短，是相机盒处在缩短后最远距离无碰撞的位置上</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps111.jpg" alt="img"> </p><p>​    -游戏中的摇臂遮挡拉近示意</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps112.png" alt="img"> </p><p>6-FF7中碰撞后的相机拉近</p><p>-碰撞镜头拉近后的摇臂长度复位</p><p>​    -当结束碰撞后，需要将相机摇臂长度复位</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps113.png" alt="img"> </p><p>7-原神摇臂复位参考</p><p>​        -如下图所示，摇臂初始长度为d</p><p>​        -当角色向右移动时相机摇臂和遮挡物发生碰撞，相机被拉近</p><p>​        -在碰撞的过程中，摇臂就像一个自然长度为d的可压缩的弹簧，时刻想恢复d的长度</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps114.jpg" alt="img"> </p><p>​    -摇臂长度的复位需要一个差值过度的过程</p><p>​        -为了防止镜头的跳变，弹簧臂的长度复位过程并不是瞬间的</p><p>​        -需要以一定速度的差值过度</p><p>​        -摇臂长度复位的插值速度是一个全局的常量，可以配置</p><p>​    -摇臂长度复位期间的操作响应</p><p>​        -摇臂长度复位期间，响应玩家对摇臂长度的操作，并且打断当前复位过程</p><p>​        -因为复位是个相对缓的过程，这个过程玩家的操作必然需要响应，否则操作阻塞感会很重</p><h2 id="五-2-摇臂遮挡后的遮挡物外显隐藏"><a href="#五-2-摇臂遮挡后的遮挡物外显隐藏" class="headerlink" title="五.2. 摇臂遮挡后的遮挡物外显隐藏"></a>五.2. <strong>摇臂遮挡后的遮挡物外显隐藏</strong></h2><p>-这种方式常见应用于树木中树叶的遮挡</p><p>​    -如下图原神的处理方式是遮挡后整体树叶部分会由原先的状态过渡成固定透明度的半透状态</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps115.png" alt="img"> </p><p>8-原神树叶遮挡摇臂后的半透处理</p><p>​    -需要支持物体和相机摇臂碰撞产生摇臂遮挡后，对物体进行半透化的处理</p><p>​        -需要有透明度参数配置</p><p>​        -具体透明的效果由美术把控</p><h1 id="第六章-相机的碰撞"><a href="#第六章-相机的碰撞" class="headerlink" title="第六章 相机的碰撞"></a>第六章 <strong>相机的碰撞</strong></h1><h2 id="六-1-相机碰撞后的遮挡物外显隐藏处理"><a href="#六-1-相机碰撞后的遮挡物外显隐藏处理" class="headerlink" title="六.1. 相机碰撞后的遮挡物外显隐藏处理"></a>六.1. <strong>相机碰撞后的遮挡物外显隐藏处理</strong></h2><p>-这种碰撞类型，常见于场景中的NPC和怪物，他们会遮挡摇臂并且不进行处理，但是为了防止镜头穿到其模型内部，我们需要“相机碰撞”来对物体的外显进行隐藏处理。对于物体隐藏的处理，一般常见的有两种方案，具体选哪种方案需要看具体美术</p><p>-方案一:类似原神，发生碰撞后物体会进入半透状态，继续拉近相机物体透明度逐渐变低，直到达到某个位置完全隐藏</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps116.png" alt="img"> </p><p>​    -相机碰撞的判定方式</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps117.jpg" alt="img"> </p><p>​        -示意图说明:这是一个俯视角的示意图，其中</p><p>² 紫线代表相机的视锥体的俯视图截面</p><p>² 蓝色虚线代表相机的模型开始隐藏判定体</p><p>² 红色虚线代表相机的模型完全隐藏判定体</p><p>​        -举例一个配置了和相机发生碰撞隐藏模型的NPC</p><p>² 当他的相机碰撞体和相机的模型隐藏判定体(上图蓝圈)产生碰撞，并且该NPC至少有一部分处在视锥体的范围内，则该NPC会触发模型隐藏的处理，以一定透明度开始隐藏</p><p>² 随着模型越来越靠近上图红圈范围，物体透明度越来越高，直到和红圈产生碰撞，物体完全隐藏</p><p>² 如果此时NPC远离红圈范围透明度逐渐恢复，直至离开蓝圈范围，NPC外显恢复至完全正常状态</p><p>-方案二:类似FF7，无半透的过程状态。发生碰撞后物体有个消失过程直接消失，碰撞结束后物体有个显示过程直接显示</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps118.png" alt="img"> </p><p>​    -相机碰撞的判定方式</p><p><img src="/2023/08/11/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80%E9%9C%80%E6%B1%82/wps119.jpg" alt="img"> </p><p>​        -示意图说明:这是一个俯视角的示意图，其中</p><p>² 紫线代表相机的视锥体的俯视图截面</p><p>² 蓝色虚线代表相机的模型隐藏判定体</p><p>​        -举例一个配置了和相机发生碰撞隐藏模型的NPC</p><p>² 当他的相机碰撞体和相机的模型隐藏判定体(上图蓝圈)产生碰撞，并且该NPC至少有一部分处在视锥体的范围内，则该NPC会进行隐藏。当期离开蓝圈范围后，该NPC会显示出来</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 相机 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>任务系统</title>
      <link href="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="一、概述"><a href="#一、概述" class="headerlink" title="*一、概述*"></a><em><strong>*一、概述*</strong></em></h2><p>本文档为A3项目任务系统最简框架的需求文档，第一版仅包含以下基础功能</p><p>　　　　单个任务流程及任务状态流转</p><p>　　　　多个任务之间的串联，可形成单链式、分支式、并行式任务结构</p><p>　　　　　　　　通过满足不同条件，进入不同的后续任务分支</p><p>　　　　任务状态流转条件包括进出区域、播放剧情、打怪、npc对话和交互</p><p>　　　　任务初版界面</p><h2 id="二、设计目的"><a href="#二、设计目的" class="headerlink" title="*二、设计目的*"></a><em><strong>*二、设计目的*</strong></em></h2><p>为玩家树立游戏内的一系列目标，对玩家进行引导</p><p>通过任务串联起游戏内的剧情、战斗、箱庭等玩法</p><p>达成目标后给予奖励反馈，刺激玩家继续游戏的行为</p><h2 id="三、功能逻辑"><a href="#三、功能逻辑" class="headerlink" title="*三、功能逻辑*"></a><em><strong>*三、功能逻辑*</strong></em></h2><h3 id="3-1-任务整体结构"><a href="#3-1-任务整体结构" class="headerlink" title="3.1　任务整体结构"></a>3.1　任务整体结构</h3><p>游戏内的所有任务由不同任务类型的多个任务构成</p><p>任务之间通过前置任务及额外条件，可形成以下结构</p><p>　　　　单链式</p><p>　　　　　　　　完成上一个任务后解锁后续的一个任务</p><p>　　　　　　　　后续任务也可以有额外的解锁条件，即需要完成上一个任务且在满足该额外解锁条件后，后续任务才解锁</p><p>　　　　分支式</p><p>　　　　　　　　完成上一个任务后，解锁后续多个任务中的其中某一个任务</p><p>　　　　　　　　根据后续各个任务的解锁条件，进入不同任务分支</p><p>　　　　并行式</p><p>　　　　　　　　完成上一个任务后，可同时解锁后续多个任务</p><p>　　　　　　　　多个并行任务可以在完成其中一个或若干个任务后解锁后续任务，具体由策划配置</p><p>后续追踪任务</p><p>　　　　每个任务后面可以配置后续自动追踪的任务，使得任务体验更加流畅</p><p>　　　　　　　　若未配置，则该任务完成后，自动追踪该任务id+1的任务（大部分情况）</p><p>　　　　　　　　若配置-1，则该任务完成后，不自动追踪任何任务（任务链结束的情况下）</p><p>　　　　　　　　若配置一个任务id，则该任务结束后，自动追踪配置id的任务</p><p>　　　　　　　　若配置多个任务id，则按配置顺序追踪第一个已解锁的任务</p><p>　　　　如果后续追踪任务id未找到或任务未解锁、任务已完成（且无法再次刷新），则不追踪任何任务</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/image-20230811153730832.png" alt="image-20230811153730832"></p><p>任务结构示意</p><h3 id="3-2-任务类型"><a href="#3-2-任务类型" class="headerlink" title="3.2　任务类型"></a>3.2　任务类型</h3><p>任务需要区分多种不同的类型</p><p>　　　　主线任务</p><p>　　　　　　　　承载游戏核心故事内容的一次性任务</p><p>　　　　　　　　贯穿游戏整个生命周期</p><p>　　　　　　　　随版本更新不断延长</p><p>　　　　支线任务</p><p>　　　　　　　　承载游戏非核心故事内容以及游戏体验引导的一次性任务</p><p>　　　　其他类型</p><p>　　　　　　　　后续可能会扩展更多任务类型</p><p>　　　　　　　　如地区任务、角色任务等一次性任务、日常任务、周常任务等周期性任务</p><p>　　　　　　　　其他类型的任务会在后续版本明确具体需求，第一版任务系统先不做</p><h3 id="3-3-单任务流程"><a href="#3-3-单任务流程" class="headerlink" title="3.3　单任务流程"></a>3.3　单任务流程</h3><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/image-20230811153752207.png" alt="image-20230811153752207"></p><p>单任务状态流转流程图</p><p>　</p><h4 id="3-3-1-任务状态及状态流转"><a href="#3-3-1-任务状态及状态流转" class="headerlink" title="*3.3.1　任务状态及状态流转*"></a><em><strong>*3.3.1　任务状态及状态流转*</strong></em></h4><p>单个任务有多种不同的状态，任何一个任务在某一时刻必然处于其中一种状态下</p><p>当满足状态流转条件后，任务会从当前状态流转到另一个状态</p><p>任务状态及状态流转过程</p><p>　　　　未解锁</p><p>　　　　　　　　未完成前置任务或未满足解锁条件时，任务处于未解锁状态</p><p>　　　　　　　　该状态下满足解锁条件后，流转到待接取状态</p><p>　　　　待接取</p><p>　　　　　　　　完成前置任务且满足解锁条件时，任务进入待接取状态</p><p>　　　　　　　　该状态下满足接取条件后，流转到进行中状态</p><p>　　　　进行中</p><p>　　　　　　　　满足接取条件后，任务进入进行中状态</p><p>　　　　　　　　该状态下满足交付条件后，流转到待交付状态</p><p>　　　　待交付</p><p>　　　　　　　　满足交付条件后，任务进入待交付状态</p><p>　　　　　　　　该状态下满足完成条件后，流转到完成状态</p><p>　　　　完成</p><p>　　　　　　　　满足完成条件后，任务变成完成状态</p><p>　　　　　　　　任务完成后，获得任务奖励</p><p>　　　　　　　　一次性任务完成后，该任务结束，无法重新进行</p><p>　　　　　　　　部分周期性任务完成后，可能会重新刷新，允许玩家再次进行，第一版任务功能暂不涉及</p><h4 id="3-3-2-任务占用角色"><a href="#3-3-2-任务占用角色" class="headerlink" title="*3.3.2　任务占用角色*"></a><em><strong>*3.3.2　任务占用角色*</strong></em></h4><p>相同角色的判断</p><p>　　　　多个实例id但都对应相同NPC模板id的NPC，视为同一个角色</p><p>　　　　同一个角色在同一时刻不能出现多个，即同一时刻对应相同模板id的多个实例id中只能显示一个，其他实例id都要隐藏</p><p>任务占用角色</p><p>　　　　已解锁尚未完成的任务，即处于待接取、进行中、待交付状态时，若任务配置了占用指定箱庭的指定的任务类型的NPC实例id，则该NPC实例对应的模板id的角色被该任务占用</p><p>　　　　此时该角色其他实例都要被隐藏</p><p>角色占用冲突</p><p>　　　　当某个角色已被另一个任务占用，此时某个任务想要占用该角色的不同实例，则此任务发生角色占用冲突，无法占用这个角色，同时此任务中断，不能继续推进</p><p>　　　　发生角色冲突的任务，任务界面上会有冲突提示</p><p>角色占用的释放</p><p>　　　　当前占用某个角色的任务完成后，若没有任何任务需要占用该角色，则该角色非任务类型的NPC实例id从隐藏状态恢复显示</p><p>角色的继续占用</p><p>　　　　当前占用某个角色的任务完成后，若后续任务需要占用的所有角色当前未被其他任务占用，且则这些角色立刻被该后续任务占用，保证任务链的流畅进行</p><p>　　　　继续占用的情况下，角色没有先消失再出现的过程，应该继续显示，动作、巡逻等继续进行</p><p>　　　　　　　　例：任务1占用A→任务2占用AB，另一个任务101占用AB但冲突</p><p>　　　　　　　　任务1占用着A、101处于占用冲突，当任务1完成后，优先让后续任务2占用AB，101还是冲突</p><p>　　　　若后续任务需要占用的部分角色已被其他任务占用，则该任务处于占用冲突</p><p>　　　　　　　　例：任务1占用AB→任务2占用ABC，另一个任务101占用C</p><p>　　　　　　　　任务1和任务101可以同时做，但是做完任务1，任务2需要占用的C已经被101占了，任务2就冲突了</p><p>　　　　当前占用某个角色的任务完成后，若后续任务不再占用该角色，但有其他多个任务想要占用该角色，则按照优先级判断该角色由哪个任务占用</p><p>　　　　　　　　优先按类型占用：主线任务优先、支线任务其次</p><p>　　　　　　　　相同类型时：任务id小的优先</p><h4 id="3-3-3-任务进度重置"><a href="#3-3-3-任务进度重置" class="headerlink" title="*3.3.3　任务进度重置*"></a><em><strong>*3.3.3　任务进度重置*</strong></em></h4><p>当任务处于角色占用冲突时，玩家可以在任务界面上点击“开始追踪”让该任务强制占用角色，以推进任务，但当前占用角色任务进度会被重置，状态回到待接取</p><p>发生角色占用冲突的任务，当点击任务界面的“开始追踪”后，会先弹出强制做该任务的确认弹窗，弹窗中显示即将被重置进度的其他任务名称以及这些任务在到达当前状态前已达成所有条件的文案</p><p>　　　　例：任务1占用A，任务2占用B，任务101占用AB</p><p>　　　　　　　　任务1接取条件是和A对话、交付条件是打10只怪A、完成条件是和A汇报，当前已经完成了前两步，还差最后一步</p><p>　　　　　　　　任务2接取条件是自动接取、交付条件抵达指定地点、完成条件是和B对话，当前还没有达成交付条件</p><p>　　　　玩家现在只能做1或2，不能做101</p><p>　　　　如果强制做101，则任务1和2的进度会被重置</p><p>　　　　任务进度重置提示显示以下内容</p><p>　　　　　　　　任务1</p><p>和A对话√</p><p>击败10只怪物√</p><p>和A汇报→</p><p>　　　　　　　　任务2</p><p>抵达指定地点→</p><p>任务进度重置</p><p>　　　　被重置进度的任务，状态会回到待接取</p><p>　　　　　　　　被重置进度的任务必定显示在任务列表中，即便任务配置待接取状态不显示在列表中</p><p>　　　　任务被重置进度后，会发生角色占用冲突，直到该角色被其他任务释放，并重新被该任务占用，该任务可继续推进</p><h3 id="3-4-任务条件"><a href="#3-4-任务条件" class="headerlink" title="3.4　任务条件"></a>3.4　任务条件</h3><h4 id="3-4-1-子条件复合"><a href="#3-4-1-子条件复合" class="headerlink" title="*3.4.1　子条件复合*"></a><em><strong>*3.4.1　子条件复合*</strong></em></h4><p>支持配置一个或多个子条件，多个子条件之间通过且或关系复合为一个完整的条件</p><p>　　　　如与三个人都进行对话：A且B且C</p><p>　　　　如与三个人中的任意一个人进行对话：A或B或C</p><h4 id="3-4-2-子条件类型说明及参数"><a href="#3-4-2-子条件类型说明及参数" class="headerlink" title="*3.4.2　子条件类型说明及参数*"></a><em><strong>*3.4.2　子条件类型说明及参数*</strong></em></h4><p>始终满足</p><p>　　　　直接满足，任务直接流转到下一状态</p><p>　　　　参数配置：无</p><p>进出区域及播放b类剧情</p><p>　　　　进入或离开指定箱庭的指定区域，进入或离开后可播放某个B类剧情</p><p>　　　　条件达成判断</p><p>　　　　　　　　若配置了剧情，则需要在剧情播放完成后视为条件达成</p><p>若剧情未播放完之前退出游戏，返回游戏后需要重新判断进出区域及播放剧情</p><p>　　　　　　　　若未配置剧情，则在进入或离开区域那一刻视为条件达成</p><p>　　　　参数配置</p><p>　　　　　　　　参数1：箱庭id</p><p>　　　　　　　　参数2：区域id</p><p>　　　　　　　　参数3：1进&#x2F;2出</p><p>　　　　　　　　参数4：剧情章节id，若未配置则不需要播放剧情</p><p>打怪</p><p>　　　　击杀指定箱庭内指定怪物组内的全部或某个怪物</p><p>　　　　条件达成判断</p><p>　　　　　　　　进入该任务状态后，才开始对击杀目标的怪物进行击杀计数，即进入状态前击杀的怪物数量无效</p><p>　　　　　　　　当所有目标怪物均被击杀一次后，视为条件达成</p><p>　　　　参数配置</p><p>　　　　　　　　参数1：箱庭id</p><p>　　　　　　　　参数2：怪物组id</p><p>　　　　　　　　参数3：怪物id，若未配置具体怪物id则代表需要击杀该怪物组内所有怪物</p><p>NPC对话</p><p>　　　　和指定箱庭内指定NPC完成指定的交互内容</p><p>　　　　条件达成判断</p><p>　　　　　　　　若指定交互内容会播放指定的b类剧情</p><p>则需要在该b类剧情结束后才视为条件达成</p><p>若在b类剧情播放过程中退出游戏，返回游戏后需要重新跟该npc进行交互并完成该b类剧情</p><p>　　　　　　　　若指定交互内容不播放b类剧情，为普通对话或者任务选项</p><p>则需要在完成该句对话或选了该选项，且完成后续所有对话内容并结束和该npc的交互后才视为条件达成</p><p>若在后续对话内容未结束前退出游戏，返回游戏后需要重新跟该npc进行交互</p><p>　　　　参数配置</p><p>　　　　　　　　参数1：箱庭id</p><p>　　　　　　　　参数2：NPC的id</p><p>　　　　　　　　参数3：对话id</p><p>交互</p><p>　　　　完成和指定箱庭内的指定交互物之间的交互</p><p>　　　　条件达成判断</p><p>　　　　　　　　如果交互物有交互展示过程（如电梯运行动画），需要在过程结束后视为条件达成</p><p>　　　　　　　　若展示过程中退出游戏，返回游戏后需要重新和交互物进行交互</p><p>　　　　参数配置</p><p>　　　　　　　　参数1：箱庭id</p><p>　　　　　　　　参数2：交互物id</p><p>其他类型条件后续扩充，第一版仅实现上述几种条件类型即可</p><h2 id="四、-配置结构"><a href="#四、-配置结构" class="headerlink" title="四、*配置结构*"></a><strong>四、</strong><em><strong>*配置结构*</strong></em></h2><h3 id="4-1-任务表"><a href="#4-1-任务表" class="headerlink" title="4.1　任务表"></a>4.1　任务表</h3><table><thead><tr><th>数据名称</th><th>数据类型</th><th>数据说明</th><th>配置格式</th></tr></thead><tbody><tr><td>任务id</td><td>int</td><td>任务唯一id</td><td>1</td></tr><tr><td>任务类型</td><td>int</td><td>任务类型枚举值1：主线2：支线</td><td>1</td></tr><tr><td>任务名称</td><td>string</td><td>任务名称会显示在界面中</td><td></td></tr><tr><td>任务描述</td><td>string</td><td>任务详细描述文案会显示在界面中</td><td></td></tr><tr><td>前置任务</td><td>string</td><td>前置任务id支持配置多个任务id及且或关系</td><td>12&amp;34|5|6</td></tr><tr><td>解锁条件</td><td>string</td><td>条件类型,条件参数1,条件参数2,……支持配置多个子条件参数及各子条件之间的且或关系</td><td>12,5604,1,100101998(2,5604,1,100101998)&amp;(3,5602,1)(4,5604,1103000100,4)|(5,5604,1)</td></tr><tr><td>接取条件</td><td>string</td><td>同解锁条件</td><td></td></tr><tr><td>接取条件文案</td><td>string</td><td>接取条件文案</td><td></td></tr><tr><td>交付条件</td><td>string</td><td>同解锁条件</td><td></td></tr><tr><td>交付条件文案</td><td>string</td><td>交付条件文案</td><td></td></tr><tr><td>完成条件</td><td>string</td><td>同解锁条件</td><td></td></tr><tr><td>完成条件文案</td><td>string</td><td>完成条件文案</td><td></td></tr><tr><td>任务奖励</td><td>int</td><td>掉落id</td><td></td></tr><tr><td>后续任务自动追踪</td><td>int;</td><td>完成该任务后自动继续追踪的任务用于任务界面²　若未配置则当前任务完成后自动追踪id为当前任务id+1的任务（大部分情况）²　若配-1则不自动追踪²　若配置≥0的一个或多个任务id，则自动追踪第一个已解锁的任务</td><td>-123;4</td></tr><tr><td>占用NPC</td><td>string</td><td>占用指定箱庭的NPC实例</td><td>5604,1001;5604,1002;5602,1001;</td></tr><tr><td>待接取状态是否显示在任务界面中</td><td>bool</td><td>可不填，视为true</td><td>False</td></tr></tbody></table><h3 id="4-2-常量表"><a href="#4-2-常量表" class="headerlink" title="4.2　常量表"></a>4.2　常量表</h3><table><thead><tr><th>数据名称</th><th>数据类型</th><th>数据说明</th><th>配置格式</th></tr></thead><tbody><tr><td>切换自动追踪任务的等待时间</td><td>Float</td><td>配置时间参数，单位为秒支持小数</td><td>5.5</td></tr></tbody></table><p>　</p><h2 id="五、-界面"><a href="#五、-界面" class="headerlink" title="五、*界面*"></a><strong>五、</strong><em><strong>*界面*</strong></em></h2><h3 id="5-1-任务界面"><a href="#5-1-任务界面" class="headerlink" title="5.1　任务界面"></a>5.1　任务界面</h3><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps77.jpg" alt="img"></p><h4 id="5-1-1顶部区域"><a href="#5-1-1顶部区域" class="headerlink" title="*5.1.1顶部区域*"></a><em><strong>*5.1.1顶部区域*</strong></em></h4><p>任务类型页签图标</p><p>　　　　居中显示全部及各任务类型的图标</p><p>　　　　　　　　第一版只做全部、主线、支线三种（图里多摆了几个图标，仅示意用）</p><p>　　　　打开任务界面后，默认选择“全部”，可点击其他图标切换所选页签</p><p>　　　　页签图标根据状态显示不同的样式</p><p>　　　　　　　　从左到右依次为当前选中状态、鼠标悬停状态、非选中状态</p><p>　　　　　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps78.jpg" alt="img"></p><p>　　　　界面左上角显示当前选中的页签文案：全部任务、主线任务、支线任务</p><p>　　　　　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps79.jpg" alt="img"></p><p>关闭按钮</p><p>　　　　界面右上角显示关闭按钮</p><p>　　　　键盘按ESC键或鼠标点击按钮后关闭任务界面，回到打开任务界面前的界面</p><p>　</p><h4 id="5-1-2任务列表区域"><a href="#5-1-2任务列表区域" class="headerlink" title="*5.1.2任务列表区域*"></a><em><strong>*5.1.2任务列表区域*</strong></em></h4><p>任务列表显示当前所选任务类型页签内的所有任务</p><p>　　　　当顶部页签仅选择某一个类型的任务，则只显示该类型文案及该任务类型当前处于待接取（配置了待接取状态显示在任务列表中）、进行中、待交付状态的所有任务的条目，各条目由上至下根据任务id升序排列</p><p>　　　　当顶部页签选择全部任务时，列表区域由上到下依次显示主线任务、支线任务（、角色任务等）</p><p>　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps80.jpg" alt="img">　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps81.jpg" alt="img"></p><p>选择“全部任务”时选择“角色任务”时</p><p>任务条目</p><p>　　　　任务名称</p><p>　　　　　　　　每个任务条目显示该任务名称文案</p><p>　　　　　　　　最多显示十二个全角字符，超出部分不再显示</p><p>　　　　任务状态图标</p><p>　　　　　　　　若任务处于特殊状态，在任务条目右侧显示状态提示图标，图标右侧对其</p><p>　　　　　　　　当任务处于待接取状态时，显示特殊的接取图标</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps82.jpg" alt="img"></p><p>　　　　　　　　当任务处于待交付状态时，显示特殊的交付图标</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps83.jpg" alt="img"></p><p>　　　　任务追踪图标</p><p>　　　　　　　　玩家最多可对一个任务进行追踪（点击任务详情区域右下角追踪按钮）</p><p>　　　　　　　　当前处于追踪中的任务，会在任务条目左侧显示特殊追踪图标</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps84.jpg" alt="img"></p><p>　　　　选中状态与非选中状态</p><p>　　　　　　　　列表内任务条目选中规则</p><p>当选中某个页签时，若该页签内没有任务，则显示特殊的无任务样式</p><p>　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps85.jpg" alt="img"></p><p>当选中某个页签时，若当前页签内包含正在追踪中的任务，则选中该任务</p><p>当选中某个页签时，若当前页签内不包含正在追踪中的任务，则选中列表内的第一个任务条目</p><p>　　　　　　　　点击列表内某个非选中状态的任务条目，可选中该条目</p><p>　　　　　　　　选中状态与非选中状态面板样式不同</p><p>选中状态与非选中状态</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps86.jpg" alt="img"></p><p>任务列表滑条</p><p>　　　　当任务列表无法显示当前全部任务条目时，右侧需要显示滑条</p><p>　　　　　　　　当鼠标位于列表区域内时，可通过话动鼠标滚轮或者鼠标按住左键不放并上下拖拽，对列表进行上下滑动</p><p>　　　　　　　　当拉到最顶端或最底端后，不可再继续移动</p><p>　　　　滑条与滑块的显示</p><p>　　　　　　　　滑条长度根据任务列表区域长度&#x2F;任务条目总长度来显示</p><p>　　　　　　　　滑块的位置根据当前任务条目区域在任务列表中的区域范围显示</p><p>　　　　　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps87.jpg" alt="img"></p><p>　　　　滑条的默认位置</p><p>　　　　　　　　当选中某个页签时，当前页前不包含正在追踪中的任务，则显示列表的最顶端</p><p>　　　　　　　　当选中某个页签时，若当前页签包含正在追踪中的任务，则尝试将该任务置于列表内上下居中的位置上，若无法居中则保持在列表最顶端或最底端</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps88.jpg" alt="img">　</p><p>　</p><h4 id="5-1-3任务详情区域"><a href="#5-1-3任务详情区域" class="headerlink" title="*5.1.3任务详情区域*"></a><em><strong>*5.1.3任务详情区域*</strong></em></h4><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps89.jpg" alt="img">　</p><p>任务详情区域显示任务列表中选中任务的详细信息</p><p>任务名称</p><p>　　　　显示该任务的名称</p><p>任务目标所在箱庭</p><p>　　　　显示当前任务状态切换条件中配置的目标对应的箱庭</p><p>　　　　根据条件类型可直接读取箱庭id，显示该箱庭id配置的箱庭名称</p><p>　　　　目前条件类型都和箱庭有关</p><p>任务目标文案</p><p>　　　　显示当前任务状态切换条件配置的目标文案</p><p>任务描述文案</p><p>　　　　显示该任务配置的描述文案</p><p>任务奖励</p><p>　　　　显示该奖励掉落id里的道具图标及数量</p><p>　　　　若道具图标个数超出显示范围，则最右侧图标显示一半</p><p>　　　　在奖励显示区域按住鼠标左键左右拖拽，最多只能拖拽到最左端或最右端</p><p>　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps90.jpg" alt="img"></p><p>角色占用冲突提示</p><p>　　　　当任务发生角色占用冲突时，显示冲突提示</p><p>　　　　点击冲突提示，弹出冲突详情Tips</p><p>　　　　详情Tips逐条显示正在被占用的NPC名称以及占用该NPC的任务名</p><p>　　　　　　　　根据条目数量，整体上下居中显示</p><p>　　　　　　　　如果条目过多超出显示区域，则最后显示半行，提示玩家上下话动查看全部条目</p><p>　　　　　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps91.jpg" alt="img"></p><p>任务追踪按钮</p><p>　　　　若当前任务为非追踪状态，且不处于角色冲突状态，按钮显示“开始追踪”</p><p>　　　　　　　　点击按钮后，则该任务设为追踪中，将之前追踪中的任务取消追踪</p><p>　　　　　　　　任务列表中条目上的追踪图标也要刷新</p><p>　　　　若当前任务为非追踪状态，处于角色冲突状态，按钮显示“开始追踪”</p><p>　　　　　　　　点击按钮后，弹出放弃任务确认弹窗</p><p>　　　　　　　　弹窗中显示所有占用角色的任务以及该任务流转到当前状态前已达成的所有状态切换条件文案以及当前状态切换到下一状态的条件文案</p><p>已达成的和当前未达成的需要通过不同的图标区别显示</p><p>根据条目数量，整体上下居中显示</p><p>如果条目过多超出显示区域，则最后显示半行，提示玩家上下话动查看全部条目</p><p>　　　　　　　　若玩家点击确认放弃，则放弃上述所有任务，并且使当前任务占用该角色</p><p>　　　　　　　　<img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps92.jpg" alt="img"></p><p>　　　　若当前任务为追踪状态，按钮显示“取消追踪”</p><p>　　　　　　　　点击按钮后，取消对该任务的追踪</p><p>　　　　　　　　任务列表中条目上的追踪图标也要刷新</p><h3 id="5-2-主界面"><a href="#5-2-主界面" class="headerlink" title="5.2　主界面"></a>5.2　主界面</h3><h4 id="5-2-1任务图标"><a href="#5-2-1任务图标" class="headerlink" title="*5.2.1任务图标*"></a><em><strong>*5.2.1任务图标*</strong></em></h4><p>点击任务图标或者在主界面按J键，打开任务界面</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps93.jpg" alt="img"></p><h4 id="5-2-2追踪中的任务"><a href="#5-2-2追踪中的任务" class="headerlink" title="*5.2.2追踪中的任务*"></a><em><strong>*5.2.2追踪中的任务*</strong></em></h4><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps94.jpg" alt="img"></p><p>显示当前追踪中任务的类型图标、任务名称、状态切换条件文案、提示文字</p><p>　　　　若没有任何追踪中的任务，则此处不显示</p><p>任务图标</p><p>　　　　显示当前追踪中的任务的类型图标</p><p>　　　　与任务界面类型图标一致</p><p>任务名称</p><p>　　　　显示当前追踪中的任务的名称</p><p>状态切换条件文案</p><p>　　　　显示当前追踪中的任务，当前状态切换条件文案</p><p>提示文字</p><p>　　　　前往箱庭提示</p><p>　　　　　　　　若玩家当前不在状态切换条件目标所在箱庭，提示文字为“请前往XXX”，XXX为箱庭名称</p><p>此时按V键可前往目标箱庭（目前先直接传送到目标箱庭，之后有世界地图功能后，可能会改为打开目标箱庭小地图）</p><p>　　　　　　　　若玩家当前处于状态切换条件目标所在箱庭内，则不显示该提示，按V键无效</p><p>　　　　切换追踪任务提示</p><p>　　　　　　　　当玩家正在追踪任务A或者没有正在追踪的任务</p><p>　　　　　　　　此时玩家完成了某个非追踪中的任务B，且该任务有后续追踪任务C，且C没有角色占用冲突</p><p>　　　　　　　　主界面任务显示会短暂替换为任务C，询问玩家是否切换追踪任务C，显示持续x秒，x为常量配置，提示文字为“点击追踪”</p><p>若玩家在x秒内按V或点击提示文字，则开始追踪任务C</p><p>若玩家未在x秒内按V或点击提示文字，则不追踪任务C，仍旧追踪之前的任务A或不追踪任何任务</p><h4 id="5-2-3目标指引图标"><a href="#5-2-3目标指引图标" class="headerlink" title="*5.2.3目标指引图标*"></a><em><strong>*5.2.3目标指引图标*</strong></em></h4><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps95.jpg" alt="img">　</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps96.jpg" alt="img">　</p><p>若当前追踪中任务状态切换条件目标位于箱庭内，则显示指引图标</p><p>若目标位于画面中央矩形范围内，则指引图标直接显示在目标位置上（如图1）</p><p>　　　　图标下方显示玩家与目标之间的直线距离</p><p>若目标位于画面中央矩形范围外，则指引图标停留在矩形边缘位置上，并通过箭头指向目标位置（如图2）</p><p>　　　　此时不需要显示玩家与目标之间的距离</p><h4 id="5-2-4任务奖励"><a href="#5-2-4任务奖励" class="headerlink" title="*5.2.4任务奖励*"></a><em><strong>*5.2.4任务奖励*</strong></em></h4><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/wps97.jpg" alt="img">　</p><p>任务完成后，根据掉落id，逐条显示获取的道具图标、道具名称、道具数量</p><p>最多显示N行（以UI设计为准）</p><p>若奖励条目≤N，则停留x秒后消失</p><p>若奖励条目＞N</p><p>　　　　则初始显示1-N行，停留y秒</p><p>　　　　之后列表开始向上滑动，速度可以配置</p><p>　　　　当最后一行的位置上显示出最后一个奖励条目后停止滑动</p><p>　　　　停留z秒后消失</p><p>　</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 叙事模块 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>任务编辑器</title>
      <link href="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/"/>
      <url>/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一、-设计目的"><a href="#一、-设计目的" class="headerlink" title="*一、    设计目的*"></a><em><strong>*一、    设计目的*</strong></em></h1><p>· 主旨是解决当前任务系统存在的四类问题： </p><p>　o 元数据（单个任务）不标准、未模板化，之前任务步骤的任务框架会影响后续编辑器对数据的统一操作。</p><p>　o 任务状态区分不明晰，这对后续引入编辑器以及维护任务会有很多麻烦。比如之前设定的任务进行条件（声望达到X、队伍中有Y等）与任务完成条件就存在很多耦合的地方。</p><p>　o 数据存储方式影响后续流程，比如多人编辑、多版本合并等。</p><p>　o 任务功能不全，比如条件逻辑关系（比如多条件判定、发奖与条件发奖等）</p><p>· 除此之外，在整理好任务功能后，还需要引入一套方便策划编辑的编辑器。这可以增加策划的工作效率，也能一定程度上避免配置错误的几率。</p><h1 id="二、-任务状态流程图"><a href="#二、-任务状态流程图" class="headerlink" title="*二、    任务状态流程图*"></a><em><strong>*二、    任务状态流程图*</strong></em></h1><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152121502.png" alt="image-20230811152121502"></p><h1 id="三、-功能概述"><a href="#三、-功能概述" class="headerlink" title="*三、    功能概述*"></a><em><strong>*三、    功能概述*</strong></em></h1><p>· 这版任务系统是以最小化的任务结构，对任务进行拆分的系统。</p><p>· 期望能以堆积木的方式组合出多种多样的复杂任务。</p><p>· 下文将以单个任务所涉及的任务状态为出发点，详述与之相关的任务系统。任务编辑器的存储、操作、界面相关功能，另起文档描述，本文仅在聊到具体任务系统功能时，会以任务编辑器的界面来举例，不详述编辑器界面本身。</p><h1 id="四、-任务状态与任务"><a href="#四、-任务状态与任务" class="headerlink" title="*四、    任务状态与任务*"></a><em><strong>*四、    任务状态与任务*</strong></em></h1><p>· 我们将任务状态区分为5个状态，如下： </p><p>　o 初始状态</p><p>　o 可接取状态</p><p>　o 接取未完成状态</p><p>　o 完成未交付状态</p><p>　o 交付发奖状态</p><p>· 任何一个任务，都可以用这五个状态，串联起来。</p><p>· 任何任务流程，都可以用这样的任务，串联起来。哪怕当前功能不支持，也可以在某个状态对应的配置里加功能来实现，不会改变基础的架构。</p><p>· 这5个状态，我们以一个简单的例子来进行展开，例子为“有个老大爷，家里的羊总是被三只狼叼走，需求有一个40级以上的玩家能帮他杀掉这三只狼，他会用3个金币作为回报。”</p><h3 id="4-1-任务状态时间线"><a href="#4-1-任务状态时间线" class="headerlink" title="*4.1      任务状态时间线*"></a><em><strong>*4.1      任务状态时间线*</strong></em></h3><p>· 上述例子与任务状态的变化也可线性的来看。</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152156739.png" alt="image-20230811152156739"></p><h3 id="4-2-初始状态"><a href="#4-2-初始状态" class="headerlink" title="*4.2      初始状态*"></a><em><strong>*4.2      初始状态*</strong></em></h3><p>· 当我们建立一个任务（通过编辑器）后，会配置这个任务相关的数据。但是，此时这个任务的数据只是在游戏内初始化了，还并未真正生效，这个状态，我们就称之为初始状态。</p><p>· 之所以要单立一个初始状态出来，除了是因为逻辑上可以这样划分，还因为玩家的数据是在变化的。当玩家的数据从不满足后续的“接取条件”到满足，在时间线上也确实可以划分出这么一段区间来。</p><h3 id="4-3-可接取状态"><a href="#4-3-可接取状态" class="headerlink" title="*4.3      可接取状态*"></a><em><strong>*4.3      可接取状态*</strong></em></h3><p>· 如上所述，当玩家的数据从不满足“接取条件”到满足的时候，任务的状态就从初始状态切换到了可接取状态。</p><p>· 如上述例子中，老大爷需求一个40级以上的玩家。所以，对于玩家来说，当自己的等级处于0-39级时，这个任务就是初始状态。当自己的等级处于40级及以上时，这个任务就是可接取状态（前提，以前没做过这个任务，不涉及重复完成等问题）。</p><h3 id="4-4-接取未完成状态"><a href="#4-4-接取未完成状态" class="headerlink" title="*4.4      接取未完成状态*"></a><em><strong>*4.4      接取未完成状态*</strong></em></h3><p>· 从玩家满足“接取条件”但没有去接取任务，到玩家满足“接取条件”且去找了老大爷接取任务时，任务的状态就从可接取状态切换到了接取未完成状态。</p><h3 id="4-5-完成未交付状态"><a href="#4-5-完成未交付状态" class="headerlink" title="*4.5      完成未交付状态*"></a><em><strong>*4.5      完成未交付状态*</strong></em></h3><p>· 玩家接到任务后，此时去山上（举例而已）杀那三只狼。当这三只狼都被玩家杀掉，但是玩家还没有回去告诉老大爷这段，就被称之为完成未交付状态。</p><h3 id="4-6-交付发奖"><a href="#4-6-交付发奖" class="headerlink" title="*4.6      交付发奖*"></a><em><strong>*4.6      交付发奖*</strong></em></h3><p>· 交付发奖状态分为两个状态： </p><p>　o 成功状态</p><p>　o 失败状态</p><p>· 成功状态就如上文，玩家告知老大爷（就是在交付任务），这个时候任务就完成了。但是需要注意的是，部分的任务需要处理为实际发奖发到玩家身上了或者说发奖完成了，才算任务完成，后文会提到（这部分与完成条件相对应就好了，详见下文）。</p><p>· 当玩家满足失败条件时，任务失败。根据配置走失败的相关的奖励和条件奖励。</p><h1 id="五、-任务流程与任务"><a href="#五、-任务流程与任务" class="headerlink" title="*五、    任务流程与任务*"></a><em><strong>*五、    任务流程与任务*</strong></em></h1><p>· 任务流程可以是整个剧情故事，也可以是某个剧情片段。</p><p>· 任务流程是逻辑概念，与功能无关。</p><p>· 这里提到任务流程，是为了理清楚任务与剧情之间的关系。</p><h3 id="5-1-任务流程举例"><a href="#5-1-任务流程举例" class="headerlink" title="*5.1      任务流程举例*"></a><em><strong>*5.1      任务流程举例*</strong></em></h3><p>· 上文中，以老大爷需求玩家杀狼的单个任务为例子，拆解了任务状态。</p><p>· 现在引入一段任务流程：“玩家来到长生村，想要调查长生的秘密。于是先找到了村长，了解情况。但村长不太信任玩家，想要玩家帮忙做三件事，才能透露信息。这三件事是，帮助村口的孩子小王抓蛐蛐；帮助村南的老大爷解决问题（上文提到的杀狼任务）；帮助村长把信带给村外哨站的保卫员阿强。“</p><h3 id="5-2-任务流程拆解"><a href="#5-2-任务流程拆解" class="headerlink" title="*5.2      任务流程拆解*"></a><em><strong>*5.2      任务流程拆解*</strong></em></h3><p>· 在上述任务流程中，我们可以拆分出7个任务： </p><p>　o 与村长的对话任务</p><p>　o 前往小王所在地的区域类任务</p><p>　o 抓蝈蝈的交互任务</p><p>　o 前往老大爷所在地的区域类任务</p><p>　o 杀狼的打怪任务</p><p>　o 前往村外哨站的区域类任务</p><p>　o 听村长讲述长生的秘密</p><h3 id="5-3-任务拆解"><a href="#5-3-任务拆解" class="headerlink" title="*5.3      任务拆解*"></a><em><strong>*5.3      任务拆解*</strong></em></h3><p>· 根据上文以老大爷为例的任务拆解，我们现在讲示例的任务流程按任务的各个状态拆解如下：</p><p>· <a href="https://wiki.h3d.com.cn/pages/viewpage.action?pageId=65204114">任务拆分示例 - JRPG - H3D Confluence</a></p><p>· 在拆解中，我们能够看到，一段剧情（整个故事，剧情片段，任务流程），可以拆解为多个任务。而每一个任务都是由五种状态组合而成的。</p><h1 id="六、-任务配置详述"><a href="#六、-任务配置详述" class="headerlink" title="*六、    任务配置详述*"></a><em><strong>*六、    任务配置详述*</strong></em></h1><p>· 有了前面的概念解析，下面我们来详细描述概念与配置之间的关系，以及配置相关的细节。对应关系图如下：</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152213041.png" alt="image-20230811152213041"></p><h3 id="6-1-任务全貌"><a href="#6-1-任务全貌" class="headerlink" title="*6.1      任务全貌*"></a><em><strong>*6.1      任务全貌*</strong></em></h3><p>· 主要用于配置任务基本信息，包括任务简介、任务显示、任务计次的相关功能。</p><h4 id="任务简介"><a href="#任务简介" class="headerlink" title="*任务简介*"></a><em><strong>*任务简介*</strong></em></h4><p>· 任务简介的整体配置项如下图所示，注意，所需功能按文字描述为准（因为在编辑器的部分还会涉及到配置项折叠的功能，下同）：</p><p>​    <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps42.jpg" alt="img"> </p><p>· 任务名字： </p><p>　o 显示上暂定限制6个字。</p><p>　o 需求任务名字支持RGB的十六进制标签配置，即如果任务名字是“少女与猫“，那么”#FF0000少女#与猫“，那么少女的字体颜色就是红色：“少女与猫”。</p><p>　o 正常任务名字如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps43.jpg" alt="img"></p><p>· 任务描述： </p><p>　o 这里指的是对于任务的详细描述，一般不显示在主界面，而是显示在任务面板中，如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps44.jpg" alt="img"></p><p>· 接取NPC： </p><p>　o 发放任务的NPC，也可以说是玩家可以从这个NPC 处，接取任务。</p><p>　o 当一个NPC（会出现这种情况的也只能是接取NPC）有可接取的任务时，这个NPC的头顶应该显示一个感叹号（UI类型，这里的感叹号需要支持根据不同的任务类型配置不同的颜色）。感叹号的可视范围随NPC的可视范围。</p><p>　o 当这个NPC身上的可接取的任务变为其他状态时，感叹号需要消失。</p><p>　o 配置一个NPC的模板ID。</p><p>　o 对应的NPC身上需要挂载这个任务（能让玩家在此处接取这个任务即可）。</p><p>　o 如果取消或更换了这个配置的NPC，则这个NPC需要去掉此任务（对应上述挂载）。</p><p>　o 玩家通过接取NPC接到任务后，任务状态由可接取状态变为接取未完成状态。注意，任务状态还有别的方式可以由可接取状态变为接取未完成状态，比如后文会提到的“满足条件自动接取”。</p><p>· 完成NPC </p><p>　o 用于玩家交付任务的NPC。即当玩家有完成未交付状态的任务，且需要找完成NPC交付时，与完成NPC交互（对话），可以让玩家的任务状态由完成未交付变为交付发奖。</p><p>　o 当一个NPC有可交付的任务时，NPC的头顶应该显示一个问号（UI类型，这里的问号需要支持根据不同的任务类型配置不同的颜色）。问号的可视范围随NPC的可视范围。</p><p>　o 当这个NPC身上的可交付的任务变为其他状态时，问号需要消失。</p><p>　o 配置一个NPC的模板ID。</p><p>　o 对应的NPC身上需要挂载这个任务（能知道对应任务到达完成未交付状态即可）。</p><p>　o 如果取消或更换了这个配置的NPC，则这个NPC需要去掉此任务（对应上述挂载）。</p><p>　o 任务的完成交付也不仅仅由NPC来实现，也可能出现“自动完成”的情况。这种情况下，就不需要完成NPC，任务（不用交付）直接发奖即可。</p><p>· 接取对话 </p><p>　o 当玩家接到任务时，会触发的对话（接取对话在前，接取任务在后）。对话形式比较简单，不涉及多机位、多NPC。仅仅是单NPC做动作（相比AVG更简单，易配置），如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps45.jpg" alt="img"></p><p>　o 对话可配置： </p><p>　　　§ NPC语音</p><p>　　　§ NPC动作</p><p>　　　§ NPC表情（如何和肢体动作是分开的话）</p><p>　　　§ NPC对话内容</p><p>　　　§ 玩家语音</p><p>　　　§ 玩家动作</p><p>　　　§ 玩家表情</p><p>　　　§ 玩家对话内容</p><p>　o 配置的内容可动态增加，比如（此界面由接取对话项后面的“编辑”按钮弹出）：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps46.jpg" alt="img"></p><p>　o 当玩家点击“增加对话”按钮后，就会整体出现蓝框内的配置项。初始时，这个面板只有“增加对话”这一个按钮。</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps47.jpg" alt="img"></p><p>　o 多次点击“增加对话”按钮，可增加多个蓝框配置。</p><p>　o 蓝框配置之间的关系为顺序对话，比如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps48.jpg" alt="img"></p><p>　o 如果此界面处于只有“增加按钮”，没有蓝框的情况，则认为没有配置接取对话。对于这种情况，在接任务时，就不出现接取对话框。</p><p>　o 这里还需要判断“NPC对白”与“玩家对白”： </p><p>　　　§ 如果“NPC对白”配置为空，也就是没配置内容，则跳过此“NPC对白”。</p><p>　　　§ 如果“玩家对白”配置为空，也就是没配置内容，则跳过此“玩家对白”。</p><p>　　　§ 比如上图中，如果把“据说是被暗鬼的某个组织带走了，最后是在城东出现。你能把这些贵族找回来吗？”去掉，则对话的顺序为： </p><p>　　　§ NPC说：最近，有贵族失踪了，闹得人心惶惶的。</p><p>　　　§ 玩家说：有什么线索吗？</p><p>　　　§ NPC说：没问题，包在我身上。</p><p>　o </p><p>​        注意，这里仅仅显示3次对话框，2次NPC的和1次玩家的。</p><p>　o </p><p>· 完成对话 </p><p>　o 和接取对话一样的编辑规则，只不过触发时机为任务的交付发奖之前，完成未交付之后。</p><p>　o 另外接取对话与完成对话不能用奖励来代替，因为在发AVG的同时，如果要发别的物品，就会出现显示问题。而且，特殊处理也会带来更多的问题。</p><p>· 任务类型 </p><p>　o 用于标记任务的类型，根据这个标签，就能对不同类型的任务进行定制化的功能补充，比如主线任务的首任务是初始就发到玩家身上且为初始被追踪的任务，又比如奇遇任务需要专门的任务触发界面等。</p><p>　o 任务分类规划以经验性的任务形式来分类，具体在开发过程中，不局限于此分类，根据实际需求进行扩充、删减。如下： </p><p>　　　§ 主线任务（极光任务，故事的主要展现）</p><p>　　　§ 支线任务（光灵任务，角色定制任务，用于展现角色性格、特点）</p><p>　　　§ 奇遇任务（暂不涉及，满足一定条件才发到玩家身上，需求初始状态计数）</p><p>　　　§ 区域任务（暂不涉及，对应激战2的区域任务，在一个区域内发生了一系列动态事件）</p><p>　　　§ 世界任务（暂不涉及，对应原神的世界任务，一次性任务，关联世界等级）</p><p>　　　§ 活动任务（暂不涉及，分类繁多，如节日任务，委托任务，甚至日常、周常这种与时间强相关的任务，后续考虑补充小分类）</p><p>　o 根据上述分类，我们主要对主线任务、支线任务进行简单区分与优先级排序。 </p><p>　　　§ 主线任务在任务面板界面优先级最高，排最上面，暂定为</p><p>　　　§ 支线任务在任务面板界面优先级次高，排在第二，暂定为</p><p>　　　§ 优先级以数字越小，优先级越高，这个不用配置，程序可写死，有需求再调整。</p><p>　　　§ 任务面板界面示例如下：</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152244467.png" alt="image-20230811152244467"></p><p>　o 主线任务和支线任务挂载在NPC上时，对应的可接取与可交付头标不同。这部分可以开放配置，也可策划给资源，程序写死，改动频率不高。</p><p>　o 举个例子，主线任务的可接取头标的问号是黄色的问号，而支线任务的可接取头标的问号是黄色外加地图有个菱形的问号，后续活动任务的可接取头标的问号是蓝色的问号等。</p><h4 id="任务显示"><a href="#任务显示" class="headerlink" title="*任务显示*"></a><em><strong>*任务显示*</strong></em></h4><p>· 任务显示的整体配置项如下：</p><p>​    <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps50.jpg" alt="img"></p><p>· 是否废弃任务，配置后，任务不在游戏内生效。这个项的作用在于，部分策划临时废弃了的任务，但是又不想删除配置，留待以后使用。</p><p>· 是否在任务栏隐藏，默认为隐藏。任务栏的规则，由于我们是选用原神的规则，而不是传统MMO的规则，所以，除了当前正在追踪的任务以外，所有任务都需要在任务栏隐藏，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps51.jpg" alt="img"></p><p>​      当有任务追踪时，如下图：</p><p>​      <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps52.jpg" alt="img"></p><p>​      传统MMO的任务栏会有很多任务，这里就不列举了。这里程序也可写死，不开放此功能。现阶段策划需求不强烈。</p><p>· 是否隐藏任务，指的是在任务面板隐藏（任务默认是不隐藏的），即玩家通过如下图的任务详情界面也找不到任务了：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps53.jpg" alt="img"></p><p>​      这类隐藏的任务，往往用于任务的衔接、玩家状态的判定、以及一些特殊功能需求。</p><p>· 任务接取时提示，即当玩家接到某个任务时，游戏内会有一个简单的提示，比如“接到任务”，此功能主要用于策划做任务调试。</p><p>· 任务完成时提示，同上。</p><p>· 是否显示任务状态头标，勾选后，对应的NPC就需要显示上述的“可接取”的感叹号，以及“可交付”的问号图标。如果一个NPC同时满足可接取与可交付的状态，则优先显示可交付的问号图标。</p><p>· 任务能否被查找，即当任务可接取时，是否在任务面板上显示，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps54.jpg" alt="img"></p><p>​     原神每日的委托任务和世界任务就是属于“任务能被查找”的。</p><p>​     但是部分在地图中的一些可接取的打怪等任务，仅仅在小地图上显示的，而不在上图的任务面板里显示。</p><p>· 是否自动检索任务，当，前一个任务的完成NPC和后一个任务的接取NPC是同一个，且前一个任务有完成对话，后一个任务有接取对话时，后一个任务勾选了此选项，则会自动弹出后一个任务的接取对话。 </p><p>　o 如果后一个NPC有多个任务，则判断后一个任务的接取条件，是否前置为上一个任务。优先展开前置条件为上一个任务的任务。</p><p>　o 如果有多个前置条件都是上一个任务的任务，则随机展开一个任务即可。</p><p>　o 这里的前置任务的条件指的条件里详细描述的“多个任务完成次数“。</p><h4 id="任务计次"><a href="#任务计次" class="headerlink" title="*任务计次*"></a><em><strong>*任务计次*</strong></em></h4><p>· 任务计次指的是任务在各个状态下的次数统计，以及任务限次相关的配置，配置项如下：</p><p>​    <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps55.jpg" alt="img"></p><p>· 为了避免后续混乱，在此增加两个词的定义： </p><p>　o 任务次数，指的是任务当前可以接取或者完成的次数，可被清空。</p><p>　o 任务计次，指的任务的历史已接取或已完成的计次，不可被清空。</p><p>· 接取计次，此选项不勾的时候，任务为完成计次，即当任务交付发奖时，记一次数。此选项勾选后，就是在接取的时候，记一次数（注意，这个计数是每个玩家的具体任务独有的，和后文的杀怪计数、交互计数都是相互独立的。另外，与后文提到的任务限制次数也不同）。</p><p>· 失败后可重新接取，一个勾选的配置项，如果勾了的话，当任务失败后，需要返还玩家任务次数，可重新接取。</p><p>· 任务间隔，也可理解为接取冷却。配置默认为0秒，即无间隔。如果有间隔，则满足间隔时间后，才能再次接取。这部分规则也需要关联上述的接取计次，决定是任务完成间隔还是任务接取间隔。</p><p>· 初始状态开始计数，主要用于奇遇等任务。<strong>（补充在具体的条件内）</strong> </p><p>　o 即当该任务为初始状态时，需要根据配置的接取条件来进行相应的计数。</p><p>　o 举例说明为，当前玩家没有接取任何任务，但是在杀死20只狼后，玩家接到了一个叫做“野狼的哀嚎”的任务。</p><p>　o 即“野狼的哀嚎”这个任务的接取条件是“击杀20只狼”。</p><p>　o 所以勾选了“初始状态开始计数”后，在此任务的初始状态，每击杀一只狼，就会记一次数，直到击杀20只狼，则“野狼的哀嚎”这个任务的任务状态由初始状态变为可接取状态（这里接取到任务，是因为还勾选了下文会提到的功能，满足条件自动接取）。</p><p>· 最大可接取次数，达到了最大可接取次数，则该任务就不能再接取了。表现为提示“任务名字 的次数已耗尽。”</p><p>　o 如果这里的次数配置为0，则代表该任务不限接取次数。</p><p>· 次数清空，这里清空的是“最大可接取次数”里的次数，而不是“接取计次”的计次。可以复选配置“每天&#x2F;每周&#x2F;每月”，即是每隔一天清空次数、还是每隔一周清空次数、或是每隔一个月再清空次数。清空的时间点程序写死，每日对应次日凌晨5点。每周对应次周周一凌晨5点。每月对应次月月初第一天的凌晨5点（这里具体时间点沟通决定，后续可能修改，也可能进行其他清空间隔或方式的拓展）。</p><p>· 清空时间点，和上一个字段“清空次数的方式”为一组，即如果是每隔一天就清空次数的话，那么是具体是每天的什么时候清空，是由这个字段配置的。配置1-24的小时数、然后1-59分钟、1-59秒。对应的，每周&#x2F;每月 有不同的配置。</p><h3 id="6-2-接取条件"><a href="#6-2-接取条件" class="headerlink" title="*6.2      接取条件*"></a><em><strong>*6.2      接取条件*</strong></em></h3><p>· 只有满足了接取条件，玩家才可以接取到任务。即从可接取状态变为接取未完成状态的条件。</p><p>· 接取条件部分，与后文的任务条件通用。具体配置界面如下图：</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152313827.png" alt="image-20230811152313827"></p><p>· 任务发放，这是一个复选项，可以选择任务是“NPC接取”、“界面接取”还是“满足条件自动发放”（需要注意的是：如果是别的任务发放的任务，则忽略“任务发放”、接取对话与接取NPC）。 </p><p>　o NPC接取，默认为此选项。即和NPC交互，然后接取任务。</p><p>　o 界面接取，用于玩家通过界面接取任务。此类型的任务发放是客户端发起的，向服务器说，要接某个任务。</p><p>　o 满足条件自动发放，即满足接取条件后，任务自动发放到玩家身上。</p><p>· 接取条件，即满足了这个条件，任务的状态就从初始状态变为了可接取状态。且接取条件与完成条件通用。 </p><p>　o 接取条件的配置如下图：</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152329377.png" alt="image-20230811152329377"></p><p>​           当玩家点击增加后，会出现一个列表，列表即条件列表，如上中图。勾选后，则在左图内增加相应的配置。</p><p>​           点击删除按钮后，则出现当前已选择的条件的列表，如上图的条件，则点击删除按钮后如上右图。之后，选择一项，再点击确定，就能删除一个接取条件了。在编辑器界面上，对应的条件配置也将被删除。</p><p>· 以下为具体的任务条件列举（仅包含近期能用到的）：</p><p>· <a href="">任务条件列举</a></p><p>· 接取条件之间的逻辑关系，需要支持且与或的关系配置，默认为且的关系。这里条件的出现顺序，按实际配置接取条件的出现顺序而定。如果是一次性多选了接取条件，则任意顺序皆可。</p><p>· 达成顺序，显性的配置任务的条件达成顺序，且所有的条件都需要有这部分配置。数字越小，则要求优先达成。如果数字大的条件先满足，则不算该条件达成，需要按顺序，让数字小的条件达成后，数字大的条件才可达成。另外，所有条件的默认顺序为如果条件之间的数字相同，则无达成的顺序关系。</p><h3 id="6-3-接取触发"><a href="#6-3-接取触发" class="headerlink" title="*6.3      接取触发*"></a><em><strong>*6.3      接取触发*</strong></em></h3><p>· 接取触发是指玩家在接取任务的那一刻，会发生的事情。比如发放一个任务物品等。具体配置项如下：</p><p>​    <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps58.jpg" alt="img"> </p><p>· 接取触发也可统一称为接取奖励，点击增加按钮后，出现奖励列表，这里的奖励列表与完成任务后的发奖的奖励列表也通用，举例如下： </p><p>　o AVG*</p><p>　o CG*</p><p>　o 奖励</p><p>　o 掉落</p><p>　o 发放任务*</p><p>　o 喊话</p><p>　o 扣物品</p><p>　o 物品</p><p>　o 召唤沿某路径走的NPC*</p><p>　o 增加任务接取计数</p><p>　o 减少任务接取计数</p><p>　o 增加任务接取计次</p><p>　o 减少任务接取计次</p><p>　o 增加任务完成计数</p><p>　o 减少任务完成计数</p><p>　o 增加任务完成计次</p><p>　o 减少任务完成计次</p><p>　o 增加货币</p><p>　o 扣货币</p><p>　o 传送</p><p>　o 解锁技能（暂时不用）</p><p>　o 升级技能（暂时不用）</p><p>　o 召唤跟随NPC（暂时不用）</p><p>　o 删除跟随NPC（暂时不用）</p><p>　o 邮件（暂时不用）</p><p>　o 经验（暂时不用）</p><p>· 点击删除按钮后，和上文提到的条件的删除是一样的。</p><h3 id="6-4-完成条件"><a href="#6-4-完成条件" class="headerlink" title="*6.4      完成条件*"></a><em><strong>*6.4      完成条件*</strong></em></h3><p>· 只有满足了完成条件，玩家才能完成任务（未交付）。即从接取未完成状态变为完成未交付状态。</p><p>· 具体配置项与具体的条件配置方式、条件关系和接取部分完全相同，只是此处作用于判断任务是否满足条件而完成。</p><p>· 失败条件，在完成条件中，还有一部分是失败条件，这部分与接取条件、完成条件一致，只是此处作用于判断任务是否满足条件而失败。任务失败后，将任务状态标记为失败状态，并且，玩家再也看不到失败的任务（失败表现后续功能完善）。</p><h3 id="6-5-任务指引"><a href="#6-5-任务指引" class="headerlink" title="*6.5      任务指引*"></a><em><strong>*6.5      任务指引*</strong></em></h3><p>· 任务指引的配置如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps59.jpg" alt="img"></p><p>· 这里乱入了一个基础选项功能，顺带提一下，即“自动发放完成奖励”，如果是，则忽略完成描述与完成NPC（不忽略完成对话。如果想忽略完成对话的话，策划自己不配置完成对话就行了），在任务达到完成未交付状态后，就直接发奖，算此任务已到达交付发奖状态。</p><p>· 任务目标描述，即一段文字，用来提示玩家任务目标，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps60.jpg" alt="img"></p><p>​     如图中的“去图书馆找丽莎”。这段文字同样需求支持RGB配置（详见上文）。其中，完成条件相对于其他条件，有一点不同，就是每一个完成条件，都需要增加一条任务目标描述，用于任务在任务栏显示任务目标。</p><p>· 任务完成描述，即当任务从接取未完成变为完成未交付状态时，原本任务目标描述的位置就要显示任务完成描述。</p><h3 id="6-6-奖励与串联任务"><a href="#6-6-奖励与串联任务" class="headerlink" title="*6.6      奖励与串联任务*"></a><em><strong>*6.6      奖励与串联任务*</strong></em></h3><p>· 以下为奖励与串联任务部分的配置：</p><p><img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152353798.png" alt="image-20230811152353798"></p><p>· 根据任务的成功、失败，发放成功奖励或失败奖励。</p><p>· 其中，奖励部分与3的接取触发里面的奖励相同。</p><p>· 但是，这里有条件奖励的概念，举个例子，如果我们根据玩家从A点到B点的用时发奖，10秒是一个奖、20秒是一个奖，那么此时就要用到条件奖励，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps62.jpg" alt="img"></p><p>​      图中，条件与上述接取、成功、失败等通用的条件。而奖励则是接取奖励、成功、失败奖励等通用的奖励。另外的功能按钮是：</p><p>· 增加按钮，增加一组条件-奖励，界面可以是横向扩展（通过横向的滚轮增加一个当前选中页的概念，也可以是手动选中）。</p><p>· 复制按钮，复制一组条件-奖励，复制对象为当前选中页的条件-奖励。</p><p>· 删除按钮，删除一组条件-奖励，删除最近新增的即可。</p><p>· 确定按钮，点击后，就会在编辑器的奖励页签的条件奖励生成对应的配置。</p><p>· 取消按钮，点击后，此次操作无效，什么也不发生。</p><p>· 特殊处理，有一些特殊情况需要处理： </p><p>　o 背包满时，如果奖励物品无法进包，则无法完成任务。此时需要给出对应的提示，比如“请清理下包裹再继续此任务。”出现此提示后，任务退回到完成未交付状态。</p><p>　o 部分可中断的奖励，比如AVG、CG等，如果因为杀端或其他一些原因中断了奖励发放，则此类任务需要退回到完成未交付。</p><h1 id="七、-任务追踪"><a href="#七、-任务追踪" class="headerlink" title="*七、    任务追踪*"></a><em><strong>*七、    任务追踪*</strong></em></h1><p>· 当玩家接到一个新的任务时，如果这个任务显示在任务栏上，则此时，需要玩家按V键（手机上是点击）后，才出现任务追踪。如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps63.jpg" alt="img"></p><p>​     任务也需要配置，是否自动开启追踪。如果玩家不追踪新获得的任务，则依旧显示之前追踪的任务，如下：</p><p>​     <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps64.png" alt="img"></p><p>​      如果之前没有任务追踪，则在新任务追踪提示后，依旧保持没有任务追踪的状态。</p><p>· 任务追踪主要由三部分构成： </p><p>　o 指引路径</p><p>　o 悬浮图标—指引方向</p><p>　o 显示距离与高低</p><p>· 另外，还需要描述设置追踪的流程。</p><h3 id="7-1-指引路径"><a href="#7-1-指引路径" class="headerlink" title="*7.1      指引路径*"></a><em><strong>*7.1      指引路径*</strong></em></h3><p>· 指引路径，即当玩家开启追踪后，需要在场景内出现一条从玩家当前位置到追踪的目的地的特效线。</p><p>· 这条特效线本质为寻路路径，具体用什么算法，程序决定。</p><p>· 此特效线所用到的特效可写死，不用配置。</p><p>· 特效线需要实时刷新，刷新频率可以根据距离的变化而定，比如玩家每靠近或者远离目的地10米，则刷新此路径。</p><p>· 特效线有显示时间，需求策划可配置。</p><p>· 如果玩家到目的地之间不可寻路，则不出现此特效线。仅以后面的悬浮图标以及距离、高低来提示玩家。</p><p>· 路径如下图所示：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps65.jpg" alt="img"></p><h3 id="7-2-悬浮图标—指引方向"><a href="#7-2-悬浮图标—指引方向" class="headerlink" title="*7.2      悬浮图标—指引方向*"></a><em><strong>*7.2      悬浮图标—指引方向*</strong></em></h3><p>· 悬浮图标用于在空间上对玩家进行方向指引，具体如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps66.jpg" alt="img"></p><p>· 此悬浮图标与角色的朝向无关，与摄像机的朝向，也就是与视角相关。</p><p>· 当目的地位于视角面向的正前方时，此悬浮图标出现在界面的上方。</p><p>· 当目的地位于视角面向的左侧时，此悬浮图标出现在界面的左方。</p><p>· 当目的地位于视角面向的右侧时，此悬浮图标出现在界面的右方。</p><p>· 当目的地位于视角面向的正后方时，此悬浮图标出现在界面的下方。</p><p>· 当目的地位于视角面向的上方时，此悬浮图标出现在界面的上方。</p><p>· 当目的地位于视角面向的下方时，此悬浮图标出现在界面的下方。</p><p>· 且，当玩家的视角面向目的地上下左右不超过X度（可配置，初始可配为15度）时，悬浮图标的下方还会出现具体的玩家位置到目的地的距离。</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps67.jpg" alt="img"></p><p>· 如果玩家背离目的地，也就是不满足上述显示距离的条件的时长，超过一定时间后，则自动隐藏指引路径和悬浮图标。但是在任务栏依然显示距离与高低，后文会提到。</p><h3 id="7-3-显示距离与高低"><a href="#7-3-显示距离与高低" class="headerlink" title="*7.3      显示距离与高低*"></a><em><strong>*7.3      显示距离与高低*</strong></em></h3><p>· 在悬浮图标里提到，在特定条件下需要显示距离。</p><p>· 另外，在任务栏还需要显示距离，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps68.jpg" alt="img"></p><p>​      与此同时，还需要文字显示“高处”或“低处”。这部分判断单纯以玩家与目的地的实时高度来决定。但是，仅仅当玩家与目的地的距离小于80米后，才显示高低。这个值可修改，但不用配置，修改频率不高。</p><p>· 当玩家与目的地高度一致时，则仅显示距离，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps69.jpg" alt="img"></p><h3 id="7-4-任务追踪设置"><a href="#7-4-任务追踪设置" class="headerlink" title="*7.4      任务追踪设置*"></a><em><strong>*7.4      任务追踪设置*</strong></em></h3><p>· 对玩家来说，初始，玩家的默认任务追踪为主线任务。</p><p>· 一旦玩家手动设置追踪后，则在任务栏界面仅显示玩家追踪的任务。</p><p>· 如果玩家取消了当前追踪的任务，则在任务栏不显示任何界面，如下图：</p><p>· <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps70.jpg" alt="img"></p><p>· 手动设置任务追踪的流程如下： </p><p>　o 点开任务面板在主界面的按钮，如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps71.jpg" alt="img"></p><p>　o 选中想要追踪的任务，如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps72.jpg" alt="img"></p><p>　o 点击“追踪目标”按钮，如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps73.jpg" alt="img"></p><p>　o 点击“追踪目标”按钮后，如下图：</p><p>　o <img src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps74.jpg" alt="img"></p><p>​           会在任务栏界面出现追踪的这个任务，显示任务名字以及距离。</p><h1 id="八、-任务物管理-显隐表"><a href="#八、-任务物管理-显隐表" class="headerlink" title="*八、    任务物管理-显隐表*"></a><em><strong>*八、    任务物管理-显隐表*</strong></em></h1><p>· 需要有一个通用的配置，来管理各个任务所涉及的NPC、交互物的显示与隐藏。</p><p>· 可配置任务物的初始状态：显示&#x2F;隐藏，这里对应任务的初始状态。</p><p>· 可配置任务物在接取后的状态：显示&#x2F;隐藏，这里对应任务的接取未完成状态。</p><p>· 可配置任务物在完成后（完成未交付）的状态：显示&#x2F;隐藏，这里对应任务的完成未交付状态。</p><p>· 可配置任务物的交付发奖后的状态：显示&#x2F;隐藏，这里对应任务的交付发奖状态。</p><p>· 可配置任务物的失败后的状态：显示&#x2F;隐藏，这里对应任务的失败状态。</p><p>· 除了显示、隐藏这两种行为，后续还可增加等待，从某个点走来，走到某个点消失，播动作等需求，但暂时优先级不高。</p><p>· 显隐表默认为顺序执行。</p><p>· 配置举例：</p><p>Init()</p><p>{</p><p>​     npc(场景ID，NPCID) {行为}</p><p>}</p><p>Task(任务ID)</p><p>{</p><p>​     Accept(场景ID，NPCID) {行为}</p><p>​     Can_finish(场景ID，NPCID) {行为}</p><p>​     Finished(场景ID，NPCID) {行为}</p><p>​     Failed(场景ID，NPCID) {行为}</p><p>}</p><p>其中行为就是提到的显示、隐藏等。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 叙事模块 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>钥匙概念玩法</title>
      <link href="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/"/>
      <url>/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="废弃工厂钥匙玩法"><a href="#废弃工厂钥匙玩法" class="headerlink" title="废弃工厂钥匙玩法"></a><strong>废弃工厂钥匙玩法</strong></h1><h2 id="一、形式包装："><a href="#一、形式包装：" class="headerlink" title="一、形式包装："></a><strong>一、形式包装：</strong></h2><p>这是一个年代久远的废弃工厂，这个工厂的很多机器需要使用“钥匙”才能启动，但这些“钥匙”与一般的钥匙不同，它们没有形状上的差异，而是通过你掌握的钥匙数量来决定你能使用的机关（权限上的级别）··</p><p>玩家的设定目标是到达工厂的最高层，需要在每层都获得足够的钥匙。</p><h2 id="二、玩法机制："><a href="#二、玩法机制：" class="headerlink" title="二、玩法机制："></a><strong>二、玩法机制：</strong></h2><h3 id="1-玩家可进行的操作："><a href="#1-玩家可进行的操作：" class="headerlink" title="1.玩家可进行的操作："></a>1.玩家可进行的操作：</h3><p>1.1 玩家可以获取任意数量的钥匙并存放在身上；</p><p>1.2 玩家可以将钥匙放在钥匙孔上。</p><h3 id="2-其他机制："><a href="#2-其他机制：" class="headerlink" title="2.其他机制："></a>2.其他机制：</h3><p>2.1 锁：锁可以具有一个或多个钥匙孔，当你插入钥匙时，会产生对应的反馈。</p><p>2.2 不同的机关对于插入钥匙后具有不同的反馈，玩家需要利用这些反馈不断获得更多的钥匙来最终通关。</p><p>2.3 通关：会有一个独特并统一的通关装置，玩家获取足够的钥匙并填满通关装置后，前往下一关。</p><h2 id="三、示例关卡组："><a href="#三、示例关卡组：" class="headerlink" title="三、示例关卡组："></a><strong>三、示例关卡组：</strong></h2><h3 id="1-图标说明"><a href="#1-图标说明" class="headerlink" title="1.图标说明"></a>1.图标说明</h3><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/image-20230811151526719.png" alt="image-20230811151526719"></p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/image-20230811151553332.png" alt="image-20230811151553332"></p><h3 id="2-关卡组"><a href="#2-关卡组" class="headerlink" title="2.关卡组"></a>2.关卡组</h3><p>Level1</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps32.png" alt="img"></p><p>Level2</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps33.png" alt="img"></p><p>Level3</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps34.png" alt="img"></p><p>Level4</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps35.png" alt="img"></p><p>*旋转房间的解释：</p><p>玩家未放入两把钥匙时，能看到房间内的钥匙但是不能直接获取。</p><p>玩家在锁孔放入两把钥匙后会启动旋转房间，旋转180°，然后需要在房间里与某个机关进行一次简单交互。</p><p>之后玩家取走钥匙，房间旋转回来，玩家就能获取到房间的钥匙。</p><p>Level5</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps36.png" alt="img"></p><p>*关于旋转平台</p><p><img src="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps37.png" alt="img"></p><p>— 这是一个独特的机关，它的锁需要三把钥匙，但是每放入一把钥匙都会让它旋转90度到一个侧面，从0~3把钥匙分别对应它的4个侧面。</p><p>— 升降机可以前往一个较高的平台，并通过这个平台拾取到旋转平台上较高处的钥匙。</p><p>— 这一关的通关装置在旋转平台的第4个侧面。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏关卡 </category>
          
          <category> 关卡实践 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>电路概念玩法</title>
      <link href="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/"/>
      <url>/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="一、玩法组件"><a href="#一、玩法组件" class="headerlink" title="一、玩法组件"></a><strong>一、玩法组件</strong></h2><p>1.组件参考图</p><p><img src="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps25.png" alt="img"></p><h3 id="2-组件说明"><a href="#2-组件说明" class="headerlink" title="2.组件说明"></a>2.组件说明</h3><h3 id="2-1发电装置"><a href="#2-1发电装置" class="headerlink" title="2.1发电装置"></a>2.1发电装置</h3><p>发电装置可以沿着电路向外部释放电流。</p><p>2.2电路</p><p>电路是长短固定的线段，电流能沿着电路流通。</p><p>电路之间需要使用继电器连接才能继续传播。</p><h3 id="2-3用电装置"><a href="#2-3用电装置" class="headerlink" title="2.3用电装置"></a>2.3用电装置</h3><p>电流在发电装置与用电装置之间流通时，用电装置置为启动状态。</p><h3 id="2-4继电器"><a href="#2-4继电器" class="headerlink" title="2.4继电器"></a>2.4继电器</h3><p>继电器用于联通电路与电路之间的节点，能够让电流通过这些节点。</p><p>继电器具有4个面，对应4个方向（上下左右），继电器的面具有有效&#x2F;无效两种状态，只有有效面可以接收和传出电流。</p><h2 id="二、游戏规则"><a href="#二、游戏规则" class="headerlink" title="二、游戏规则"></a><strong>二、游戏规则</strong></h2><h3 id="1-玩家操控："><a href="#1-玩家操控：" class="headerlink" title="1.玩家操控："></a>1.玩家操控：</h3><p>1.1 继电器的拾取、携带、放置</p><p>- 玩家可以拾取继电器并携带在身上</p><p>- 玩家可以将继电器放置在电路之间的节点上</p><p>1.2 继电器的旋转</p><p>- 玩家可以将放置好的继电器旋转方向，每次旋转90°</p><p>2.其他规则</p><p>2.1 电路如何联通的</p><p>电路的两端同时存在输出电流和接收电流的装置时，就会在电路上产生电流。</p><p>玩家需要合理的使用继电器让电流流通。</p><p>2.2 如何通关</p><p>当所有用电装置启动时视为通关状态。</p><h2 id="三、小游戏关卡设计实例"><a href="#三、小游戏关卡设计实例" class="headerlink" title="三、小游戏关卡设计实例"></a><strong>三、小游戏关卡设计实例</strong></h2><p>1.关卡1</p><p><img src="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps26.png" alt="img"></p><p>2.关卡2</p><p><img src="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps27.png" alt="img"></p><p>3.关卡3</p><p><img src="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps28.png" alt="img"></p><p>4.关卡4</p><p><img src="/2023/08/11/%E7%94%B5%E8%B7%AF%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/wps29.png" alt="img"></p><h2 id="四、关于提升设计复杂度的方式"><a href="#四、关于提升设计复杂度的方式" class="headerlink" title="四、关于提升设计复杂度的方式"></a><strong>四、关于提升设计复杂度的方式</strong></h2><p>1.电流可以具有两种颜色</p><p>同时继电器的有效面也可以具有两种颜色，可以完成对电流颜色类型的转换。</p><p>发电装置和用电装置对电流的产生和接收也会具有颜色差异。</p><p>2.用电装置的启动可以复合其他规则</p><p>用电装置不一定“启动&#x3D;成功”这样的概念，而是可以对应其他实质的影响，例如移动一面墙，再通过移动这面墙的价值来综合解开关卡。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏关卡 </category>
          
          <category> 关卡实践 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关卡解密小玩法</title>
      <link href="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/"/>
      <url>/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="悬浮地砖解密"><a href="#悬浮地砖解密" class="headerlink" title="*悬浮地砖解密*"></a><em><strong>*悬浮地砖解密*</strong></em></h1><p>第一关</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145731973.png" alt="image-20230811145731973"></p><p>第二关</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145737901.png" alt="image-20230811145737901"></p><p>第三关</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145743410.png" alt="image-20230811145743410"></p><h1 id="多色地砖解密"><a href="#多色地砖解密" class="headerlink" title="*多色地砖解密*"></a><em><strong>*多色地砖解密*</strong></em></h1><p>第1关</p><p>tips：第1关的价值在于理解规则。</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145800044.png" alt="image-20230811145800044"></p><p>第二关：</p><p>tips：第2关会在第一关后面，连续的布置。</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145809824.png" alt="image-20230811145809824"></p><p>第三关:</p><p><img src="/2023/08/11/%E5%85%B3%E5%8D%A1%E8%A7%A3%E5%AF%86%E5%B0%8F%E7%8E%A9%E6%B3%95/image-20230811145820401.png" alt="image-20230811145820401"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏关卡 </category>
          
          <category> 关卡实践 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>互斥概念关卡</title>
      <link href="/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/"/>
      <url>/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="拓扑图"><a href="#拓扑图" class="headerlink" title="*拓扑图*"></a><em><strong>*拓扑图*</strong></em></h2><p><img src="/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/image-20230811144030878.png" alt="image-20230811144030878"></p><h2 id="解密说明"><a href="#解密说明" class="headerlink" title="*解密说明*"></a><em><strong>*解密说明*</strong></em></h2><p>关卡存在三种解密：</p><p>· 主干解密：</p><p>最终目的：需要将3个棱晶护送到中央的棱晶核心装置。</p><p>棱晶：具有自行移动能力，触发激活后会自动向核心移动，需要玩家持续跟随才能移动。</p><p>互斥门机关：如上图红黄两色路径所示，三角位置为启动道路的机关，同时会关闭另一条道路，且封闭对应的棱晶，使其无法交互。例如触碰红色机关后，出现红色通路，对面的棱晶被封闭，同时上侧的黄色通路被打开，对应的棱晶变为可交互。</p><p>· 悬浮地砖 （小解密）： </p><p>　o 位于图中紫色路线，是护送棱晶移动的必要路线，三次护送对应三次解密。</p><p>　o 激活：玩家需要解放棱晶，并在棱晶护送的途中，由棱晶自行触碰到路线上的机关后触发。</p><p>　o 解密方式：玩家触摸机关后会播放动画显示存在地砖的路线，玩家需要依次踩地砖行动通过该道路。一笔画规则，每块地砖玩家必须踩过1次且仅有1次，然后通过道路到达对岸。</p><p>　o 解密后：棱晶会离开机关并继续向终点行动，机关失去功能，同时（解密的）道路损毁。</p><p>　o 示例：如下图所示：玩家在左侧启动后，依次踩过每一个粉红色地砖1次到达对岸即可解密成功。</p><p><img src="/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/image-20230811144039817.png" alt="image-20230811144039817"></p><p>· 多色地砖（小解密）： </p><p>　o 布置在部分需要首次通过后双向开放的道路，图中蓝色路径。</p><p>　o 激活：无需前置条件，玩家只要在起始处就可以通过触摸激活机关。</p><p>　o 解密方式：一共有两种颜色的地砖，玩家每次踩在地砖上都会导致颜色变化为另一种。玩家需要将所有地砖踩为相同颜色时，才会出现前面的道路（此时玩家还需要在最接近新道路的地砖上，否则一旦有地砖颜色不同，道路就会消失）。</p><p>　o 解密后：机关失去功能，道路变为双向开放。</p><p>　o 示例：如下图所示，玩家在左侧红三角位置启动机关后，依次踩过两个黄色地砖（或蓝色地砖），绿色道路出现，玩家即可走到绿色道路上，即通关。</p><p><img src="/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/image-20230811144045057.png" alt="image-20230811144045057"></p><p>解密方式：道路上会布置两种颜色的地砖，玩家每踩上一个地砖 会导致它颜色改变（为另一个颜色）。玩家只有在最后一个位置上且将所有地砖翻为同色才能通过该道路完成解密。</p><h2 id="动线设计"><a href="#动线设计" class="headerlink" title="*动线设计*"></a><em><strong>*动线设计*</strong></em></h2><p><img src="/2023/08/11/%E4%BA%92%E6%96%A5%E6%A6%82%E5%BF%B5%E5%85%B3%E5%8D%A1/image-20230811144049931.png" alt="image-20230811144049931"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏关卡 </category>
          
          <category> 关卡实践 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>交互物</title>
      <link href="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/"/>
      <url>/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一、-设计目的"><a href="#一、-设计目的" class="headerlink" title="*一、    设计目的*"></a><em><strong>*一、    设计目的*</strong></em></h1><p>· 定义通用的交互物系统，支持游戏内交互相关的功能。</p><p>· 方便后续对不同类型的交互物进行扩展。</p><h1 id="二、-应用分类"><a href="#二、-应用分类" class="headerlink" title="*二、    应用分类*"></a><em><strong>*二、    应用分类*</strong></em></h1><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104434548.png" alt="image-20230811104434548"></p><h1 id="三、-应用举例"><a href="#三、-应用举例" class="headerlink" title="*三、    应用举例*"></a><em><strong>*三、    应用举例*</strong></em></h1><p><a href="">交互物类型示例</a></p><h1 id="四、-流程图"><a href="#四、-流程图" class="headerlink" title="*四、    流程图*"></a><em><strong>*四、    流程图*</strong></em></h1><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104452451.png" alt="image-20230811104452451"></p><h1 id="五、-功能概述"><a href="#五、-功能概述" class="headerlink" title="*五、    功能概述*"></a><em><strong>*五、    功能概述*</strong></em></h1><p>· 交互物是可以与玩家进行简单互动的静态（一般不会移动）物体，比如花、草、宝箱、门等常用物品，暂时不涉及能因形态变化而带来功能变化的交互物（这类复杂交互物，届时单独定义功能）。</p><p>· 另外，这里提到的交互物都是客户端的交互物，即玩家之间不共享。举例说明，城门口有一个宝箱，如果玩家A去交互后，那么对于玩家B来说，在我们的实现方案里，玩家B也是可以在同样的位置与同一个宝箱（玩家A交互过的城门口的那个宝箱）交互的。</p><p>· 交互物系统由三部分构成：交互物基本信息、交互过程、交互后的触发。</p><p>· 如上图，交互物的基本信息由：交互物的外观配置、交互限制、交互范围组成。</p><p>· 交互过程由：交互列表和交互过程的变化组成。</p><p>· 交互后的触发就涉及较多了，比如触发发奖、自己是否消失、对话、获得任务、刷新怪物等功能。</p><h1 id="六、-功能详述"><a href="#六、-功能详述" class="headerlink" title="*六、    功能详述*"></a><em><strong>*六、    功能详述*</strong></em></h1><p>· 首先，交互物需要有自己独立的ID段，这部分和程序确认后再定。</p><p>· 另外，这部分功能暂时不涉及在场景中生成交互物。本文最后会提到一些调试命令，用以对相关功能进行测试。</p><p>· 下面就按功能概述中的分类来详细说明交互物的功能。</p><h2 id="1-交互物基本信息"><a href="#1-交互物基本信息" class="headerlink" title="*1.   交互物基本信息*"></a><em><strong>*1.   交互物基本信息*</strong></em></h2><p>· 交互物基本信息分为： </p><p>　o 外观</p><p>　o 限制</p><p>　o 交互范围</p><p>　o 可见范围</p><h3 id="1-1-外观"><a href="#1-1-外观" class="headerlink" title="*1.1      外观*"></a><em><strong>*1.1      外观*</strong></em></h3><p>· 交互物的外观分为： </p><p>　o 名字，暂定限制为20个汉字。默认值为“可交互的物品”。如下图红框部分：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104459258.png" alt="image-20230811104459258"></p><p>　o 模型，指决定交互物外观的配置（需要支持配置空模型，比如配置一些特殊操作），具体如下图红框：</p><p> <img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps4.jpg" alt="img"></p><p>　o 初始待机动作，类似花、草这类有一定飘动的交互物就需要配置初始待机动作（需要支持配置空动作，比如宝箱）。如下GIF：</p><p>　o <img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps5.png" alt="img"></p><p>　o 提示特效，用于提醒玩家，这个物品可交互（需要支持空特效，比如宝箱），提示特效如下GIF中，闪耀的白光（可能还会用到2D的图标以替代这里的特效，但暂不需求）：</p><p>　o <img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps6.png" alt="img"></p><h3 id="1-2-限制"><a href="#1-2-限制" class="headerlink" title="*1.2      限制*"></a><em><strong>*1.2      限制*</strong></em></h3><p>· 这里的限制需要按照模板项的构成方式来运行，即任中一项的限制不满足，则都不能交互，即不出现交互列表。</p><p>· 涉及前置条件类的限制暂时不处理，后续考虑引入一套通用的前置条件判断来处理。所以当前只处理最基础的等级判断。</p><p>· 交互物的交互次数与交互物的次数在玩家之间共享的问题也有考虑，暂不处理。</p><p>· 交互物的限制分为： </p><p>　o 等级，达到XX等级才可以交互。如果玩家等级没达到就来交互，则在交互后提示“请XX等级后，再来探索吧！”默认值为0（暂无提示系统，确定如何测）.形式如下图：</p><p>　o <img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps7.jpg" alt="img"></p><p>　o 默认可交互的次数为1次，不用配置。</p><p>　o 战斗状态可否交互，默认值为否，这里不可交互，指的是连后文提到的交互列表都不出现。</p><p>　o 交互所需物品，即当玩家拥有（背包）需求的某物品时，才能和交互物交互成功。且在交互完成后，需要扣除这个物品。比如一个上锁的门，就需要玩家拥有钥匙的时候，才能打开。如果玩家没有需求的物品，则需要弹出适当的提示。</p><h3 id="1-3-交互范围"><a href="#1-3-交互范围" class="headerlink" title="*1.3      交互范围*"></a><em><strong>*1.3      交互范围*</strong></em></h3><p>· 交互范围是交互物与玩家的距离、朝向满足条件后，可以将交互物显示在交互列表（见下文）上的范围。需满足的条件有： </p><p>　o 玩家的交互范围，这是一个设定好的范围。要让交互物出现在玩家的交互列表上，首先要满足交互物出现在玩家的交互范围内。这部分应由别的系统配置（讨论下怎么配置，现状为没有）。如下图：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104642089.png" alt="image-20230811104642089"></p><p>　o 交互物的交互范围，具体分为： </p><p>§ 朝向，这里指的是交互物的正面的方向。这个朝向具体在后续的布置部分处理。</p><p>§ 角度，这里的角度是以交互物正面为基准，左右分别二分之一的角度。需要配置一个度数，默认值为180度，即交互物的正面都可以交互。这个字段需要程序用360取余数，如果取余后的最终配置为0，则认为是360度。</p><p>§ 半径，决定玩家离交互物多远就可以交互了（交互物出现在交互列表上），需要配置一个米数，默认值为2米。</p><p>§ 交互范围示意如下图：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104648349.png" alt="image-20230811104648349"></p><p>其中，中间的箭头X就是上述的朝向，角度是a+b的角度之和。另外半径&#x3D;M&#x3D;N 。</p><p>红线范围为不可交互范围。</p><h3 id="1-4-可见范围"><a href="#1-4-可见范围" class="headerlink" title="*1.4      可见范围*"></a><em><strong>*1.4      可见范围*</strong></em></h3><p>· 即玩家离交互物多远就能看到交互物。</p><h2 id="2-交互过程"><a href="#2-交互过程" class="headerlink" title="*2.   交互过程*"></a><em><strong>*2.   交互过程*</strong></em></h2><p>· 交互过程分为交互列表与交互过程的变化。</p><h3 id="2-1-交互列表"><a href="#2-1-交互列表" class="headerlink" title="*2.1      交互列表*"></a><em><strong>*2.1      交互列表*</strong></em></h3><p>· 交互列表由多个交互物的交互选项构成，但是后续还需要支持掉落物也能通用在这个列表上，这里提一下仅为程序在实现上，可能需要考虑后续的这种扩充需求。</p><p>· 交互选项如<img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps10.jpg" alt="img">，是交互列表中的一个交互物的索引。</p><p>· 按当前的现状，交互列表也需要增加和NPC的交互部分，即交互物、NPC、掉落物，只要满足各自的限制与范围，就能同时出现在交互列表上，只不过在交互列表中选择了NPC后，会走向NPC自己的后续交互、触发逻辑，比如对话等。包含多类型的交互列表如下：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104605896.png" alt="image-20230811104605896"></p><p>· 当玩家靠近交互物，且满足上述限制时，会在界面上弹出交互列表，如下图：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104615588.png" alt="image-20230811104615588"></p><p>· 多个交互物可同时出现在交互列表上，玩家通过鼠标滚轮来切换当前选择的交互物，并用按键F完成交互。如果是在手机上，则直接通过点击列表里面的项来直接与交互物交互。需要注意的是，这里暂时不涉及其他的交互方式，比如长按、连点、组合键等操作。</p><p>· 最多可显示5个交互物，默认选择第一个进入交互列表的交互物。</p><p>· 当周围的交互物超过5个时，则按就近原则优先显示靠玩家较近的5个交互物。其余的交互物显示则藏在滚轮可以滑动到的位置。若玩家移动了，则以实时的玩家与交互物的位置关系来显示交互列表。</p><p>· 每一个交互物都可以配置一个交互列表图标，默认为某个通用的图标。如下图红框：</p><p>· <img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/wps13.jpg" alt="img"></p><h3 id="2-2-交互过程的变化"><a href="#2-2-交互过程的变化" class="headerlink" title="*2.2      交互过程的变化*"></a><em><strong>*2.2      交互过程的变化*</strong></em></h3><p>· 交互动作的起始距离，是在玩家点击交互列表里面的选项后，当玩家的距离满足这个交互动作的起始距离且面向交互物时，才会开始播放玩家的交互动作。与交互半径不同的是： </p><p>　o 玩家在上述交互半径的范围内可以点击交互列表里面的选项来开启交互。但是，此时，开启交互的点不一定是一个适合播放交互动作的点。</p><p>　o 所以需要配置一个交互动作的起始距离，即玩家在点击交互列表里的选项后，还要移动（程序控制）到距离交互物正面（还有转向处理）X厘米的地点才能开始播放后续的交互动作。</p><p>　o 默认的X米为0厘米，即玩家点击交互列表里的选项后，就直接开启后面的交互过程。</p><p>　o 注意，这里的配置单位是厘米，即支持粒度更小的调试配置。</p><p>　o 交互物动作的起始距离如下示意图：</p><p><img src="/2023/08/11/%E4%BA%A4%E4%BA%92%E7%89%A9/image-20230811104624981.png" alt="image-20230811104624981"></p><p>· 如上图，红线之间的范围即“交互动作的起始距离”的配置范围，需要限制，交互动作的起始距离小于等于交互半径，但大于等于</p><p>· 玩家动作，这里只需要配置一个动作名字或ID，当玩家在交互列表中确认选择一个项目后，程序判断上述的“交互动作的起始距离”这个配置，如果满足，最后再播放这个动作。默认值为空动作。</p><p>· 交互物动作，与上述的玩家动作同时开始，且也是配置一个动作名字或ID。默认值也为空动作。</p><p>· 交互时交互物动作延迟播放秒数，在实际的应用中，交互物的动作是相对于玩家动作要慢一点的，为了灵活应对这种情况，增加一个延迟播放的时间配置，单位是毫秒。</p><h2 id="3-交互后的触发"><a href="#3-交互后的触发" class="headerlink" title="*3.   交互后的触发*"></a><em><strong>*3.   交互后的触发*</strong></em></h2><p>· 在玩家与交互物完成交互后，即上文提到的流程（比如完成了交互过程）都结束后，还有可能会触发一些后续的事件，具体为： </p><p>　o 外观变化 </p><p>§ 交互后待机动作，配置一个动作名或ID，默认值为空动作。举例：一个宝箱初始的待机动作为关着的，在交互过程中，播放了交互动作。但是在播放结束后，还需要一个持续循环着的开着的动作。</p><p>§ 交互后待机特效，同上，部分情况可能还需要加一个特效。</p><p>　o 发奖 </p><p>§ 普通奖励，对应现状的drop ID，但是这里的奖励主要是对应直接进背包的奖励，不涉及场景表现。</p><p>§ 掉落奖励，后续会做，留个配置口子，对应比如怪物死亡后，散落在场景内的奖励，如装备等物品。</p><p>　o 消失 </p><p>§ 是否消失，如果配置“是”，则程序不用记录这个交互物的状态，在交互完成后，将交互物摧毁即可。后两项配置只有在此字段配置为“是”时，才会生效。如果为“否”，则交互物不消失，且消失时间为多久，那么程序就需要记录这个被交互玩的状态多久。比如一个苹果，玩家交互后，这个苹果就直接被摧毁了（有作为物品的苹果进玩家包）。再比如一个一次性门，玩家开了门，那么只要这个门的消失时间没到，则这个门对于玩家来说，就一直是开着的。当消失时间到了后，这个门被摧毁。一个BOOL配置，默认为会消失。</p><p>§ 消失特效，消失需要一个表现，这里配置特效名字或ID。默认值为空特效。</p><p>§ 消失时间，也即交互物交互后多久会消失。默认值为1秒。</p><p>　o 对话 </p><p>§ 普通对话，即交互物在交互后会触发一个对话，比如2D头像带文字的普通喊话类对话。</p><p>§ AVG，交互后触发一段演出。</p><p>§ CG，交互后触发一段CG。</p><p>§ 原则上，这里的对话形式只能出现一种，如果出现并行的情况，则播放优先级为CG覆盖AVG，AVG覆盖普通对话。</p><p>　o 获得任务，配置一个任务ID，默认值为0，即不触发任务。当配置了任务ID后，当玩家与交互物交互完成后，则直接将这个ID的任务发放到玩家身上（玩家接到任务的表现由任务系统处理）。</p><p>　o 召唤怪物，当玩家与交互物交互完成后，在这个交互物X米的范围内，随机刷出Y个怪物，生存时间为Z秒。这里默认值是怪物ID&#x3D;0，X&#x3D;4,Y&#x3D;1,Z&#x3D;1800。只有当怪物的ID配置了，后面的怪物数量、生存时间才会生效。先实现这种基础的功能，也可能不用。</p><p>　o 召唤NPC，功能同上。</p><p>　o 召唤交互物，功能同上。</p><p>　o 这里也需要提到一点，就是后续交互物完成交互后，可能还需要触发类似关卡脚本事件的功能，这部分还得看后续确定方案如何。</p><h1 id="七、-调试命令"><a href="#七、-调试命令" class="headerlink" title="*七、    调试命令*"></a><em><strong>*七、    调试命令*</strong></em></h1><p>create interact 交互物ID</p><p>在玩家朝向的1米处创建一个交互物。</p><p>也可简写为 ci 交互物ID。</p><p>show interact all 米数</p><p>在控制台显示以玩家为中心，半径为“米数”参数范围内的所有交互物的信息。信息的组织方式为 “交互物ID 交互物名字 交互物模型”</p><p>也可简写为 sia 米数</p><h1 id="八、-配置项"><a href="#八、-配置项" class="headerlink" title="*八、    配置项*"></a><em><strong>*八、    配置项*</strong></em></h1><p>· 此配置表为程序与策划的参考表，实际以功能验收部分的PPT为准，模板项的形式和配置方法不唯一。</p><table><thead><tr><th>模板项</th><th>模板数据</th></tr></thead><tbody><tr><td>交互物ID</td><td>INT型</td></tr><tr><td>备注</td><td>STRING型</td></tr><tr><td>交互物名字</td><td>STRING型</td></tr><tr><td>模型</td><td>STRING&#x2F;INT型（看配置名字还是路径相关的ID）</td></tr><tr><td>初始待动作</td><td>STRING&#x2F;INT型</td></tr><tr><td>提示特效</td><td>STRING&#x2F;INT型</td></tr><tr><td>等级</td><td>INT型</td></tr><tr><td>战斗状态可否交互</td><td>BOOL型</td></tr><tr><td>交互所需物品ID</td><td>INT型</td></tr><tr><td>交互所需物品数量</td><td>INT型</td></tr><tr><td>交互所需物品不足提示</td><td>STRING型</td></tr><tr><td>交互角度</td><td>INT型</td></tr><tr><td>交互半径</td><td>INT型</td></tr><tr><td>交互物多远可见</td><td>INT型</td></tr><tr><td>交互物图标</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互动作的起始距离</td><td>INT型</td></tr><tr><td>交互时的玩家动作</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互时的交互物动作</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互时交互物动作延迟播放秒数</td><td>INT型</td></tr><tr><td>交互后的待机动作</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互后的特效</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互后发放普通奖励</td><td>INT型</td></tr><tr><td>交互后发放掉落奖励</td><td>INT型</td></tr><tr><td>交互后是否消失</td><td>BOOL型</td></tr><tr><td>交互后的消失特效</td><td>STRING&#x2F;INT型</td></tr><tr><td>交互后的消失时间</td><td>INT型</td></tr><tr><td>交互后发放普通对话</td><td>INT型</td></tr><tr><td>交互后发放AVG</td><td>INT型</td></tr><tr><td>交互后发放sequence</td><td>INT型</td></tr><tr><td>交互后发放任务</td><td>INT型</td></tr><tr><td>交互后召唤怪物的ID</td><td>INT型</td></tr><tr><td>交互后召唤怪物的刷新半径</td><td>INT型</td></tr><tr><td>交互后召唤怪物的生存时间</td><td>INT型</td></tr><tr><td>交互后召唤怪物的数量</td><td>INT型</td></tr><tr><td>交互后召唤NPC的ID</td><td>INT型</td></tr><tr><td>交互后召唤NPC的刷新半径</td><td>INT型</td></tr><tr><td>交互后召唤NPC的生存时间</td><td>INT型</td></tr><tr><td>交互后召唤NPC的数量</td><td>INT型</td></tr><tr><td>交互后召唤交互物的ID</td><td>INT型</td></tr><tr><td>交互后召唤交互物的刷新半径</td><td>INT型</td></tr><tr><td>交互后召唤交互物的生存时间</td><td>INT型</td></tr><tr><td>交互后召唤交互物的数量</td><td>INT型</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 3c模块 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剧情编辑器概述</title>
      <link href="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/"/>
      <url>/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>●本页内容主要包含<br>① 名词约定，避免对于相同的客观事务引起歧义<br>② 剧情系统是如何进行外部协作的<br>③ 剧情系统的内部结构是怎样的<br>④ 剧情编辑的用例图</p><h1 id="名词约定"><a href="#名词约定" class="headerlink" title="*名词约定*"></a><em><strong>*名词约定*</strong></em></h1><p>* 之前观察到，对于客观上相同的事务，不同的小伙伴使用了不同的名词；<br>为了避免引起歧义而造成不必要的开发上的麻烦，本文先对这些名词约定含义，这些含义仅限于本文档。<br>ps.由于涉及到剧情，所以咨询了剧情同学的意见。 </p><p>* 章节<br>章节是一段完整的剧情表演，包括但不限于下图所示的剧情对话。<br>章节将呈现为一个完整的剧情脚本文件，由特定的任务和关卡触发开始，并在结束时将信息返回给任务系统或关卡。 </p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194154992.png" alt="image-20230810194154992">\</p><ul><li><p>段落<br>章节中的对话可能会因为玩家的不同选项而走向不同分支；<br>我们需要将对话分支的前后拆分为不同的模块，并称呼这些模块为段落。<br>段落通过树状分支等形式组织成一个章节。 </p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194217044.png" alt="image-20230810194217044"></p></li></ul><h1 id="1-2-剧情系统的外部关系："><a href="#1-2-剧情系统的外部关系：" class="headerlink" title="*1.2 剧情系统的外部关系：*"></a><em><strong>*1.2 剧情系统的外部关系：*</strong></em></h1><p>● 外部关系图： </p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194240421.png" alt="image-20230810194240421"></p><p>● 资源类型：<br>我们的剧情系统会有三种资源类型：视频资源、level sequence资源、avg演出资源。<br>● 调用： 这三种资源均会被关卡或任务系统调用；<br>● 产出： 前两种资源由导演产出，并且可以被直接使用无需继续加工。它们与A2的精品剧情相似。<br>剧情编辑器只对avg演出资源负责，avg演出资源就是一个个独立的剧情脚本。<br>ps.我们不排除以后可能需要像A2做精品剧情的方式那样向编辑器里导入类似于prefab的动画资源，来完成一些相对复杂的表现。<br>● 剧情脚本<br>avg演出资源就是剧情脚本，对应一个完整的章节。<br>一个完整的任务流程中会有一个或多个剧情章节，它们分别由独立的剧情脚本文件负责。<br>● 任务系统和剧情的关系？<br>● 我们使用任务系统来驱动各个剧情段落的播放。<br>● 任务系统相关文件： <a href="">任务系统与编辑器2022-04版</a><br>● 如何理解任务驱动剧情？<br>如下图所示，这是一个完整的任务小流程。 </p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194249849.png" alt="image-20230810194249849"></p><p>可以看到任务中有两次对话（接任务，交任务)；<br>这两次对话会是剧情工具生成的两个独立的剧情脚本，有各自的id，当任务系统到达对应流程时就会调动剧情脚本启用；<br>剧情脚本结束后会通知任务系统，并由任务系统继续接手后续流程。</p><h1 id="1-4-剧情段落的内部结构："><a href="#1-4-剧情段落的内部结构：" class="headerlink" title="* **1.4 剧情段落的内部结构：*"></a><em><strong>* *</strong></em><em><strong>*1.4 剧情段落的内部结构：*</strong></em></h1><p>● 内部结构参考图<br>● 章节编辑的内部由多个段落通过逻辑关系组织而成；<br>● 以一个最简单的对话分支流程为例，如下图所示： </p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194259967.png" alt="image-20230810194259967"></p><p>● 每个段落可以有多个小节。<br>● 每个小节最多负责1句话（ps.可以没有语句，而是纯动作和镜头动画）<br>● 段落可以存在交互选项（指提供给玩家的分支选项)<br>● 交互选项和当前的对话语句是可以同时显示的；<br>● 通过不同的输出口以及连线形成分支结构。<br>● 剧情章节内部的选项信息有时会影响后续任务的走向；<br>如下图所示，有时我们需要将玩家的选项信息返回给任务系统。</p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194308339.png" alt="image-20230810194308339"></p><h1 id="1-5-编辑器的工作方式"><a href="#1-5-编辑器的工作方式" class="headerlink" title="*1.5 编辑器的工作方式*"></a><em><strong>*1.5 编辑器的工作方式*</strong></em></h1><p>●工具用例图</p><p><img src="/2023/08/10/%E5%89%A7%E6%83%85%E7%BC%96%E8%BE%91%E5%99%A8%E6%A6%82%E8%BF%B0/image-20230810194323997.png" alt="image-20230810194323997"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 叙事模块 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>基础3c</title>
      <link href="/2023/08/10/%E5%9F%BA%E7%A1%803c/"/>
      <url>/2023/08/10/%E5%9F%BA%E7%A1%803c/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一-概述"><a href="#一-概述" class="headerlink" title="一. 概述"></a>一. <strong>概述</strong></h1><p>箱庭内非战斗状态下玩家对角色的操作控制</p><p>角色非战斗状态下的待机、跑步等行为的表现效果</p><h1 id="二-PC端角色基本操作"><a href="#二-PC端角色基本操作" class="headerlink" title="二. PC端角色基本操作"></a>二. <strong>PC端角色基本操作</strong></h1><h2 id="二-1-非战斗状态的UI界面"><a href="#二-1-非战斗状态的UI界面" class="headerlink" title="二.1. 非战斗状态的UI界面"></a>二.1. <strong>非战斗状态的UI界面</strong></h2><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps98.jpg" alt="img"> </p><p>非战斗状态下的UI界面如上图，以下简要说明：</p><p>​    左上菜单按钮，点击后呼出菜单界面并且激活鼠标</p><p>​    小地图，鼠标点击小地图或键盘点击M键打开大地图</p><p>​    任务按钮，鼠标点击按钮或键盘点击J键打开任务界面</p><p>​    右上角为功能按钮，可呼出鼠标点击打开对应界面</p><p>​    角色靠近可以交互的物体时出现交互按钮，点击F交互。玩家同时可能触发多个可交互的内容，按照交互内容激活顺序从上到下显示；离开了交互范围，交互按钮消失。可以使用鼠标滚轮移动选中目标，移动到最后一个不能再移动。</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps99.jpg" alt="img"> </p><p>​    UI界面的详细描述，后续有单独文档</p><p>进入战斗状态后，非战斗状态下的UI消失，切换为战斗状态的界面（先做直接硬切），战斗状态界面详见战斗相关基本操作文档</p><h2 id="二-2-相机"><a href="#二-2-相机" class="headerlink" title="二.2. 相机"></a>二.2. <strong>相机</strong></h2><p>角色默认在画面中间，可能不是正中间，以美术效果为准，下图为FF7效果参考</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps100.jpg" alt="img"> </p><p>屏幕中非功能热区处，滑动可控制镜头</p><p>​    鼠标左右滑动控制相机水平角度旋转，可以旋转360度。鼠标向右移动相机向左旋转，鼠标向左移动相机向右旋转。</p><p>​    鼠标上下滑动为调节相机俯仰角度，角度有限制，上下角度分别配置。鼠标向上推相机降低，鼠标向下推相机升高。</p><p>​    鼠标滚轮控制相机远近，距离有限制，最近距离和最远距离分别配置。向前滚动为镜头推进，向后滚动为镜头拉远。</p><p>角色移动时相机自动跟随</p><p>其余相机的特殊规则后续会有单独文档说明</p><h2 id="二-3-角色操作"><a href="#二-3-角色操作" class="headerlink" title="二.3. 角色操作"></a>二.3. <strong>角色操作</strong></h2><p>PC端通过WASD控制角色移动（以下所说方向均为相对镜头的方向）</p><p>​    W键位:向镜头方向移动</p><p>​    A键位:向镜头左侧移动</p><p>​    D键位:向镜头右侧移动</p><p>​    S键位:面向镜头移动</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps101.jpg" alt="img"> </p><p>单次按下按键和按住按键都会触发角色移动，按键的时间长短会影响角色移动的距离和表现效果，具体表现效果见下文。</p><p>按键同时按下角色会触发斜向的移动</p><p>​    在同一帧内有按键被同时按下，角色会向45度方向移动，详细见下图。</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps102.jpg" alt="img"> </p><p>​    相邻按键先后被按住也可以触发斜向的移动。例如先按A，角色会先向左侧移动，不松开A，再按下W，角色会向左前方移动</p><p>​    在两个按键同时按下的时候，松开其中一个按键，角色会调整为向保持按住的方向移动。例如同时按下W+A，角色朝左前方移动，松开A，角色转为向前移动</p><p>相反方向的按键同时按下，按键效果会抵消</p><p>​    例如先按下W，再按下S，角色会停下</p><p>​    在按住W和A的情况下，再按下D，角色会向前移动（A和D相互抵消掉，等于没有按）</p><h1 id="三-手机端角色基本操作"><a href="#三-手机端角色基本操作" class="headerlink" title="三. 手机端角色基本操作"></a>三. <strong>手机端角色基本操作</strong></h1><h2 id="三-1-非战斗状态的UI界面"><a href="#三-1-非战斗状态的UI界面" class="headerlink" title="三.1. 非战斗状态的UI界面"></a>三.1. <strong>非战斗状态的UI界面</strong></h2><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps103.jpg" alt="img"> </p><p>非战斗状态下的UI界面如上图，以下简要说明：</p><p>​    左上菜单按钮，点击后呼出菜单界面</p><p>​    小地图，点击小地图区域打开大地图</p><p>​    任务按钮，点击按钮打开任务界面</p><p>​    右上角为功能按钮，点击可打开对应界面</p><p>​    左下角为虚拟摇杆，控制角色移动</p><p>​    角色靠近可以交互的物体时出现交互按钮，点击按钮触发对应交互。玩家同时可能触发多个可交互的内容，按照交互内容激活顺序从上到下显示；离开了交互范围，交互按钮消失。</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps104.jpg" alt="img"> </p><p>​    UI界面的详细描述，后续有单独文档</p><p>进入战斗状态后，切换为战斗状态的界面（先做直接硬切），战斗状态界面详见战斗相关基本操作文档</p><h2 id="三-2-相机"><a href="#三-2-相机" class="headerlink" title="三.2. 相机"></a>三.2. <strong>相机</strong></h2><p>角色默认在画面中间，可能不是正中间，以美术效果为准，下图为FF7效果参考（与PC端一致）</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps105.jpg" alt="img"> </p><p>在相机热取范围内，手指滑动可控制镜头：</p><p>​    按住屏幕左右滑动控制相机水平角度旋转，可以旋转360度。向右滑动相机向左旋转，向左滑动相机向右旋转。</p><p>​    按住屏幕上下滑动为调节相机俯仰角度，角度有限制，上下角度分别配置。向上滑动相机降低，向下滑动相机升高。</p><p>​    双指缩放控制相机远近，距离有限制，最近距离和最远距离分别配置。双指张开为镜头推进，双指收拢为镜头拉远。</p><p>​    以上操作均可同时触发</p><p>相机热取的大小大致为：</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps106.jpg" alt="img"> </p><p>角色移动时相机自动跟随</p><p>其余相机的特殊规则后续会有单独文档说明</p><h2 id="三-3-角色操作"><a href="#三-3-角色操作" class="headerlink" title="三.3. 角色操作"></a>三.3. <strong>角色操作</strong></h2><p>手机端通过虚拟摇杆控制角色移动（以下所说方向均为相对镜头的方向）</p><p>摇杆操作：</p><p>​    虚拟摇杆有一个激活的热区范围，大致大小：</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps107.jpg" alt="img"> </p><p>​    玩家手指放在热区内激活摇杆使用，手指需要第一下落在热区内，从其他位置移动进热区不激活摇杆。</p><p>​    虚拟摇杆为万向操作，以玩家手指所在点与摇杆的中心连线，向外的方向为角色相对当前镜头的前进方向，且方向实时随玩家手指位置修正方向</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps108.jpg" alt="img"> </p><p>​    虚拟摇杆激活的状态下，玩家的手指可以在整个屏幕范围内移动，且不会触发画面里的其他按键</p><p>​    摇杆在激活状态下需要实时显示当前移动的方向，类似这种效果：</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps109.jpg" alt="img"> </p><p>​    抬起手指角色停止移动，虚拟摇杆回归默认状态</p><h1 id="四-角色表现效果"><a href="#四-角色表现效果" class="headerlink" title="四. 角色表现效果"></a>四. <strong>角色表现效果</strong></h1><h2 id="四-1-角色待机表现"><a href="#四-1-角色待机表现" class="headerlink" title="四.1. 角色待机表现"></a>四.1. <strong>角色待机表现</strong></h2><p>角色站立不动时为待机状态，循环播放该角色的待机动作（动作一般为站立，角色需要有轻微的起伏）</p><p>处于待机状态n秒后开始播放该角色的闲置动作，部分动作会有配套的语音或音效，根据动作的美术效果确定配套内容。</p><p>每个角色有多个闲置动作（建议3个），随机播放，且随机时不会随机到上一个播放的闲置动作</p><p>动作播完后会再过n秒会再次开始播放闲置动作</p><p>角色的任意移动、换人都会打断闲置动作，打断后需要等角色重新进入待机状态后n秒才会开始播放闲置动作</p><p>打开界面，游戏会暂停，计时也需要暂停，界面都关闭后会继续计时；如果闲置动作播到一半，打开界面，动作需要暂停，如果有音效和语音也暂停，关闭界面后如果角色没有位置移动（例如传送到了其他地方），则会继续播放闲置动作，如果有配套的音效和语音也会继续播放。</p><p>角色在待机状态下，待机的站立动作脚步需要与地形贴合</p><p><img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps110.jpg" alt="img"> <img src="/2023/08/10/%E5%9F%BA%E7%A1%803c/wps111.jpg" alt="img"></p><h2 id="四-2-角色移动表现"><a href="#四-2-角色移动表现" class="headerlink" title="四.2. 角色移动表现"></a>四.2. <strong>角色移动表现</strong></h2><p>角色移动整体分为三个部分： </p><p><img src="/image-20230811105622688.png" alt="image-20230811105622688"></p><p>​    转身起跑：转身到目标方向起跑的过程</p><p>​    跑步循环：跑步移动的过程</p><p>​    停跑：从跑步到停下的过程</p><p>动作表现为： </p><p><img src="/image-20230811105633134.png" alt="image-20230811105633134"></p><p>时序图：</p><p>​    完整流程：（图中帧数以1秒30帧为基础，具体的帧数仅供参考） </p><p><img src="/image-20230811105639433.png" alt="image-20230811105639433"></p><p>​    如果玩家按键时间较短，没有进入跑步阶段，跳过跑步阶段，直接进入停跑阶段 </p><p><img src="/image-20230811105645789.png" alt="image-20230811105645789"></p><p>​    时序图里的各处时间开始和结束的节点都需要可配置</p><p>​    整个跑的过程都需要支持动作融合</p><h3 id="四-2-1-转身起跑"><a href="#四-2-1-转身起跑" class="headerlink" title="四.2.1. 转身起跑"></a>四.2.1. <strong>转身起跑</strong></h3><p>当角色所面向的方向与要移动的方向夹角超过一定角度，需要旋转角色的面向，并且播放对应的转身动作 </p><p><img src="/image-20230811105652304.png" alt="image-20230811105652304"></p><p>​    顺时针角度大于等于45小于等于135度，向右旋转到目标方向，并且播放右转起跑动作</p><p>​    顺时针角度大于135小于225度，从转向角度小的一侧转过去，并且播放此方向的向后起跑动作。（例如从左侧转身向后则播放左侧向后转身动作）如果两边角度相等，则随机选择一个方向。</p><p>​    顺时针角度大于等于225度小于等于275度，向左旋转到目标方向，并且播放左转起跑动作</p><p>​    以上角度均需要可配置</p><p>向前起跑的动作分为左脚起跑动作和右脚起跑动作，向前起跑时：</p><p>​    默认播放右脚起跑动作</p><p>​    如果距离上次一播放起跑动作的时间不足n秒，则此次播放另外一个起跑动作。（目的是玩家快速操作单次移动时不要每次都迈同一只脚）</p><p>转身的速度，起跑速度都需要支持配置。需要支持部分角色单独配置。</p><h3 id="四-2-2-跑步"><a href="#四-2-2-跑步" class="headerlink" title="四.2.2. 跑步"></a>四.2.2. <strong>跑步</strong></h3><p>角色默认跑步（以后在特殊区域内会有其他移动方式，后续其他文档说明）</p><p>跑步动作为循环动作，需要与起跑动作融合</p><p>每个角色的跑步速度需要单独配置</p><p>跑步需要有跑步声音，需要与角色脚落地的动作匹配（暂时先不考虑不同材质的声音）</p><p>在跑步过程中玩家可以调整方向： </p><p><img src="/image-20230811105700292.png" alt="image-20230811105700292"></p><p>​    当前行进方向与改变方向之间的在135度（含）到225度（含）之间，需要播放一个转身动画改变方向，再继续跑。角度可配置。</p><p>​    时序图： </p><p><img src="/image-20230811105707717.png" alt="image-20230811105707717"></p><p>​    如果不在区间内，跑动中直接改变角色面向</p><h3 id="四-2-3-停跑"><a href="#四-2-3-停跑" class="headerlink" title="四.2.3. 停跑"></a>四.2.3. <strong>停跑</strong></h3><p>玩家停止移动操作角色停跑</p><p>玩家停止操作时，需要判断角色的跑步动作踏出的是左脚或右脚，如果是左脚播放右脚停跑动作，如果是右脚播放左脚停跑动作</p><p>两个停跑动作最后都要与待机动作相连接</p><p>停跑动作可以被其他动作打断，例如转身、起跑、攻击等动作。</p><p>停跑有默认速度，默认速度支持配置。需要支持部分角色单独配置。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 3c模块 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>地图系统方案调研</title>
      <link href="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/"/>
      <url>/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1-前准备"><a href="#1-前准备" class="headerlink" title="1.前准备"></a><strong>1.前准备</strong></h1><p>· 整理对于地图系统的概念</p><p>· 如何评价一套地图系统</p><p>· 需要思考的问题</p><h2 id="1-1地图功能的核心要素"><a href="#1-1地图功能的核心要素" class="headerlink" title="1.1地图功能的核心要素"></a><strong>1.1地图功能的核心要素</strong></h2><h3 id="①我在哪"><a href="#①我在哪" class="headerlink" title="*①我在哪*"></a><em><strong>*①我在哪*</strong></em></h3><p>我在当前场景的位置？我在世界的位置？<br>我在垂直维度上的位置？（如果场景突出垂直结构的话）</p><h3 id="②目标在哪"><a href="#②目标在哪" class="headerlink" title="*②目标在哪*"></a><em><strong>*②目标在哪*</strong></em></h3><p>目标在哪个场景？场景在世界的哪里？<br>垂直方向上是高还是低？</p><h3 id="③我怎么过去"><a href="#③我怎么过去" class="headerlink" title="*③我怎么过去*"></a><em><strong>*③我怎么过去*</strong></em></h3><p>我能够借助地图规划一条可执行的路径。</p><h2 id="1-2地图的制作类型"><a href="#1-2地图的制作类型" class="headerlink" title="1.2地图的制作类型"></a><strong>1.2地图的制作类型</strong></h2><h3 id="①街道型"><a href="#①街道型" class="headerlink" title="*①街道型*"></a><em><strong>*①街道型*</strong></em></h3><p>地图切的更碎，一个街道一张地图；</p><p>街道型地图在传统rpg游戏中很常见，例如ff7re、dq11、另一个伊甸等。</p><h3 id="②区域型"><a href="#②区域型" class="headerlink" title="*②区域型*"></a><em><strong>*②区域型*</strong></em></h3><p>一个区域一张地图，类似于巫师3那种，一个百果园会是一个相当大且有相当自由度的无缝大场景。</p><p>许多游戏会是区域性+街道型场景混合的方式，例如ff7re，既有较大自由度的居民区场景，也有更多各种结构简单的街道场景。</p><h3 id="③开放世界型"><a href="#③开放世界型" class="headerlink" title="*③开放世界型*"></a><em><strong>*③开放世界型*</strong></em></h3><p>整个世界是一个连贯的、整体的地图；</p><p>—-开放世界+凸显垂直场景结构：有时会采用3d透视地图，例如尼尔和赛博朋克2077。</p><h2 id="1-3怎么评价一套地图系统"><a href="#1-3怎么评价一套地图系统" class="headerlink" title="1.3怎么评价一套地图系统"></a><strong>1.3怎么评价一套地图系统</strong></h2><p>首先要保证最基本的功能：能够确认地图的核心要素—-我在哪、目标在哪、我怎么去。</p><p>其次，再确认这些核心要素的流程体验：</p><p>①是否简单直观：最好能一眼能就对核心要素有概念</p><p>②是否方便易用：以最少的操作分析获得一个具体的可执行的行动方案</p><h2 id="1-4带着问题调研"><a href="#1-4带着问题调研" class="headerlink" title="1.4带着问题调研"></a><strong>1.4带着问题调研</strong></h2><p>如何体现场景之间的联系—-位置关系？连接道路？</p><p>是否需要（以及如何体现）地势的高低</p><p>如何显示纵向多层场景结构</p><h1 id="2-调研"><a href="#2-调研" class="headerlink" title="2.调研"></a><strong>2.调研</strong></h1><h2 id="2-1传统rpg"><a href="#2-1传统rpg" class="headerlink" title="2.1传统rpg"></a><strong>2.1传统rpg</strong></h2><p>传统jrpg地图系统一般会将地图分层展现</p><p>· 街道地图&#x2F;区域地图：</p><p>展现更加细节的场景要素，玩家能够获得自己以及目标的精准位置</p><p>会注重街道&#x2F;区域之间的连接，比如显示出&#x2F;入口的目标区域是什么</p><p>街道地图&#x2F;区域地图会是玩家主要使用的地图</p><p>· 世界地图</p><p>用于将街道地图&#x2F;区域地图串联起来，给到玩家一个世界的整体概念，能够大概理解不同区域之间的位置关系</p><p>玩家对于“我怎么去”，有一个初步概念</p><h3 id="2-1-1ff7re"><a href="#2-1-1ff7re" class="headerlink" title="2.1.1ff7re"></a><strong>2.1.1ff7re</strong></h3><p>· </p><h4 id="地图系统预览"><a href="#地图系统预览" class="headerlink" title="*地图系统预览*"></a><em><strong>*地图系统预览*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps68.jpg" alt="img"></p><p>· </p><h4 id="特点"><a href="#特点" class="headerlink" title="*特点*"></a><em><strong>*特点*</strong></em></h4><p>· 没有无缝大世界，采用一个场景一个地图的方式，场景有可能是一个大型区域或者仅仅是一个街道，甚至一个楼层，它将这些场景的地图并列的在列表里面列出来。</p><p>​     依据剧情概念，例如第五区、第七区将这些地图分组。</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps69.jpg" alt="img"></p><p>· 地图层级&#x2F;类型</p><p>　①世界地图–3d透视地图，展现整个米加德区域，只能抽象的展现这个世界的样貌，无法通过交互查看对应区域的地图。</p><p>　②街道&#x2F;区域地图–2d平面地图</p><p>​       地图列表—-一个场景一个地图</p><p>​       地图打组—-一组地图属于某一个大型区域（例如第七区贫民窟，这是一个剧情概念）</p><p>· </p><h4 id="评价"><a href="#评价" class="headerlink" title="*评价*"></a><em><strong>*评价*</strong></em></h4><p>· 不止一次在论坛上看到 “这地图是真的看不懂”，使用体验非常的差。</p><p>​      问题的主要原因主要在于玩家在基本要素的获取上都非常困难：</p><p>　①get不到场景之间的位置关系，没有陆行鸟车站时根本不知道怎么过去，顺着路跑，走着走着一开地图发现越走越偏。</p><p>　②目标点经常在地图上的黑区，无法第一时间制定行动方案，研究行动路线都要看很久，非常劝退。</p><p><em>举个例子：第五区有A、B、C、D、E五张图，我在A居民区，目标在E政府大楼-1层；我能够知道A和E什么样，但是我不知道怎么过去–因为我不知道地图的出口通向哪，不知道中间要跨越哪些地图。另外，不可能在大型建筑的每一层都放置一个传送点。</em></p><p>　③世界地图完全不能把场景串联起来。</p><p>​     如果计划路线都需要消耗相当的精力和时间，甚至需要去尝试和探索，那这是纯纯的负反馈</p><h3 id="2-1-2dq11s"><a href="#2-1-2dq11s" class="headerlink" title="*2.1.2dq11s*"></a><em><strong>*2.1.2dq11s*</strong></em></h3><p>· </p><p>世界地图：</p><p>· </p><p>​     <img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps70.jpg" alt="img"><br>​      粗略的世界地图，无法看到场景细节，可以在大地图直接传送到目标地图传送点</p><p>· </p><p>区域地图：</p><p>· </p><p>​     <img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps71.jpg" alt="img"><br>​     每个无缝场景有专属区域地图，地图出口有目标区域名称</p><p>​     通过查看“附近的地图”这种方式来关联不同区域地图</p><p>​     并不是每个区域地图都在世界地图上有映射点</p><p>· 评价<br>传统jrpg地图做法，比较好用，但是仍然很难直观的感知到各个场景之间的位置关系</p><p>​     相比ff7re功能更加完整：</p><p>　①知道地图出口去往哪，能够思路清晰的规划路线</p><p>　②不会虚空标点，造成错误引导。</p><p>　③世界地图其实尽量好的把不同区域串联了起来，玩家能从中get到区域的位置关系。</p><p>​     虽然还是有点不方便，但熟悉这套系统是能够方便使用的。</p><h3 id="2-1-3巫师3"><a href="#2-1-3巫师3" class="headerlink" title="2.1.3巫师3"></a><strong>2.1.3巫师3</strong></h3><p>· 世界地图</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps72.jpg" alt="img"></p><p>· 区域地图</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps73.jpg" alt="img"></p><p>巫师3的特点在于它有很大的无缝的区域地图，体验上更像是多个小型的开放世界拼起来的游戏世界。</p><p>具体到我们项目，我们可能会既有这种大型场景的区域地图，也有那种更细的街道型地图。</p><h3 id="2-1-4另一个伊甸"><a href="#2-1-4另一个伊甸" class="headerlink" title="2.1.4另一个伊甸"></a><strong>2.1.4另一个伊甸</strong></h3><p>· </p><p>世界地图</p><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps74.jpg" alt="img"></p><p>· </p><p>街道地图</p><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps75.jpg" alt="img"></p><p>玩家实际使用的场景地图是街道结构地图–&gt;拼成一个区域（剧情定义的区域概念）–&gt;这些场景区域抽象化的在世界地图上呈现。</p><h2 id="2-2开放世界"><a href="#2-2开放世界" class="headerlink" title="2.2开放世界"></a><strong>2.2开放世界</strong></h2><h3 id="2-2-1原神"><a href="#2-2-1原神" class="headerlink" title="2.2.1原神"></a><strong>2.2.1原神</strong></h3><p>· </p><h4 id="大地图"><a href="#大地图" class="headerlink" title="*大地图*"></a><em><strong>*大地图*</strong></em></h4><p>· </p><p>存在多级界面展示，通过滚轮放大缩小切换</p><p>　①国家级别</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps76.jpg" alt="img"></p><p>显示内容：场景片区名（具有统一风格的场景）、神像、副本<br>　②区级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps77.jpg" alt="img"><br>显示内容：场景片区的子区域名、传送点、玩家标记、活动点、<br>*同时会移除场景片区名<br>　③城级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps78.jpg" alt="img"><br>显示内容：市区npc功能点（铁匠铺、西风教堂、冒险家协会、··· ···）</p><p>· </p><h4 id="独立场景片区，只有两个显示级别（例如金苹果群岛、层岩巨源）"><a href="#独立场景片区，只有两个显示级别（例如金苹果群岛、层岩巨源）" class="headerlink" title="*独立场景片区，只有两个显示级别（例如金苹果群岛、层岩巨源）*"></a><em><strong>*独立场景片区，只有两个显示级别（例如金苹果群岛、层岩巨源）*</strong></em></h4><p>· </p><p>　①国级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps79.jpg" alt="img"><br>显示内容：片区名（双双岛）、传送点、活动点、<br>　②区级<br>移除片区名（双双岛)</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps80.jpg" alt="img"><br>显示片区的子区域名（巨蛇岩洞&lt;层岩巨渊，层岩巨渊和双双岛同级）</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps81.jpg" alt="img"></p><p>· </p><h4 id="地图列表"><a href="#地图列表" class="headerlink" title="*地图列表*"></a><em><strong>*地图列表*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps82.jpg" alt="img"></p><p>多个无缝场景之间通过场景列表切换</p><p>· </p><h4 id="仅查看秘境功能"><a href="#仅查看秘境功能" class="headerlink" title="*仅查看秘境功能*"></a><em><strong>*仅查看秘境功能*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps83.jpg" alt="img"></p><p>· </p><h4 id="查看目标点信息"><a href="#查看目标点信息" class="headerlink" title="*查看目标点信息*"></a><em><strong>*查看目标点信息*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps84.jpg" alt="img"></p><p>· </p><h4 id="平面地图的地势高低"><a href="#平面地图的地势高低" class="headerlink" title="*平面地图的地势高低*"></a><em><strong>*平面地图的地势高低*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps85.jpg" alt="img"></p><p>通过特殊的绘画技法在平面地图上表现了地势的高低，仔细看其实能在这个平面图上看出地势的高低</p><p>· </p><h4 id="小地图"><a href="#小地图" class="headerlink" title="*小地图*"></a><em><strong>*小地图*</strong></em></h4><p>· </p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps86.jpg" alt="img"></p><p>使用和大地图相同的资源<br>地图固定朝向，玩家标记的朝向和场景实际朝向一致不断变化</p><p>· </p><h4 id="传送点"><a href="#传送点" class="headerlink" title="*传送点*"></a><em><strong>*传送点*</strong></em></h4><p>· </p><p>七天神像：可以传送；站旁边可以回血；可以点亮一片地图<br>普通传送点：可以传送<br>副本点：可以直接传送到副本门口<br>活动点：可以直接传送到活动入口（后期添加功能，估计能有效提升玩家的活动参与率）</p><p>· </p><h4 id="评价-1"><a href="#评价-1" class="headerlink" title="*评价*"></a><em><strong>*评价*</strong></em></h4><p>· </p><p>侧重垂直结构的场景，地图使用体验比较差。以层岩巨渊为例，经常找不到路的入口。</p><h3 id="2-2-2幻塔"><a href="#2-2-2幻塔" class="headerlink" title="2.2.2幻塔"></a><strong>2.2.2幻塔</strong></h3><p>类似原神的做法，但是地图绘制相对粗糙，地势的高低效果表达得更差。（但是仍然可以看到，它通过等高线以及涂色的深浅来反映地势的高低）</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps87.jpg" alt="img"></p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps88.jpg" alt="img"></p><h3 id="2-2-3塞尔达"><a href="#2-2-3塞尔达" class="headerlink" title="2.2.3塞尔达"></a><strong>2.2.3塞尔达</strong></h3><p>世界级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps89.png" alt="img"><br>区域级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps90.png" alt="img"><br>细分场景级（城市、平原、丘陵等各种风格化场景全貌）</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps91.png" alt="img"><br>街道级</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps92.png" alt="img"></p><h2 id="2-3（凸显垂直结构的）3d透视地图"><a href="#2-3（凸显垂直结构的）3d透视地图" class="headerlink" title="2.3（凸显垂直结构的）3d透视地图"></a><strong>2.3（凸显垂直结构的）3d透视地图</strong></h2><h3 id="2-3-1尼尔"><a href="#2-3-1尼尔" class="headerlink" title="2.3.1尼尔"></a><strong>2.3.1尼尔</strong></h3><p>3d透视抽象方块</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps93.jpg" alt="img"></p><h3 id="2-3-2赛博朋克2077"><a href="#2-3-2赛博朋克2077" class="headerlink" title="2.3.2赛博朋克2077"></a><strong>2.3.2赛博朋克2077</strong></h3><p>世界地图：可以放大缩小但是没有其他层级的显示</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps94.jpg" alt="img"><br>小地图—-采用的当前层更细节化抽象化的场景地图</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps95.jpg" alt="img"></p><h1 id="3-假设做个类开放世界地图"><a href="#3-假设做个类开放世界地图" class="headerlink" title="3.假设做个类开放世界地图"></a><strong>3.假设做个类开放世界地图</strong></h1><h2 id="3-1-一整块连贯的大地图"><a href="#3-1-一整块连贯的大地图" class="headerlink" title="*3.1.一整块连贯的大地图*"></a><em><strong>*3.1.一整块连贯的大地图*</strong></em></h2><p>①操作上可以通过放大缩放的操作感受世界整体概念、或者一些场景细节。</p><p>②这样的地图思路使用起来思路是连贯的</p><p>比如提起A、B区域，脑子里能有画面，这些区域大概在空间得哪个位置，而不是A在B左边、C在B下边这样抽象印象</p><h2 id="3-2-地图可能会变成东一块西一块的样式"><a href="#3-2-地图可能会变成东一块西一块的样式" class="headerlink" title="*3.2.地图可能会变成东一块西一块的样式*"></a><em><strong>*3.2.地图可能会变成东一块西一块的样式*</strong></em></h2><p>①为什么许多rpg不这么做：</p><p>开放世界是本身是一个紧密连续的世界，而一般rpg营造的世界概念非常大，并且只选取其中的部分区域制作游戏场景</p><p>rpg地图的有效区域以连贯的方式绘制出来容易是东一块西一块的样式</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps96.jpg" alt="img"></p><p>以这个概念图为例，实际上的有效区域只有A和α、β，它们相隔甚远</p><p>②这个问题可以怎么搞</p><p><img src="/2023/08/10/%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F%E6%96%B9%E6%A1%88%E8%B0%83%E7%A0%94/wps97.jpg" alt="img"></p><p>我们可以将有效区域以外的地图概念也绘制出来，比如启光帝国，这个坑洞以及坑洞中的柱子要体现出来。</p><p>对于可以活动的有效区域，使用特殊（美术展现方式）凸显出来，让玩家意识到这是可以行动的区域</p><p>这种方式有个限制—-如果我们营造的世界概念真的非常非常大，只有极为微小的区域是活动区域，那就gg。举个极端的例子，世界概念是宇宙，但我们不可能绘制出宇宙。</p><p>我们需要考虑：有效区域&#x2F;无效区域 的比例</p><h2 id="3-3-垂直方向上的多层重叠场景结构"><a href="#3-3-垂直方向上的多层重叠场景结构" class="headerlink" title="*3.3.垂直方向上的多层重叠场景结构*"></a><em><strong>*3.3.垂直方向上的多层重叠场景结构*</strong></em></h2><p>①需要把多层的活动区域切成不同活动场景，且同一个场景不能有(或者要极为谨慎的处理)俯视角下重叠的区域，我们需要对每个活动场景绘制平面地图。</p><p>②地图系统中如何操作</p><p>我们将地图放大到对应区域，例如A柱子（我们定义A为一个有效活动区域，它因为垂直结构的特性拥有多个场景）</p><p>当放大到一定程度时，会浮现场景选择ui，可以通过该ui切换该区域显示的各层场景</p><p>可以理解为将多个地图切片堆叠，当查看中间层的场景时，上层的地图会隐藏消失</p><h2 id="3-4-我们需要反映地势的高低吗"><a href="#3-4-我们需要反映地势的高低吗" class="headerlink" title="*3.4.我们需要反映地势的高低吗*"></a><em><strong>*3.4.我们需要反映地势的高低吗*</strong></em></h2><p>①我觉得不刚需</p><p>我们没有垂直方向上的自由移动，从需求上出发我觉得玩家对地势高低的判断是不刚需的—-我们并非自由的可以从任何一个方向向上爬，而是按规定好的道路前行，我们只要把多层场景划分好就行。</p><p>②不过还是得有</p><p>我仍然希望我们的地图看上去像是一个俯视角的沙盘，能够感知到各种地势的高低，类似原神的地图那样（或者更明显一点？）用特殊的绘画技法实现。</p><p>我希望通过地图系统能传达一个对这个世界立体概念的感知，这是一个直觉的，无需刻意注意的感知。</p><p>③拒绝等高线</p><p>我觉得等高线是在刚需条件下的妥协做法</p><p>它带来的感知是抽象、且技术性、逻辑性的</p><h2 id="3-5-小地图"><a href="#3-5-小地图" class="headerlink" title="*3.5.小地图*"></a><em><strong>*3.5.小地图*</strong></em></h2><p>结合前面思路，我们还是有各个场景的区域(街道)地图，只是我希望能把这些地图连贯的在大地图上展现</p><p>小地图使用对应的街道&#x2F;区域地图，类似于dq11的做法，需要标记地图的出口；</p><p>小地图是否要固定朝向（上北下南）</p><p>​      是；固定角色方向（朝上）更适用于赛车游戏的做法，它会更加注意对“左右”的感知，而我们更在意自己要去哪儿。</p><h1 id="4-采用传统rpg的做法"><a href="#4-采用传统rpg的做法" class="headerlink" title="*4.采用传统rpg的做法*"></a><em><strong>*4.采用传统rpg的做法*</strong></em></h1><p>· </p><p>前面提到的类开放世界的做法，地图系统可能会对其他部分的设计提出过多要求</p><p>· </p><p>· 基于以下两个点，可能我们就是无法做出一个连贯的大地图：</p><p>​     ①营造的世界概念非常大，可活动区域相对很小</p><p>​       类rpg做法：只需要绘制一个粗糙的大世界地图，然后对可活动区域标点，通过标点映射到各个区域地图；</p><p>​       类开放世界做法：对大量的无效区域同样需要精细的绘制（基于典型的放大缩小操作）；另外如果无效区域很大，操作起来也会不方便；</p><p>​     ②由于（世界到区域）映射关系并不准确，各个活动区域的地图实际上是无法拼成世界地图的。</p><p>​       假设我们有A、B、C三张地图，B是连接A、C的通道。基于各自场景对玩家体验的需求，进行了独立的设计，然后从上帝视角看，这三张图在相同比例下就是拼不起来的。</p><h2 id="4-1类rpg式的地图需要考虑哪些问题："><a href="#4-1类rpg式的地图需要考虑哪些问题：" class="headerlink" title="*4.1类rpg式的地图需要考虑哪些问题：*"></a><em><strong>*4.1类rpg式的地图需要考虑哪些问题：*</strong></em></h2><p>· 玩家直接使用的各个分片的区域地图（某个建筑或区域的某一层）怎么组织起来，以及在系统里怎么呈现出来。</p><h3 id="4-1-1地图如何分级呈现"><a href="#4-1-1地图如何分级呈现" class="headerlink" title="*4.1.1地图如何分级呈现*"></a><em><strong>*4.1.1地图如何分级呈现*</strong></em></h3><p>· 剧情概念的地图分级：世界、国家、省市区域、大型建筑；</p><p>​     依据剧情概念，这个层级划分在逻辑上是非常清楚的，但是我们无法接受玩家在交互上需要切换四个层级的地图，所以需要考虑哪些层级是可以统一的。</p><p>​     ①世界到区域：前面提到，当世界概念非常大，有效区域很小时，我们不得不将世界和区域分级呈现；（世界和区域之间可能存在其他划分概念例如“国家”，那么将他在世界地图上直接呈现，而不会存在一个国家级别的地图）</p><p>​     ②区域到大型建筑：区域上存在的大型建筑，它的内部结构可能远远比外部的大，且有自己独立的一套地图（指建筑的每层地图集合），区域和大型建筑之间逻辑上是包含关系而不是并列关系。</p><h3 id="4-1-2区域和大型建筑的关系"><a href="#4-1-2区域和大型建筑的关系" class="headerlink" title="*4.1.2区域和大型建筑的关系*"></a><em><strong>*4.1.2区域和大型建筑的关系*</strong></em></h3><p>世界-区域-大型建筑：三层结构仍然是不易操作的，所以考虑将大型建筑和区域并级。</p><p>并级的意思是在世界地图上大型建筑和区域都有独有的映射点，可以直接从世界地图上打开一个建筑的地图，地图列表里面也会包含大型建筑的选项。</p><p>dq11里面采用了类似的做法，大型建筑实际上被视为了一个区域。</p><h3 id="4-1-3地图之间如何关联"><a href="#4-1-3地图之间如何关联" class="headerlink" title="*4.1.3地图之间如何关联*"></a><em><strong>*4.1.3地图之间如何关联*</strong></em></h3><p>· 在dq11里面，处于当前地图时可以查看附近的区域地图（同时区域地图里面，会标注各个出口的目标地图。），可以在任何时候查看世界地图，但是不能从世界地图直接查看各个区域的地图。</p><p>· 基于dq11方案的优化：可以直接从世界地图上进入各个区域地图，也可以在区域地图上直接点击进入附近的地图。</p><h3 id="4-1-4多层场景如何呈现"><a href="#4-1-4多层场景如何呈现" class="headerlink" title="*4.1.4多层场景如何呈现*"></a><em><strong>*4.1.4多层场景如何呈现*</strong></em></h3><p>大型建筑内部一般存在多层场景，需要对每层单独绘制地图，并且提供一个切换方案（参考星穹铁道的切换地图层ui）；</p><p>大型区域也可能存在多层场景，可以采用统一的方式处理。</p><h3 id="4-1-5地图列表呈现效果"><a href="#4-1-5地图列表呈现效果" class="headerlink" title="*4.1.5地图列表呈现效果*"></a><em><strong>*4.1.5地图列表呈现效果*</strong></em></h3><p>基于前面的思路，地图列表会列举所有的区域地图。</p><p>这么做存在的问题是：</p><p>①大型建筑往往从属于某个区域（剧情概念），但是在列表里和区域并级，不符合剧情直觉；（参考原神的地图列表，（从属某个国家）地区、国家、尘歌壶是并列的）</p><p>②如果我们尽量做小而多的场景的话，地图列表显然会是长长的一列，这也是不可接受的，我们或许需要对这些地图进行分组处理（类似ff7re做法）。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 辅助系统 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>非战斗角色动作类型</title>
      <link href="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/"/>
      <url>/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="非剧情、非战斗角色动作类型参考及演示"><a href="#非剧情、非战斗角色动作类型参考及演示" class="headerlink" title="*非剧情、非战斗角色动作类型参考及演示*"></a><em><strong>*非剧情、非战斗角色动作类型参考及演示*</strong></em></h1><h1 id="0-文档说明"><a href="#0-文档说明" class="headerlink" title="*0.文档说明*"></a><em><strong>*0.文档说明*</strong></em></h1><p>· 整理了（剧情、战斗以外）可能会有的角色动作类型及其举例演示</p><p>· 以逻辑差异的方式进行分类</p><p>· 以尽量细的方式列举我们可能会有的动作，而并非明确的需要以下所有动作</p><p>· 以下案例图均为gif格式，如果没有正常播放可以点开查看</p><h1 id="1-角色移动"><a href="#1-角色移动" class="headerlink" title="*1.角色移动*"></a><em><strong>*1.角色移动*</strong></em></h1><h2 id="1-1基础移动动作"><a href="#1-1基础移动动作" class="headerlink" title="*1.1基础移动动作*"></a><em><strong>*1.1基础移动动作*</strong></em></h2><h3 id="●走"><a href="#●走" class="headerlink" title="*●走*"></a><em><strong>*●走*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps33.png" alt="img"></p><h3 id="●小跑"><a href="#●小跑" class="headerlink" title="*●小跑*"></a><em><strong>*●小跑*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps34.png" alt="img"></p><h3 id="●冲刺跑"><a href="#●冲刺跑" class="headerlink" title="*●冲刺跑*"></a><em><strong>*●冲刺跑*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps35.png" alt="img"></p><h3 id="●攀爬"><a href="#●攀爬" class="headerlink" title="*●攀爬*"></a><em><strong>*●攀爬*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps36.png" alt="img"></p><h3 id="●普通游泳"><a href="#●普通游泳" class="headerlink" title="*●普通游泳*"></a><em><strong>*●普通游泳*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps37.png" alt="img"></p><h3 id="●冲刺游泳"><a href="#●冲刺游泳" class="headerlink" title="*●冲刺游泳*"></a><em><strong>*●冲刺游泳*</strong></em></h3><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps38.png" alt="img"></p><h2 id="1-2特殊移动动作"><a href="#1-2特殊移动动作" class="headerlink" title="*1.2特殊移动动作*"></a><em><strong>*1.2特殊移动动作*</strong></em></h2><p>​       未来可能会有，需要时会根据实际情况提出</p><h3 id="●过夹缝"><a href="#●过夹缝" class="headerlink" title="*●过夹缝*"></a><em><strong>*●过夹缝*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps39.png" alt="img"></p><h3 id="●下蹲前行"><a href="#●下蹲前行" class="headerlink" title="*●下蹲前行*"></a><em><strong>*●下蹲前行*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps40.png" alt="img"></p><h3 id="●上臂吊行"><a href="#●上臂吊行" class="headerlink" title="*●上臂吊行*"></a><em><strong>*●上臂吊行*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps41.png" alt="img"></p><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps42.png" alt="img"></p><h3 id="●扶栏杆走"><a href="#●扶栏杆走" class="headerlink" title="*●扶栏杆走*"></a><em><strong>*●扶栏杆走*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps43.png" alt="img"></p><h3 id="●快速下梯子"><a href="#●快速下梯子" class="headerlink" title="*●快速下梯子*"></a><em><strong>*●快速下梯子*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps44.png" alt="img"></p><h3 id="●走平衡木"><a href="#●走平衡木" class="headerlink" title="*●走平衡木*"></a><em><strong>*●走平衡木*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps45.png" alt="img"></p><h1 id="2-待机循环动作"><a href="#2-待机循环动作" class="headerlink" title="*2.待机循环动作*"></a><em><strong>*2.待机循环动作*</strong></em></h1><h3 id="●呼吸动作循环-角色头发、服饰飘动"><a href="#●呼吸动作循环-角色头发、服饰飘动" class="headerlink" title="*●呼吸动作循环&amp;角色头发、服饰飘动*"></a><em><strong>*●呼吸动作循环&amp;角色头发、服饰飘动*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps46.png" alt="img"></p><h3 id="●眨眼循环"><a href="#●眨眼循环" class="headerlink" title="*●眨眼循环*"></a><em><strong>*●眨眼循环*</strong></em></h3><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps47.png" alt="img"></p><h3 id="●待机动作"><a href="#●待机动作" class="headerlink" title="*●待机动作*"></a><em><strong>*●待机动作*</strong></em></h3><p>​        角色至少会有两个待机动作，在玩家不操作时连续、循环的播放</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps48.png" alt="img"></p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps49.png" alt="img"></p><h1 id="3-与外部物件的交互"><a href="#3-与外部物件的交互" class="headerlink" title="*3.与外部物件的交互*"></a><em><strong>*3.与外部物件的交互*</strong></em></h1><h3 id="●坐椅子上（躺床上）"><a href="#●坐椅子上（躺床上）" class="headerlink" title="*●坐椅子上（躺床上）*"></a><em><strong>*●坐椅子上（躺床上）*</strong></em></h3><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps50.png" alt="img"></p><h3 id="●开门"><a href="#●开门" class="headerlink" title="*●开门*"></a><em><strong>*●开门*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps51.png" alt="img"></p><h3 id="●操作机关"><a href="#●操作机关" class="headerlink" title="*●操作机关*"></a><em><strong>*●操作机关*</strong></em></h3><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps52.png" alt="img"></p><h3 id="●开宝箱"><a href="#●开宝箱" class="headerlink" title="*●开宝箱*"></a><em><strong>*●开宝箱*</strong></em></h3><p>​        普通开箱</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps53.png" alt="img"></p><p>​        *塞尔达·旷野之息里面会有更加丰富的角色开箱动作</p><p>​         落实到我们项目里，我们可能会对不同性格的角色采用不同的开箱动作</p><p>​        脚踢开箱</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps54.png" alt="img"></p><p>​        拳头开箱</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps55.png" alt="img"></p><p>​        脚踢开箱2（带装备）</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps56.png" alt="img"></p><p>​        希卡之石开箱</p><p>​        <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps57.png" alt="img"></p><h1 id="4-基于外部环境变化的反馈"><a href="#4-基于外部环境变化的反馈" class="headerlink" title="*4.基于外部环境变化的反馈*"></a><em><strong>*4.基于外部环境变化的反馈*</strong></em></h1><h3 id="●天气变化（下雨天、下雪天、打雷天）"><a href="#●天气变化（下雨天、下雪天、打雷天）" class="headerlink" title="*●天气变化（下雨天、下雪天、打雷天）*"></a><em><strong>*●天气变化（下雨天、下雪天、打雷天）*</strong></em></h3><p>​        对应的天气变化状态下，角色可能会做出基于天气变化的动作表现（以及语音）。</p><h3 id="●角色改变看向（头部看向、眼球看向）"><a href="#●角色改变看向（头部看向、眼球看向）" class="headerlink" title="*●角色改变看向（头部看向、眼球看向）*"></a><em><strong>*●角色改变看向（头部看向、眼球看向）*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps58.png" alt="img"></p><h3 id="●跳水（下落目标区域为水时）"><a href="#●跳水（下落目标区域为水时）" class="headerlink" title="*●跳水（下落目标区域为水时）*"></a><em><strong>*●跳水（下落目标区域为水时）*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps59.png" alt="img"></p><h3 id="●跨越栏杆（判定移动路径上有可跨越护栏时）"><a href="#●跨越栏杆（判定移动路径上有可跨越护栏时）" class="headerlink" title="*●跨越栏杆（判定移动路径上有可跨越护栏时）*"></a><em><strong>*●跨越栏杆（判定移动路径上有可跨越护栏时）*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps60.png" alt="img"></p><p>​        </p><h1 id="5-基于某个动作的接续"><a href="#5-基于某个动作的接续" class="headerlink" title="*5.基于某个动作的接续*"></a><em><strong>*5.基于某个动作的接续*</strong></em></h1><h3 id="●跑步停止动作"><a href="#●跑步停止动作" class="headerlink" title="*●跑步停止动作*"></a><em><strong>*●跑步停止动作*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps61.png" alt="img"></p><h3 id="●攀爬检测到顶部的跳跃"><a href="#●攀爬检测到顶部的跳跃" class="headerlink" title="*●攀爬检测到顶部的跳跃*"></a><em><strong>*●攀爬检测到顶部的跳跃*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps62.png" alt="img"></p><h3 id="●折返跑"><a href="#●折返跑" class="headerlink" title="*●折返跑*"></a><em><strong>*●折返跑*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps63.png" alt="img"></p><h1 id="6-照相模式"><a href="#6-照相模式" class="headerlink" title="*6.照相模式*"></a><em><strong>*6.照相模式*</strong></em></h1><h3 id="●照相姿势"><a href="#●照相姿势" class="headerlink" title="*●照相姿势*"></a><em><strong>*●照相姿势*</strong></em></h3><p>​        照相模式下玩家可以自选角色pose和表情</p><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps64.jpg" alt="img"></p><p>​       </p><h1 id="7-NPC动作"><a href="#7-NPC动作" class="headerlink" title="*7.NPC动作*"></a><em><strong>*7.NPC动作*</strong></em></h1><h3 id="●被玩家撞击"><a href="#●被玩家撞击" class="headerlink" title="*●被玩家撞击*"></a><em><strong>*●被玩家撞击*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps65.png" alt="img"></p><h3 id="●被攻击反馈"><a href="#●被攻击反馈" class="headerlink" title="*●被攻击反馈*"></a><em><strong>*●被攻击反馈*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps66.png" alt="img"></p><h3 id="●打招呼反馈"><a href="#●打招呼反馈" class="headerlink" title="*●打招呼反馈*"></a><em><strong>*●打招呼反馈*</strong></em></h3><p>​       <img src="/2023/08/10/%E9%9D%9E%E6%88%98%E6%96%97%E8%A7%92%E8%89%B2%E5%8A%A8%E4%BD%9C%E7%B1%BB%E5%9E%8B/wps67.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 3c模块 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>战斗验证玩法</title>
      <link href="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/"/>
      <url>/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Ⅰ、设计目的"><a href="#Ⅰ、设计目的" class="headerlink" title="*Ⅰ、设计目的*"></a><em><strong>*Ⅰ、设计目的*</strong></em></h1><p>作为长线养成游戏，我们需要在玩家的养成成长中持续提供战力验证以维持玩家的养成追求（目标感）同时消耗玩家精力（有事可做）。</p><h1 id="Ⅱ、关于战斗力验证玩法的基础构想"><a href="#Ⅱ、关于战斗力验证玩法的基础构想" class="headerlink" title="*Ⅱ、关于战斗力验证玩法的基础构想*"></a><em><strong>*Ⅱ、关于战斗力验证玩法的基础构想*</strong></em></h1><p>高端一次性内容–隐王</p><p>随版本更替逐渐开放的一次性爬塔内容</p><p>周常&#x2F;月常式的复刷式爬塔内容</p><h1 id="Ⅲ、调研目标"><a href="#Ⅲ、调研目标" class="headerlink" title="*Ⅲ、调研目标*"></a><em><strong>*Ⅲ、调研目标*</strong></em></h1><p>①爬塔玩法（主要对象）</p><p>②深渊玩法（复刷式爬塔）</p><p>③RougeLike元素</p><p>· 围绕职业、角色、技能、或某个效果的build</p><p>④隐王机制（另一个伊甸）</p><h1 id="Ⅳ、复刷式爬塔案例"><a href="#Ⅳ、复刷式爬塔案例" class="headerlink" title="*Ⅳ、复刷式爬塔案例*"></a><em><strong>*Ⅳ、复刷式爬塔案例*</strong></em></h1><hr><h2 id="1-魔兽世界-罪魂之塔"><a href="#1-魔兽世界-罪魂之塔" class="headerlink" title="*1.魔兽世界-罪魂之塔*"></a><em><strong>*1.魔兽世界-罪魂之塔*</strong></em></h2><p>· 类型：RougeLike地下城式探险玩法活动，可复刷周常PVE挑战，单人为主可组队，轻度依赖玩家基础数值。</p><p>· 基础规则： </p><p>o 数据存储：单人每次挑战给予3次复活机会，每6层进行记录，可以随时离开并再回归到有记录的层数，但如果复活机会用完，只能重新开始副本。</p><p>o rouglike元素： </p><p>§ 幻灭心能：塔内设有货币幻灭心能，以此与塔内商人交易，获取心能之力。</p><p>§ 心能之力具有四种品质，可强化技能、属性、天赋、塔的效果，可连续叠加。</p><p>§ 攀爬到72层可以达到200+次心能之力，强化效果非常强力。</p><p>o 刷新机制：共7个场景，每周开放2个。</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173514496.png" alt="image-20230810173514496"></p><p>· 难度机制： </p><p>· 8个难度，需要一级一级推进，直到最终解锁8个难度。</p><p>· 直接打8难度可以拿完前面所有奖励。</p><p>· 只有有一个场景达到难度8，其他场景也可以直接打8，难度解锁是共通的。</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173545868.png" alt="image-20230810173545868"></p><p>· 挑战内容：每层挑战的内容为怪物战斗与解谜。</p><p>· 奖励： </p><p>o 每周设有奖励上限（一个场景600灰烬），奖励随难度提升下降（1级难度150，2级难度100），只打到第5层仍然有465灰烬。（数值后面有调整，但是设计思路没变）</p><p>o 每日可以多次进入，门票极易获取。</p><p>备注&amp;说明：</p><p>奖励发放机制，①最高难度打不过但是已经拿了大部分奖励的玩家，心里会比较舒服削弱了损失反馈；②打完任一难度就能领取前面所有奖励，玩家会觉得很赚，省肝，玩家会愿意尝试突破；③更高难度额外的奖励仍然是有吸引力的，并且收益是持久的，玩家更愿意去尝试。</p><p>关于心能之力：积累200+心能之力（一套combo秒了boss爽不爽，应该是真爽），很多玩家甚至为了打出某个效果反复尝试。这套设计的关键在于塔内成长和玩家基础数值之间的平衡，是否能接受重度塔内成长。</p><h2 id="2-原神-深渊"><a href="#2-原神-深渊" class="headerlink" title="*2.原神-深渊*"></a><em><strong>*2.原神-深渊*</strong></em></h2><p>· 类型：可复刷月常单人PVE挑战，无组队无助战，高度依赖玩家数值。</p><p>· 基础规则： </p><p>o 结构：深渊一共12层，每层有3间，每间有上下半区。</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173610340.png" alt="image-20230810173610340"></p><p>· </p><p>· 存档： </p><p>· 每间进行一次存档，玩家中途可随时退出。</p><p>· 当前“间”的挑战没有完成，下次进入会重新开始。</p><p>· 每层的挑战，血量和能量是连续的；不同层之间，可以换队伍，并且血量和能量重置为满状态。</p><p>· 刷新：9~12层每月刷新，包含奖励刷新和挑战内容刷新。</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173624630.png" alt="image-20230810173624630"></p><p>· </p><p>· 其他机制： </p><p>· 解锁：上一层总星数&gt;&#x3D;6时解锁下一层；同层内通过限时战斗即可解锁下一间。</p><p>· 环境buff：每层会有一个基础debuff效果，可能是对玩家的负面状态或对怪物的强化状态。</p><p>· 渊月祝福：每次更换深渊时刷新。</p><p>· 限时：同一间上下半区公用一个计时器，“挑战用时”分多档对应多个挑战星级，星级和奖励挂钩。</p><p>· 挑战失败：超出最低限时或全队倒下。</p><p>· 守塔挑战：数量较少，一般11层第一间固定守塔，挑战星级和塔的血量挂钩。</p><p>· 强化buff：某层挑战的每一间会有三选一的buff，buff分是否可继承到下一间，不同层之间buff不连续。强化效果各式各样，一般只选加伤害效果。buff强度一般，微微提高上限。</p><p>· 挑战内容：怪物战斗。</p><p>· 奖励：每月刷新9~12层奖励，每层奖励独立，依据星级发放；</p><p>备注&amp;说明：</p><p>原神的这套设计比较贪，在最初版本深渊的设计里，可以看出，它既想完成①偏重度的数值验证，②又希望通过其他体验系统（例如rougelike）提升复刷体验，并且③不要又过度压力（他们认为深渊并非体验的核心）</p><p>从结果来看：①偏重度的数值验证，从后续版本来看已经只能算中度，很多角色6命强度直接放飞；②辅助体验系统，可以说几乎没有生效；渊月祝福和每间三选一的buff带来的提升无决定性价值，几乎不被玩家在意；③深渊的压力确实比较小。</p><p>笔者认为这三个条件就是很难同时达成的</p><p>· 强战斗数值+强战中策略 意味着高压、强竞技性，可以参考后面剑灵-无尽之塔。</p><p>· 强战中策略（强rougelike元素，重视塔内成长），无视基础数值（ff14 死者宫殿）不符合养成游戏的原始设计目的。</p><p>我们可以拆为多个系统：</p><p>· 而强战中策略+中度数值检测（罪魂之塔）+较低强度，是可行的；而强战斗数值+较低压力的系统也是可行的。</p><h2 id="3-剑灵-无尽之塔"><a href="#3-剑灵-无尽之塔" class="headerlink" title="*3.剑灵-无尽之塔*"></a><em><strong>*3.剑灵-无尽之塔*</strong></em></h2><p>· 类型：可重复挑战日常PVE活动（单人竞技），重度依赖玩家基础数值。</p><p>· 基础规则： </p><p>o 结构和存档：强时间限制1V1竞技PVE，层数共100层，不能进行中途退出，挑战开始后会根据每层击杀速度进行层数上升。</p><p>o 日常挑战。</p><p>o 挑战失败： </p><p>§ 时间限制：每次挑战总限时8分钟（后面删除并只限制每层战斗4分钟）。</p><p>§ 次数限制：每次挑战与AI玩家战斗最多五次，五次打太慢达不到100层也算作结束。</p><p>§ 对手限制：当历史爬塔层数进入过排行榜，系统会找寻排名相近玩家的数据作为对手，如果打完后层数比对手低算作挑战失败，同层则进行挑战时间比较。</p><p>§ 存活限制：角色战斗死亡直接结束。</p><p>o 战略武功设定：允许玩家观察对手后从三个战略中挑选一个仅限本层使用，并且未被挑选的两个武功将会被留在下次挑选。（增加玩家对于本层乃至下面多层战略武功选取的策略考量）</p><p>· 挑战内容：每层挑战的内容为1V1玩家机器人决斗。</p><p>· 奖励：挑战结束后会根据层数给予奖励，每日可参与获得奖励三次。</p><p>备注&amp;评价：</p><p>这套设计虽然是pve，但竞技性极强难度很高，想通关100层靠的不仅仅是装备，还要靠自身的策略选择和技术手法。</p><p>它同时完成了重度的数值验证和高强度的复刷体验（高难度、竞技、策略系统），设计本身非常优秀（设计目的明确，系统机制强力有效），但是肝度和压力过高，针对我们项目原始规划而言，重数值验证玩法不太希望过于高强度。。</p><h2 id="4-无期迷途-浊暗之井"><a href="#4-无期迷途-浊暗之井" class="headerlink" title="*4.无期迷途-浊暗之井*"></a><em><strong>*4.无期迷途-浊暗之井*</strong></em></h2><p>· 类型：可重复挑战日常PVE副本，中度依赖玩家数值。</p><p>· 基础规则： </p><p>o 结构：分5套难度，最高难度内有5个关卡，每天可选一套难度打，奖励随难度提升而上升。</p><p>o 存档：每次关卡挑战成功后存档，挑战中途可离开；</p><p>o 关卡胜利条件：塔防机制，玩家血量未归0的条件下击败所有怪物。</p><p>o 其他机制： </p><p>§ 入场：能够选定所有达到55级的角色入场；</p><p>§ 血量和蓝量在关卡间连续，不重置，角色死亡不能复活（后面关卡都不能用）；</p><p>· 奖励 </p><p>o 每次关卡挑战成功会发放专属货币，在专属商店购买。</p><p>o 商品具有独有的装备（独占渠道）。</p><p>备注&amp;评价：</p><p>①基于日常的复刷式设计，没有高压环境，②关卡本身无任何变化，③战斗系统本身是完善的战法牧体系，玩家基本不会进行角色轮换。</p><p>基于上述条件的结果：玩家的实际体验就是每天打一套完全没有变化的关卡，获取定额的系统货币（奖励无任何惊喜的可能）。</p><p>从结果来看，这套设计是非常仓促且粗糙的，唯一的体验设计没有生效，相当于什么都没有。笔者认为这个案例说明了：虽然引入rougelike设计不一定合适，并且做好也很难，但是如果什么都没做，一定是个比较差的方案。</p><h1 id="Ⅴ、一次性爬塔案例"><a href="#Ⅴ、一次性爬塔案例" class="headerlink" title="*Ⅴ、一次性爬塔案例*"></a><em><strong>*Ⅴ、一次性爬塔案例*</strong></em></h1><hr><h2 id="1-完美世界手游-浮屠之塔"><a href="#1-完美世界手游-浮屠之塔" class="headerlink" title="*1.完美世界手游-浮屠之塔*"></a><em><strong>*1.完美世界手游-浮屠之塔*</strong></em></h2><p>· 类型：不可重复挑战PVE活动，角色进度记录，重度依赖玩家数值。</p><p>· 基础规则： </p><p>o 不限顶层，玩家每天只可以挑战5次，挑战成功时升入下一层不会重复扣除次数，被击败或者是主动离开都会视为失败，需重新消耗次数开启挑战。</p><p>o 每日重置挑战次数，挑战过的层数不可以再次挑战。</p><p>o 扫荡机制：打过的关卡可以消耗扫荡次数扫荡，获取通用资源。</p><p>· 挑战内容：规定时间内击杀掉每层出现的怪物。</p><p>· 奖励：经验、金币、材料等。扫荡获取通用资源。</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/584_20190314110019297.jpg" alt="img"></p><p>备注&amp;评价：</p><p>纯数值爬塔设计，简单、无脑、有效，适配mmo数值系统，不适配多角色养成项目的养成广度检测。</p><p>无游戏体验辅助系统设计，体验来源于奖励，数值验证（养成验证）的乐趣。</p><p>扫荡机制：每天点一点别把这个系统忘了。这个机制虽然有效，但是点点点就能获得的体验属于“廉价且低质”，我们可能会有专门的这样的系统，但是它出现在战斗验证玩法里显得很不干净，简单说是下策。</p><h1 id="Ⅵ、设计组件"><a href="#Ⅵ、设计组件" class="headerlink" title="*Ⅵ、设计组件*"></a><em><strong>*Ⅵ、设计组件*</strong></em></h1><p>Ο 案例抽象结构拆分</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173645660.png" alt="image-20230810173645660"></p><p>Ο 我们将设计组件分类，主要围绕以下三个模块：肝度的设计、体验的设计、奖励的设计。这三个模块同时也是玩法设计的核心要素。</p><h2 id="1-时间（肝度）的设计"><a href="#1-时间（肝度）的设计" class="headerlink" title="*1.时间（肝度）的设计*"></a><em><strong>*1.时间（肝度）的设计*</strong></em></h2><p>· 是否复用</p><p>o 一次性爬塔</p><p>o 复刷式爬塔</p><p>· 门票机制 </p><p>o 每日发放门票，门票数量有上限。</p><p>o 无门票，每日限次，过时不保留。</p><p>o 无限制挑战，或门票极易获取。</p><p>· 复活机制 </p><p>o 1命通关（或3命通关等），彻底死亡后从0开始。</p><p>o 拆分多阶段，单个阶段内要求一 命通关—-类似原神深渊的每层视为一个阶段。</p><p>o 极限拆分，每关满血满蓝。</p><p>· 存档机制 </p><p>o 无存档，离开即结算。</p><p>o 每层存档或多层存一次档。</p><p>· 评价机制（凹不凹分） </p><p>o 无评分，战斗胜利即通关。</p><p>o 限时，依据用时分级评价</p><p>o 守塔，依据塔血量分级评价</p><h2 id="2-游戏体验设计"><a href="#2-游戏体验设计" class="headerlink" title="*2.游戏体验设计*"></a><em><strong>*2.游戏体验设计*</strong></em></h2><p>· rougelike元素设计（什么时候可以用这个设计，怎么用，能有什么效果？） </p><p>o buff的获取方式：购买或者每层发放。</p><p>o buff的累加：短阶段内累加，或全程累加。</p><p>o buff的使用策略（构筑方式）： </p><p>§ 围绕角色（属性）进行构筑；</p><p>§ 围绕职业进行构筑；</p><p>§ 围绕某个技能进行构筑；</p><p>§ 围绕某条核心buff进行构筑。</p><p>· 特殊机制 </p><p>o 每层有个“独特的环境效果”—-类似罪魂之塔的每日祝福和折磨buff，原神的环境buff（噬能之雷–每隔一段时间吃掉玩家全队一点能量）</p><h2 id="3-奖励设计"><a href="#3-奖励设计" class="headerlink" title="*3.奖励设计*"></a><em><strong>*3.奖励设计*</strong></em></h2><p>· 奖励发放节点 </p><p>o 首通奖励</p><p>o 基于每阶段挑战评分</p><p>o 基于本次挑战的结算</p><p>o 基于玩家排名（强竞技性）</p><p>· 奖励的发放方式 </p><p>o 固定奖励</p><p>o 随机奖励</p><p>o 额外奖励</p><h1 id="Ⅵ、初版构思"><a href="#Ⅵ、初版构思" class="headerlink" title="*Ⅵ、初版构思*"></a><em><strong>*Ⅵ、初版构思*</strong></em></h1><p>Ο 3套战力验证玩法。</p><p>鼓励尝试，且“尝试行为”尽量不受限制。</p><h2 id="①道馆（一次性爬塔）"><a href="#①道馆（一次性爬塔）" class="headerlink" title="*①道馆（一次性爬塔）*"></a><em><strong>*①道馆（一次性爬塔）*</strong></em></h2><h3 id="设计目的："><a href="#设计目的：" class="headerlink" title="*设计目的：*"></a><em><strong>*设计目的：*</strong></em></h3><p>· 强目标导向的、玩家纯粹的战斗能力验证的玩法、重度依赖数值（关键角色甚至角色关键命座，合适的组队阵容，正确的操作手法）。</p><p>· 包装为类似于宝可梦的道馆，难度更大，后期属于毕业检测。</p><h3 id="设计要素："><a href="#设计要素：" class="headerlink" title="*设计要素：*"></a><em><strong>*设计要素：*</strong></em></h3><p>· 每版本（每个地图）开放一座新塔。</p><p><em>制作方式</em></p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173702704.png" alt="image-20230810173702704"></p><p>· 战前策略：阵容搭配、阵容分配（需要同时使用多支队伍）</p><p>· 难度从直线上升到基本持平保持微幅上升（指数值），后期难度考验集中于阵容的搭配与改变而非数值的提升，即从纵向数值成长的考验转化为培养广度的考验。</p><p>· 基于一次性，挑战内容包含解密与怪物挑战，可能会有丰富的地图机制和“少量的解密要素”（解密设计待思考，可能没有）。</p><p>· *塔具有祝福buff和折磨buff，每日替换。或者祝福和折磨每日都是三选一。</p><p>· 无rougelike要素</p><h3 id="道馆玩法战斗强度验证与养成进度的关系"><a href="#道馆玩法战斗强度验证与养成进度的关系" class="headerlink" title="*道馆玩法战斗强度验证与养成进度的关系*"></a><em><strong>*道馆玩法战斗强度验证与养成进度的关系*</strong></em></h3><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173716908.png" alt="image-20230810173716908"></p><h3 id="1号版本-最后一个塔-战力验证机制-养成时间"><a href="#1号版本-最后一个塔-战力验证机制-养成时间" class="headerlink" title="*1号版本_最后一个塔_战力验证机制&amp;养成时间*"></a><em><strong>*1号版本_最后一个塔_战力验证机制&amp;养成时间*</strong></em></h3><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173736532.png" alt="image-20230810173736532"></p><p>备注&amp;说明：</p><p>· 关于时间规划（仅表达概念，准确养成数值设计待定） </p><p>o 前四周玩家基于大量一次性资源可以快速培养一个完整的队伍；</p><p>o 4<del>12周，玩家需要持续参与获得养成资源，在原有1队的基础上拆散组建2队并养成应对爬塔 11层</del>20层新环境。</p><p>o 13~20周同理，玩家需要培养第三队应对新的爬塔环境。</p><p>· 关于养成广度检测 </p><p>o 在塔内完成养成广度检测的切换，从1队→3队。</p><p>o 绝对挑战强度 是一个分段函数（基于队伍数量需求分段），而非连续的增长曲线.</p><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173752999.png" alt="image-20230810173752999"></p><h3 id="关于设计的思考："><a href="#关于设计的思考：" class="headerlink" title="*关于设计的思考：*"></a><em><strong>*关于设计的思考：*</strong></em></h3><p>· 作为多角色养成游戏，我们没有无限制的数值成长机制，很难做一个无限累积层数的爬塔系统。作为广度的考验，我们可以调整设计为多个平行的塔，每个塔对阵容的搭配有特殊的要求。</p><p>· 关于rougelike机制：一次性爬塔系统希望更加专注于玩家对于基于自身资产（角色培养、阵容等）战斗力本身的验证。</p><p>· 作为持续保留的一次性资源有可能会导致长时间运营过后奖励累积量过大，需要对奖励严格控制—-任何时期入坑的玩家所能获得的资源总量是否符合预期。</p><p>· 关于祝福和折磨buff。 </p><p>o 为什么可以有这个设计。作为可以少量突破玩家队伍上限的系统，能够鼓励玩家尝试（而非卡住后、逐渐遗忘），它实际上提供了一个战力验证的润滑区间（并且这个区间是可控的），能够帮助用户转化。</p><p>· 由于奖励持续保留，实际上玩家没有紧迫感，探索意愿可能不足。</p><h2 id="②深渊（复刷式爬塔）"><a href="#②深渊（复刷式爬塔）" class="headerlink" title="*②深渊（复刷式爬塔）*"></a><em><strong>*②深渊（复刷式爬塔）*</strong></em></h2><h3 id="设计目的：-1"><a href="#设计目的：-1" class="headerlink" title="*设计目的：*"></a><em><strong>*设计目的：*</strong></em></h3><p>· 鼓励玩家反复去尝试的，有较好过程乐趣的玩法，中度依赖数值（无角色强需求但需要毕业养成程度）。</p><p>· 有谈资，过程体验并非爽完即止，而是①可分享、可复刻的；②有成就体验或评分机制，提供高端挑战的谈资。</p><p>· 上限就是战力全满可以无buff通关，下限是微氪可以充分利用机制拿满奖励。</p><h3 id="关于rougelike机制："><a href="#关于rougelike机制：" class="headerlink" title="*关于rougelike机制：*"></a><em><strong>*关于rougelike机制：*</strong></em></h3><p>· 提升复刷体验，更强的爽快感，构筑的乐趣。</p><p>· ①随机是可控的；②风险和收益成正比。</p><p>· rougelike如果做成一套有价值的体系（而非添头），玩家在游玩这个玩法时也会有强烈的割裂感。 </p><p>o 规则上的割裂：原战斗系统本身是一套完善的设计，强行加一套系统可能容易让人觉得臃肿</p><p>o 设定上的割裂：游戏世界中如果事物本身无法被其他事物所解释，那么它的存在就是突兀的。</p><h3 id="设计要素：-1"><a href="#设计要素：-1" class="headerlink" title="*设计要素：*"></a><em><strong>*设计要素：*</strong></em></h3><p>· 3套难度，玩家可以选一套打，但是前面的打过了才能选下一套。</p><p>· 无限制挑战次数。</p><p>· 刷新机制：每两周刷新一次（或周刷）。包含奖励刷新，同时（难度3）挑战内容也会改变。</p><p>· 同难度内一命通关，血、蓝数值连续。（无法考验单次挑战阵容替换）</p><p>· 存档机制，每关存档，可随时离开，并回到当前挑战进度。 </p><p>o 可凹分：基于rougelike机制，假设玩家同时有高风险高收益和低风险低收益的buff可选，那么鼓励尝试高收益决策，如果尝试后不行可以重开重选。愿意尝试的玩家有获得更高收益的机会且是无成本的。</p><p>· rougelike设计 </p><p>o 方式1：（类罪魂之塔） </p><p>§ 获取方式：塔内商店购买，塔内战斗掉落专属货币。</p><p>§ 强度：部分buff全程累加，数值较强。</p><p>§ 构筑方式：①围绕角色；②围绕某个效果；③围绕角色技能</p><p>o 方式2：（类似哈迪斯） </p><p>§ 每次战斗开始时发放3选1强化效果，玩家基于自身玩法选择合适的buff。</p><p>§ 强化效果全程累加，可能存在部分buff只生效当次战斗。</p><p>o 方式3： </p><p>§ 每次战斗开始时发放一次buff，存入buff背包（例如发三个，都放入背包）。</p><p>§ 玩家可以在战斗时任一时间使用buff（例如按R或T打开buff列表），使用时会消耗cost，每层cost固定，越上层费用越多越能使cost更高的卡牌。</p><p>§ buff之间可能存在连锁效果（做任务），例如某条buff的效果可能是“使下次攻击增幅200%，如果本次战斗已经使用10次强化，那么改为增幅1000%”</p><p>§ 甚至可以让玩家自定义深渊buff库</p><p>· 奖励系统 </p><p>o 每套难度都有奖励，难度越高奖励越少，但是通关高难度可以直接领取低难度奖励。设计上“难度3的奖励”需要能够让打不过的玩家①内心能够接受这个损失，并且②对于获得它怀有期望（有足够吸引力）。</p><p>o 设置商店机制，会有打过了难度3才能购买的高性价比奖励，强化吸引力。</p><h3 id="深渊运行与维护机制"><a href="#深渊运行与维护机制" class="headerlink" title="*深渊运行与维护机制*"></a><em><strong>*深渊运行与维护机制*</strong></em></h3><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173821645.png" alt="image-20230810173821645"></p><h3 id="关于轮换机制与玩家养成的关系"><a href="#关于轮换机制与玩家养成的关系" class="headerlink" title="*关于轮换机制与玩家养成的关系*"></a><em><strong>*关于轮换机制与玩家养成的关系*</strong></em></h3><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173836607.png" alt="image-20230810173836607"></p><h3 id="关于战中策略的强度与深渊层数的关系（仅表达趋势）"><a href="#关于战中策略的强度与深渊层数的关系（仅表达趋势）" class="headerlink" title="*关于战中策略的强度与深渊层数的关系（仅表达趋势）*"></a><em><strong>*关于战中策略的强度与深渊层数的关系（仅表达趋势）*</strong></em></h3><p><img src="/2023/08/10/%E6%88%98%E6%96%97%E9%AA%8C%E8%AF%81%E7%8E%A9%E6%B3%95/image-20230810173842231.png" alt="image-20230810173842231"></p><h2 id="③隐王机制"><a href="#③隐王机制" class="headerlink" title="*③隐王机制*"></a><em><strong>*③隐王机制*</strong></em></h2><p>· 极高难度挑战，可以把所有系统拉到上限，包含料理系统。</p><p>· 开启需要完成一个复杂隐藏任务并且包含具有难度的解密流程。</p><p>· 首通奖励：称号、名片、钻石、成就奖励等，可以组队。</p><p>· 单人挑战特殊奖励：单人通关称号，单人通关成就等，接入分享系统；或者一个限时装饰物，可自由选择使用，持续到下个版本开始。</p><p>· 复刷奖励：装备、武器等，等同于更高级的精英怪物，不消耗体力，有复活时间（4小时或1天）。—-可包装为战斗回忆</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 战斗模块 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 调研 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sequence制作及优化</title>
      <link href="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/"/>
      <url>/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一、Sequence动画制作"><a href="#一、Sequence动画制作" class="headerlink" title="*一、Sequence动画制作*"></a><em><strong>*一、Sequence动画制作*</strong></em></h1><h3 id="1-新建sequence文件"><a href="#1-新建sequence文件" class="headerlink" title="*1 新建sequence文件*"></a><em><strong>*1 新建sequence文件*</strong></em></h3><p>· 方式如下图：中文名为关卡序列</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps120.jpg" alt="wps120"></p><p>· 也可以复制之前的sequence（推荐使用该方法），它能让你配置得更快。 </p><p>o 参考如下路径（里面包含最早一批制作的sequence）：depot_pj\trunk\client\Content\Product\ResourcesStatic\ArtResources\Animations\Shengsuo</p><h3 id="2-新建镜头轨道"><a href="#2-新建镜头轨道" class="headerlink" title="*2 新建镜头轨道*"></a><em><strong>*2 新建镜头轨道*</strong></em></h3><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps121.jpg" alt="wps121"></p><h3 id="3-新建actor到sequencer的轨道"><a href="#3-新建actor到sequencer的轨道" class="headerlink" title="*3 新建actor到sequencer的轨道*"></a><em><strong>*3 新建actor到sequencer的轨道*</strong></em></h3><p>· 你需要将前面提到的攀爬机关的资源加入sequence轨道：</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps122.jpg" alt="img"></p><p>· 添加后，此时你的sequence界面会有这些轨道：</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps123.jpg" alt="img"></p><h3 id="4-添加动画"><a href="#4-添加动画" class="headerlink" title="*4 添加动画*"></a><em><strong>*4 添加动画*</strong></em></h3><p>· 我们需要将人物和绳子动画挂在sequence的轨道上</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps124.jpg" alt="img"></p><p>· 绳子的动画资源说明：</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps125.jpg" alt="img"></p><p>· 男主的动画资源说明（以下只提会用到的）： </p><p>o NanZhu_Shengsuo：男主踢绳子的动作</p><p>o NanZhu_Shengsuo01：男主从绳子上滑下来的动作</p><p>o NanZhu_Shengsuo02：男主爬绳子上去的动作</p><p>o NanZhu_Idle：男主的待机动作</p><h3 id="5-调整全局帧数"><a href="#5-调整全局帧数" class="headerlink" title="*5 调整全局帧数*"></a><em><strong>*5 调整全局帧数*</strong></em></h3><p>· K帧之前先设定一下sequence的总帧数，具体到攀爬交互，尽量让它和之前制作的sequence保持一致。</p><p>· 拖动这两侧的绿线和红线，改变播放的起始和结束帧。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps126.jpg" alt="img"></p><h3 id="6-部署关键帧"><a href="#6-部署关键帧" class="headerlink" title="*6 部署关键帧*"></a><em><strong>*6 部署关键帧*</strong></em></h3><p>完成前面的工作之后，我们就可以开始K帧了</p><p>· 先K actor的关键帧</p><p>① 我们先将指示器调到第0帧。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps127.jpg" alt="img"></p><p>② 然后在场景中调整actor的位置（第0帧时actor正确的位置）；</p><p>③ 然后点击transform轨道的那个小圈，会将它的子轨道都部署上关键帧，此时sequence就记住了第0帧该actor的位置。</p><p>④ 将actor的第0帧关键帧部署好后可以播放一下动画，观察效果表现</p><p>⑤ 重复1~3步，在其他必要位置也部署上关键帧，保证动画的流程运行；</p><p>· 然后再K相机的关键帧</p><p>① 见下图，启用相机视角后驾驶该相机移动到初始帧合适的视角；</p><p>② 同样点击transform旁边的那个小圆圈，sequence就会记住这个画面；</p><p>③ 重复上述操作，在整条动画轴上需要的位置打上关键帧，保证全程镜头画面正常（tips：二分法原则，先打首尾，中间慢慢填慢慢修）</p><p>④ 关键帧部署完成后，播放一下这个sequence，觉得没问题的话，这个sequence就算完成。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps128.jpg" alt="img"></p><h3 id="7-补充：关于镜头融合相关的配置"><a href="#7-补充：关于镜头融合相关的配置" class="headerlink" title="*7 补充：关于镜头融合相关的配置*"></a><em><strong>*7 补充：关于镜头融合相关的配置*</strong></em></h3><p>镜头融合指从游戏相机切换到sequence相机时，镜头是融合的而非瞬切的，为了完成这个效果，需要补充部分配置。</p><p>包含两部分的配置：①sequence结束后，中控角色的transform；②游戏相机的方向。</p><p>· 配置流程： </p><p>o 点开攀爬机关的蓝图实例，在detile面板的找到配置位置如下图所示</p><p>o 可以看到有三组数据，分别是对应①踢绳子②攀爬行为③滑下行为</p><p>o 每一组内数据包含两种，一个是游戏相机的旋转，另一个是主控角色的transform。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps129.jpg" alt="img"></p><h1 id="二、sequence视觉优化技巧"><a href="#二、sequence视觉优化技巧" class="headerlink" title="*二、sequence视觉优化技巧*"></a><em><strong>*二、sequence视觉优化技巧*</strong></em></h1><p>在上述操作中，我们完成了一个最简单且可用的sequence，但是基于使用环境的不同，它的表现很可能不尽人意；此时我们可以使用一些手法优化它的呈现。</p><h2 id="1-相机的视觉中心不对、老是抖怎么办"><a href="#1-相机的视觉中心不对、老是抖怎么办" class="headerlink" title="*1.相机的视觉中心不对、老是抖怎么办*"></a><em><strong>*1.相机的视觉中心不对、老是抖怎么办*</strong></em></h2><p>· 我们可以使相机的视觉中心始终追踪一个动态的点，来稳定相机的画面，如下图操作所示。这样相机就会持续且稳定的追踪这个黄色小方块，在相机追踪的效果下，可以辅助我们部署关键帧。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps130.jpg" alt="img"></p><p>· 这个方法在当前的攀爬机关中不能使用，因为动画虽然造成了角色模型的位移，但是actor本身没有移动，此时需要使用一个取巧的方法：</p><p>① 我们向场景中拖入一个空的actor</p><p>② 在sequence中引用这个actor（生成它的轨道）</p><p>③ 选中该actor，添加“附加”轨道，如下图所示，点击选中要追踪的男主；</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps131.jpg" alt="img"></p><p>④ 然后会弹出下图所示的复选框，里面全部是nanzhu的骨骼，我们可以选定一个合适的骨骼，例如男主的neck（头部）</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps132.jpg" alt="img"></p><p>⑤ 接着，同样使用相机追踪，且追踪目标为这个空actor。</p><p>⑥ 注意，你需要将这个空actor保留在场景中，否则下次启动关卡时，sequence会因为找不到这个“空actor”而出现相机追踪错乱。</p><h2 id="2-切镜的手法"><a href="#2-切镜的手法" class="headerlink" title="*2.切镜的手法*"></a><em><strong>*2.切镜的手法*</strong></em></h2><p>· 切镜的手法可以用于解决很多问题，比如： </p><p>o 你觉得全程一个视角太无聊了，你想中途切换一下有个“不一样”的体验。</p><p>o 角色动作过快，看起来不协调（比如攀爬中下滑起始的那部分动作），可以切镜略过。</p><p>o 攀爬的高度远远超出预期，不可能让玩家看着爬太久，中间切镜瞬移一段距离。</p><p>· 那么如何在sequence中切镜： </p><p>o 先新建一个相机；</p><p>o 在相机切换轨道中导入这个相机的画面；</p><p>o 在相机切换轨道中调整各个相机的播放时间；</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps133.jpg" alt="img"></p><h2 id="3-时间膨胀轨道怎么用"><a href="#3-时间膨胀轨道怎么用" class="headerlink" title="*3.时间膨胀轨道怎么用*"></a><em><strong>*3.时间膨胀轨道怎么用*</strong></em></h2><p>· 时间膨胀轨道可以在sequence演出过程中动态调整播放的速度，一般我们会在镜头转动过快、或者角色动作过快的的时候放慢这里的速度。</p><p>· 使用流程： </p><p>o 在“+轨道”中选中时间膨胀轨道；</p><p>o 将进度调到你希望改变播放速度的帧，改变膨胀数值（默认值是1），例如改到0.6，打上关键帧；</p><p>o 接着播放一下你就会发现sequence的播放速度中途改变了，并且这个改变的方式是线性的，这显然不符合预期。</p><p>o 我们可以通过改变关键帧插值的方式调整它的变化曲线，需要查看后面第4点。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps134.jpg" alt="img"></p><h2 id="4-改变关键帧插值"><a href="#4-改变关键帧插值" class="headerlink" title="*4.改变关键帧插值*"></a><em><strong>*4.改变关键帧插值*</strong></em></h2><p>· 关键帧插值可以理解为关键帧的各种类型，不同类型对应不同的过渡方式。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps135.jpg" alt="img"></p><p>· 通常我们使用常量来造成突变的曲线，常量的含义是：从它开始到下一个关键帧的前一帧都和它保持一致。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps136.jpg" alt="img"></p><p>· 关键帧的曲线是可以手动精细化调整的，打开曲线编辑器即可。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps137.jpg" alt="img"></p><h2 id="5-相机被墙挡住了怎么办"><a href="#5-相机被墙挡住了怎么办" class="headerlink" title="*5.相机被墙挡住了怎么办*"></a><em><strong>*5.相机被墙挡住了怎么办*</strong></em></h2><p>· 改变相机的位置和焦距 </p><p>o 将相机的近切面拖动到墙体前面，这样相机就会看不见这面墙，同时actor会变大（因为距离近了）；</p><p>o 改变相机的焦距，此时就会发现，相机位置没有动但是仍然可以改变actor在画面上的大小，调整到合适位置。</p><p>· 隐藏墙体 </p><p>o 选中挡住视野的墙体，将它加入sequence轨道；</p><p>o 添加可视性轨道</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps138.jpg" alt="img"></p><p>· </p><p>· 在轨道上标点，红色为不可见，绿色为可见。</p><p><img src="/2023/08/10/sequence%E5%88%B6%E4%BD%9C%E5%8F%8A%E4%BC%98%E5%8C%96/wps139.jpg" alt="img"></p><h2 id="6-人变糊了怎么办（光圈的数值调整）"><a href="#6-人变糊了怎么办（光圈的数值调整）" class="headerlink" title="*6.人变糊了怎么办（光圈的数值调整）*"></a><em><strong>*6.人变糊了怎么办（光圈的数值调整）*</strong></em></h2><p>· 调光圈，建议改到40，基本上就不太会糊了</p>]]></content>
      
      
      <categories>
          
          <category> 虚幻 </category>
          
          <category> sequence </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具使用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>umg基础操作</title>
      <link href="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/"/>
      <url>/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="UMG基础操作"><a href="#UMG基础操作" class="headerlink" title="*UMG基础操作*"></a><em><strong>*UMG基础操作*</strong></em></h1><h1 id="一、Summary"><a href="#一、Summary" class="headerlink" title="*一、Summary*"></a><em><strong>*一、Summary*</strong></em></h1><p>1.我们有时候会需要策划负责umg的拼接的工作来帮助程序更好的完成ui预制任务。关于ui开发流程规范查看<a href="https://wiki.h3d.com.cn/pages/viewpage.action?pageId=72384180">UI制作流程 - JRPG-A3 - H3D Confluence</a></p><p>2.文档分享内容包含在已有美术设计资源的条件下，策划如何完成拼接umg的工作，以及有哪些注意事项。</p><h1 id="二、Content"><a href="#二、Content" class="headerlink" title="*二、Content*"></a><em><strong>*二、Content*</strong></em></h1><p>1.Canvas panel控件</p><p>♦ canvas panel相当于当前ui界面的画布，这个界面的所有物件都应该属于这个控件的子类，它的大小一般对应游戏界面的大小，并且子物件以此为参照。</p><p><img src="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/image-20230810165329109.png" alt="image-20230810165329109"></p><p>♦ Canvas panel控件的属性</p><p><img src="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/WPS%E5%9B%BE%E7%89%87(1).png" alt="WPS图片(1)"></p><h2 id="2-text控件"><a href="#2-text控件" class="headerlink" title="*2.text控件*"></a><em><strong>*2.text控件*</strong></em></h2><p>♦ text控件负责文本内容的输入，在所有需要输入文本的地方需要使用该控件。</p><p>♦ text控件的属性</p><p><img src="/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/WPS%E5%9B%BE%E7%89%87(2).png" alt="WPS图片(2)"></p><p>♦ 额外注意：text控件的文字大小和ps中不一致，约为ps中大小的0.75倍。</p><h2 id="3-image控件"><a href="#3-image控件" class="headerlink" title="*3.image控件*"></a><em><strong>*3.image控件*</strong></em></h2><p>♦ 美术效果往往是一些图片资源，这些图片需要使用image控件来显示出来。</p><p>♦ 需要注意的属性</p><p>◊ 显示层级，zorder定义当前控件的显示级别，数字越大越上层。</p><p><img src="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/wps98.jpg" alt="img"></p><p>◊ 导入图片：在style下的image位置导入美术设计的对应图片资源，一般来说做到这一步就足够了，不需要调整其他的效果（如果大小和色彩有明显的偏差，直接找美术）。</p><p><img src="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/wps99.jpg" alt="img"></p><h2 id="4-水平和垂直框"><a href="#4-水平和垂直框" class="headerlink" title="*4.水平和垂直框*"></a><em><strong>*4.水平和垂直框*</strong></em></h2><p>♦ 水平框和垂直框的内部可以堆放多个控件，这些控件会以水平或垂直的方式摆放。</p><p>♦ 它们的意义在于能强制自己的子类以水平或者垂直的方向排列，即使子控件（在游戏中）变大变小，旁边的控件会被挤压开而非出现重叠效果。</p><p>◊ 如下图所示角色的身份位置包含一个text控件和两个image控件，text控件会受字数变化而改变长短。此时我们将它们放在一个水平框下面。</p><p><img src="/2023/08/10/umg%E4%BD%BF%E7%94%A8%E5%88%86%E4%BA%AB/wps100.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 虚幻 </category>
          
          <category> umg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具使用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简易分层地图系统</title>
      <link href="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="简易地图系统"><a href="#简易地图系统" class="headerlink" title="简易地图系统"></a><strong>简易地图系统</strong></h1><h2 id="一、内容概要"><a href="#一、内容概要" class="headerlink" title="一、内容概要"></a><strong>一、内容概要</strong></h2><h3 id="1-名词约定"><a href="#1-名词约定" class="headerlink" title="1. 名词约定"></a>1. <strong>名词约定</strong></h3><p> 小地图：通过键盘“M”键打开地图系统界面，其中呈现完整箱庭平面的地图称为小地图。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps59.png" alt="img"></p><p> 雷达图：位于主界面左上角的圆形地图，会实时更新玩家位置以及玩家操控角色的朝向、玩家视野方向等。雷达图的显示内容就是截取小地图中以角色为中心的一个圆形区域。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps60.png" alt="img"></p><p> 大地图：大地图是对一个或一组箱庭的概念化表达，本质是一个以平面方式呈现的列表，与玩家在场景中的位置没有准确的映射关系。</p><p>​     当前版本不需要考虑大地图的制作。</p><p>​     小地图和大地图都是依托地图系统来呈现的。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps61.jpg" alt="img"> </p><h3 id="2-地图系统初版工作目标"><a href="#2-地图系统初版工作目标" class="headerlink" title="2. 地图系统初版工作目标"></a>2. <strong>地图系统初版工作目标</strong></h3><p> 当前版本我们对地图系统的要求仅针对当前玩家当前身处箱庭的地图，无需切换查看其他箱庭地图等箱庭列表相关功能。</p><p> 通过美术规范化的资源产出和策划配置能够直接完成对一个新箱庭的地图配置。</p><h3 id="3-基础功能简述"><a href="#3-基础功能简述" class="headerlink" title="3. 基础功能简述"></a>3. <strong>基础功能简述</strong></h3><p> 玩家位置、角色朝向、视野方向在地图上的实时呈现。</p><p> 分层地图的自然切换。</p><p> 小地图的放大缩小、拖动功能。</p><p> 地图图标的显示与追踪。</p><h2 id="二、基础概念"><a href="#二、基础概念" class="headerlink" title="二、基础概念"></a>二、<strong>基础概念</strong></h2><h3 id="1-箱庭分层"><a href="#1-箱庭分层" class="headerlink" title="1. 箱庭分层"></a>1. <strong>箱庭分层</strong></h3><p> 箱庭空间可能存在多层结构，所以需要使用多张地图的交替显示来呈现整个箱庭的活动空间。</p><p> 对箱庭“层”的划分：我们会从关卡设计开始就确定箱庭的分层方案，这个方案是灵活且定制化的，与箱庭中各个活动区域的实际高度无关。</p><p>*一般来说基于两个原则我们会对箱庭空间进行分层：①垂直方向上具有重叠的活动区域且都具有游戏内容时；②关卡设计中给玩家营造了一个强烈的高度变化的感知。（例如坐电梯从1楼到10楼，玩家对自己楼层变化这件事的感知是统一的）</p><p> 通过地区编辑器在场景中标记好不同层，每层会创建一个地区id，程序通过地区id的配置来识别每层地图对应的场景。</p><h3 id="2-场景和地图的方向对应"><a href="#2-场景和地图的方向对应" class="headerlink" title="2. 场景和地图的方向对应"></a>2. <strong>场景和地图的方向对应</strong></h3><p> 地图方向：上北下南左西右东，现版本不可旋转。</p><p> 场景方向：暂定 -x对应北向；y对应东向。（x、y对应ue坐标系）</p><h3 id="3-场景和地图的准确映射关系"><a href="#3-场景和地图的准确映射关系" class="headerlink" title="3. 场景和地图的准确映射关系"></a>3. <strong>场景和地图的<strong><strong>准确</strong></strong>映射关系</strong></h3><p> 比例尺：小地图默认规格（无缩放和拖动）相对场景的比例尺会在地图的产出过程中确定，不同箱庭可能使用不同的比例尺。</p><p>​     对于一个箱庭我们会产出一套统一规格的地图资源，并将地图资源的左上角和右下角作为参考锚点。</p><p>　　地图资源在umg上固定位置摆放（例如相对地图可显示区域居中，后面会提到），所以程序相当于知道了锚点在umg上的准确坐标。</p><p>　　策划会配置这两个锚点在场景中的对应坐标。</p><p>　　程序通过这两个参考锚点来计算比例尺以及找到地图和场景准确的对应关系。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps63.png" alt="img"></p><h3 id="4-地图系统资源配置"><a href="#4-地图系统资源配置" class="headerlink" title="4.地图系统资源配置"></a><strong>4.地图系统资源配置</strong></h3><p> 雷达图和地图系统中使用的小地图资源会随箱庭的变化而替换，考虑将小地图抽出来封装为umg文件，策划通过配置不断产出新的箱庭小地图umg，并标准化命名。</p><p> 在cfg_leel中配置箱庭调用的小地图umg。</p><p>​     后续需要支持直接在箱庭编辑器中配置箱庭调用的小地图umg。</p><p>​     如下图所示：</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps64.png" alt="img"></p><h2 id="三、基础功能"><a href="#三、基础功能" class="headerlink" title="三、基础功能"></a><strong>三、基础功能</strong></h2><h3 id="1-玩家的位置、面向以及视野方向"><a href="#1-玩家的位置、面向以及视野方向" class="headerlink" title="1.玩家的位置、面向以及视野方向"></a><strong>1.玩家的位置、面向以及视野方向</strong></h3><h4 id="1-1角色箭头"><a href="#1-1角色箭头" class="headerlink" title="1.1角色箭头"></a>1.1角色箭头</h4><p> 地图中使用角色箭头来标识玩家的位置以及操控角色的面向。玩家主控角色所在的位置和面向，与地图上角色箭头的位置和指向保持一致。</p><center><img src="./角色朝向 (2)-16916549660682.gif" width = "" height = ""></center><p> 角色箭头的ui显示层级应当大于小地图，不随小地图多层切换而切换（小地图多层切换见后文）。</p><h4 id="1-2视野方向"><a href="#1-2视野方向" class="headerlink" title="1.2视野方向"></a>1.2视野方向</h4><p> 地图中使用一个透明扇形面积（以下称作扇形视野）来表示玩家的视野方向，扇形的中线与玩家在场景中实际看向的方向一致；视野的角度范围不会依据镜头的（远近、俯仰）改变。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps66.jpg" alt="img"> </p><p> 扇形视野随着玩家视野改变对应的动态变化</p><center><img src="./扇形视野 (2).gif" width = "" height = ""></center><p> 扇形视野的ui显示层级应当小于角色箭头大于小地图。</p><h4 id="1-3角色箭头和扇形视野在雷达图、小地图中的呈现规则"><a href="#1-3角色箭头和扇形视野在雷达图、小地图中的呈现规则" class="headerlink" title="1.3角色箭头和扇形视野在雷达图、小地图中的呈现规则"></a>1.3角色箭头和扇形视野在雷达图、小地图中的呈现规则</h4><p> 雷达图中：①角色箭头始终在雷达图正中心；②随角色移动动态显示雷达图的显示区域（来表达玩家位置变化），角色面向和视野方向随玩家操作动态改变。</p><center><img src="./角色箭头在雷达图中间1 (2).gif" width = "" height = ""></center><p> 地图系统界面：角色箭头显示在当前场景对应的小地图位置上；角色面向以及视野方向定格在打开地图系统的瞬间。</p><h3 id="2-多层地图切换"><a href="#2-多层地图切换" class="headerlink" title="2. 多层地图切换"></a>2. <strong>多层地图切换</strong></h3><p> 箱庭中的每层都会单独绘制一张地图，且每层地图具有多种显示方式。</p><p> 在雷达图和小地图中遵循相同的切换规则，具体见下文。</p><h4 id="2-1地图有三种显示状态：正常显示、虚化显示、不显示"><a href="#2-1地图有三种显示状态：正常显示、虚化显示、不显示" class="headerlink" title="2.1地图有三种显示状态：正常显示、虚化显示、不显示"></a>2.1地图有三种显示状态：正常显示、虚化显示、不显示</h4><p> 虚化显示：地图会置灰、并调整为半透明。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps69.jpg" alt="img"> </p><h4 id="2-2地图层级显示规则"><a href="#2-2地图层级显示规则" class="headerlink" title="2.2地图层级显示规则"></a>2.2地图层级显示规则</h4><p> 当玩家打开地图时，要求玩家当前所在的地图正常显示，且凸显在最上方（指ui显示层级）；直接相邻地图虚化显示，（虚化显示地图叠在下方，与地图对应的场景的实际空间高度无关）；间接相邻地图不显示。</p><p> 虚化地图的ui显示层级依据层数配置从小到达排列。</p><p>​     例如：1层的ui层级小于2层。</p><p> 直接相邻：两张地图之间具有直接连通关系，玩家能从当前地图直接前往相邻地图。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps70.jpg" alt="img"> </p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps71.jpg" alt="img"> </p><h4 id="2-3玩家可以通过层级切换ui切换箱庭地图的显示层"><a href="#2-3玩家可以通过层级切换ui切换箱庭地图的显示层" class="headerlink" title="2.3玩家可以通过层级切换ui切换箱庭地图的显示层"></a>2.3玩家可以通过层级切换ui切换箱庭地图的显示层</h4><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps72.jpg" alt="img"> </p><p> 每层具有选中&#x2F;未选中状态，可能会有鼠标悬浮状态，依据美术设计确定。</p><p>​     选中某一层时，将该层地图切换为显示层。</p><p> 同时有且仅有1层能被选中。</p><p> 排序：换层ui按照层数从小到大排列。</p><h4 id="2-4通过配置定义地图的层以及相邻关系"><a href="#2-4通过配置定义地图的层以及相邻关系" class="headerlink" title="2.4通过配置定义地图的层以及相邻关系"></a>2.4通过配置定义地图的层以及相邻关系</h4><p> 可以直接在umg上进行配置。</p><p> 当选中某个层地图时：</p><p>​     ①定义当前属于哪一层：例如1层。</p><p>u 该参数既用于层数显示，也用于排序。</p><p>​     ②定义相邻地图：例如1层、2层、5层···。</p><p>​     ③配置当前层对应的地区id，例如1001（地区id由地区编辑器产出）。</p><p>如下图参考所示：</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps73.jpg" alt="img"> </p><p>*有可能1层和3层直接连通，但是2层和3层不能连通。</p><h3 id="3-地图图标"><a href="#3-地图图标" class="headerlink" title="3.地图图标"></a><strong>3.地图图标</strong></h3><h4 id="3-1图标分类"><a href="#3-1图标分类" class="headerlink" title="3.1图标分类"></a>3.1图标分类</h4><p> 地图图标分为三类，①功能点，包括npc功能点（铁匠、商店老板），或传送功能点（出入口）；②地图传送点；③事件图标（任务图标）。</p><p> 当前版本需要实现的功能点图标：仅有地图出入口图标作为实现样例（图标大概样式<img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps74.jpg" alt="img">）。</p><p>​     出入口：指箱庭之间的双向连接点，如下图所示：</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps75.png" alt="img"></p><p> 当前版本需要实现的事件图标：主、支线任务状态图标。</p><h4 id="3-2各类图标的功能特性"><a href="#3-2各类图标的功能特性" class="headerlink" title="3.2各类图标的功能特性"></a>3.2各类图标的功能特性</h4><p>三种图标具有不同的功能特性，①功能点类图标和所在层地图绑定，当地图不在当前层时隐藏；②传送点类图标不在当前层时仍然显示，且还需要在地图上标记处于多少层；③事件类图标同样不在当前层时隐藏，且随着事件的触发和结束会出现和消失。</p><h4 id="3-3图标追踪"><a href="#3-3图标追踪" class="headerlink" title="3.3图标追踪"></a>3.3图标追踪</h4><p> 追踪操作：点击小地图中的图标，图标标记为选中状态，且会在系统界面显示图标交互列表，点击后确认追踪，如下图所示：</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps76.png" alt="img"></p><p>​     当选中图标20像素范围内还有其他图标时，同时显示20像素范围内所有图标的交互选项。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps77.png" alt="img"></p><p> 追踪状态下，图标会在小地图上循环播放追踪动效。</p><p>​     追踪动效参考：</p><center><img src="./地图2图标追踪 (2).gif" width = "" height = ""></center><p>​     雷达图中，当玩家位于与该图标相同地图，且图标位于超出雷达图显示范围的位置时，图标将显示在雷达图边缘正确的方向上。如下图所示：</p><center><img src="./雷达图图标.gif" width = "" height = ""></center><p>​     主界面上，生成目标点位置的图标追踪，并且实时更新玩家相对该目标点的距离。</p><p>u 注：与任务系统中主界面任务图标追踪完全一致。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps80.jpg" alt="img"> </p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps81.jpg" alt="img"><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps82.jpg" alt="img"> </p><p> 当玩家与目标点触发交互时自动取消追踪状态。</p><p> 传送点不可追踪只能传送。</p><p> 功能点只能处于相同地图时能追踪，离开地图时自动取消追踪状态。</p><p> 事件图标可跨地图追踪，但是不处于相同地图时，不会在雷达图上显示。</p><h4 id="3-4图标配置"><a href="#3-4图标配置" class="headerlink" title="3.4图标配置"></a>3.4图标配置</h4><p> 箱庭编辑器中配置功能点（出入口、铁匠、商店老板）后，能够在地图上对应位置自动生成图标。</p><p>​     功能点：当前仅需生成出入口图标并用于测试。</p><p>​     图标资源配置：功能npc会在npc实例表中配置是否属于功能npc并且配置调用的图标icon；出入口会在传送点实例表中配置对应的图标（需要显示图标的配置，不需要的不配）。</p><h2 id="四、界面功能"><a href="#四、界面功能" class="headerlink" title="四、界面功能"></a><strong>四、界面功能</strong></h2><h3 id="1-地图系统界面"><a href="#1-地图系统界面" class="headerlink" title="1.地图系统界面"></a><strong>1.地图系统界面</strong></h3><h4 id="1-1地图系统界面美术资源组成"><a href="#1-1地图系统界面美术资源组成" class="headerlink" title="1.1地图系统界面美术资源组成"></a>1.1地图系统界面美术资源组成</h4><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps83.png" alt="img"></p><p>(1) 地图名</p><p> 需要显示当前箱庭的名字。</p><p>(2) 关闭按钮</p><p>(3) 分层切换ui</p><p>(4) 放大缩小ui</p><p> 滑块可能会有悬浮和选中状态，视美术设计定。</p><p>(5) 纯色不透明背景层</p><p> 系统界面的底层背景，整体色彩是纯色且不透明的，视美术设计而定。</p><p>(6) 地图可显示区域边缘模糊蒙版</p><p> 地图资源在蒙版和背景层之间。</p><p>(7) 小地图</p><p> 小地图的组成资源分两种类型，①地图底图；②每层地图。</p><p> 地图底图：对整个场景的概念化描述，始终处于小地图的最底层。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps84.png" alt="img"></p><p> 每层地图：对玩家每层活动区域的描述，叠在底图上方，显示层级（和显示状态）会依据换层规则切换。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps85.png" alt="img"></p><p> 对于同一个箱庭，底图和每层地图的图片资源规格完全相同。</p><h4 id="1-2地图系统界面参数简介"><a href="#1-2地图系统界面参数简介" class="headerlink" title="1.2地图系统界面参数简介"></a>1.2地图系统界面参数简介</h4><p> 以下图中参数仅用于举例说明，具体由美术确认。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps86.png" alt="img"></p><p> 地图可显示区域：地图系统界面会划定一个能够显示地图的范围，由美术确定规格并提供蒙版。</p><p> 小地图资源规格：小地图资源使用相同规格，配置时叠放在系统界面固定位置（相对可显示区域居中）。</p><p> 边缘最大距离：拖动地图时，地图能够停留的位置的有效区域距离可显示区域不能超过R像素。</p><h4 id="1-2打开-关闭地图系统"><a href="#1-2打开-关闭地图系统" class="headerlink" title="1.2打开&#x2F;关闭地图系统"></a>1.2打开&#x2F;关闭地图系统</h4><p> 鼠标点击雷达图或者按键盘M键，打开地图界面。</p><p> 点击地图界面右上角的×或者按键盘M键，关闭地图界面回到主界面。</p><h4 id="1-3打开系统界面后屏蔽玩家的场景行为"><a href="#1-3打开系统界面后屏蔽玩家的场景行为" class="headerlink" title="1.3打开系统界面后屏蔽玩家的场景行为"></a>1.3打开系统界面后屏蔽玩家的场景行为</h4><p>通用时停状态：打开系统界面时，所有场景活动行为中止且时停。（见通用时停需求）</p><h4 id="1-4小地图的放大和缩小"><a href="#1-4小地图的放大和缩小" class="headerlink" title="1.4小地图的放大和缩小"></a>1.4小地图的放大和缩小</h4><p> 通过缩放ui可以拖动滑条将小地图进行放大和缩小。</p><p> 登录后首次打开地图系统默认缩放状态为0%，滑条位于滑轨正中间，缩放范围[-50%,50%]，对应地图默认大小的[50%,150%]，视ui设计决定是否要显示缩放参数。</p><p> 地图放大或缩小时，地图有效区域会同步放大或缩小。</p><p> 地图上的图标（包括角色箭头）不会随着地图放大和缩小。</p><p> 需要客户端记录缩放参数，关闭后重新打开地图系统能够维持上一次操作结束时的缩放状态，但是地图居中，即无需记录拖动的位置。</p><h4 id="1-5小地图可显示区域"><a href="#1-5小地图可显示区域" class="headerlink" title="1.5小地图可显示区域"></a>1.5小地图可显示区域</h4><p> 地图系统界面上会有一个矩形可显示区域用于限制小地图的显示范围。</p><p> 当小地图边缘接触矩形边缘时，会有一个渐变模糊效果（该效果会由美术提供蒙版）。</p><p> 由美术设计决定矩形区域的边长m*n（单位：像素）。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps87.png" alt="img"></p><h4 id="1-6小地图的拖动"><a href="#1-6小地图的拖动" class="headerlink" title="1.6小地图的拖动"></a>1.6小地图的拖动</h4><p> 点击（长按）小地图可显示区域，可以将小地图朝各个方向拖动（包括斜向）。（注：图标会跟着被拖动）</p><p> 玩家可以将地图拖动到很远（定义最远为极限范围），但是会回弹到它的可停留范围。</p><p> 地图拖动的极限范围：沿着某一固定方向，地图的拖动距离具有极限值，极限约等于矩形可显示区域对应边长的3&#x2F;4,即水平方向可拖动距离为3&#x2F;4m，垂直方向可拖动距离为3&#x2F;4n。</p><p> 拖动手感：地图移动距离相对鼠标的拖动距离是一个先快后慢（且初始斜率&#x3D;1）的缓动曲线。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps89.png" alt="img"></p><p>​     滑动惯性：拖动小地图时如果在一个存在速度的时间点松手会有一个减速过程的滑动惯性。</p><p> 地图的拖动回弹</p><p>美术流程中会对小地图定义一个有效区域a*b（单位：像素）以及一个常量R，地图有效区域的边缘距离显示范围对应边的距离设为h。</p><p>（注意：运行时a、b随放大缩小操作会变化）</p><p>水平方向：ha&#x3D;(m-a)&#x2F;2</p><p>垂直方向：hb&#x3D;(n-b)&#x2F;2</p><p>地图处于初始位置时，当h&gt;R像素时，沿该方向无论拖动多远都会回弹到初始位置。</p><p>地图处于初始位置时，当h&lt;R像素时，沿该方向拖动地图到h&gt;R时，地图最终会回弹到h&#x3D;R的位置。</p><p> 拖动小地图时，如果角色箭头拖动到了地图可显示区域以外，则将角色箭头显示在可显示区域边缘并标明方向。</p><p>​     如下图所示：注意小地图左下角的蓝色角色箭头。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps90.png" alt="img"></p><p>​     如果此时点击角色箭头，需要尝试角色箭头居中，基于拖动范围的限制如果无法居中则尽量居中。</p><h3 id="2-主界面雷达图"><a href="#2-主界面雷达图" class="headerlink" title="2.主界面雷达图"></a><strong>2.主界面雷达图</strong></h3><h4 id="2-1雷达图的美术资源组成"><a href="#2-1雷达图的美术资源组成" class="headerlink" title="2.1雷达图的美术资源组成"></a>2.1雷达图的美术资源组成</h4><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps91.png" alt="img"></p><p>(1) 圆形外框</p><p>(2) 纯色透明背景</p><p> 注：雷达图中使用的背景是纯色透明背景，与地图系统中的背景层是不同资源。</p><p>(3) 小地图</p><p> 雷达图是截取的小地图中以角色为中心的圆形范围，所以也会使用到小地图资源，且使用的分层切换规则和地图系统中完全一致。</p><h4 id="2-2雷达图的显示半径"><a href="#2-2雷达图的显示半径" class="headerlink" title="2.2雷达图的显示半径"></a>2.2雷达图的显示半径</h4><p> （默认条件下）雷达图的显示半径对应场景中的30m，同时需要该参数可配置。（配的是显示半径对应的场景距离，希望帮忙换算一下）。</p><p>​     该参数在不同箱庭中可能不一样，需要</p><p>*雷达图在主界面上的位置和大小由美术设计确定，所以它的缩放程度依据美术确认的大小以及显示半径确定。</p><p>*雷达图可能在不同类型的场景中缩放程度不一样，例如相比城区，我们可能希望野外能看到更大的视野范围。当下版本不考虑该功能。</p><h4 id="2-3雷达图图标消失规则"><a href="#2-3雷达图图标消失规则" class="headerlink" title="2.3雷达图图标消失规则"></a>2.3雷达图图标消失规则</h4><p> 未处于追踪状态下的图标：当随着玩家移动图标触及雷达图边缘时，图标直接整个消失而非逐渐被边缘遮蔽。</p><p>​     如下图所示：</p><center><img src="./雷达图图标.gif" width = "" height = ""></center><p> 处于追踪状态下的图标：当玩家位于与该图标相同地图，且图标位于超出雷达图显示范围的位置时，图标将显示在雷达图边缘正确的方向上。</p><p>​     如下图所示：注意右上角一直闪动在雷达图边缘的任务图标。</p><center><img src="./雷达图图标追踪.gif" width = "" height = ""></center><h3 id="3-其他规则"><a href="#3-其他规则" class="headerlink" title="3.其他规则"></a><strong>3.其他规则</strong></h3><p> 未配置地图时，显示没有地图资源的雷达图。</p><p><img src="/2023/08/10/%E7%AE%80%E6%98%93%E5%88%86%E5%B1%82%E5%9C%B0%E5%9B%BE%E7%B3%BB%E7%BB%9F/wps94.jpg" alt="img"> </p><p> 未配置地图时，尝试打开地图系统时提示“无法查看地图”。</p><h2 id="五、附录"><a href="#五、附录" class="headerlink" title="五、附录"></a><strong>五、附录</strong></h2><h3 id="1-配置参数"><a href="#1-配置参数" class="headerlink" title="1.配置参数"></a><strong>1.配置参数</strong></h3><p> 用于定位地图和场景的参考点，配置参考点的场景坐标。</p><p> 定义当前层地图是多少层，以及不同层地图之间的连通关系。</p><p> 定义当前层地图对应的地区id。</p><p> 配置功能点图标以及定义图标从属的哪层地图。</p><h3 id="2-调试参数"><a href="#2-调试参数" class="headerlink" title="2.调试参数"></a><strong>2.调试参数</strong></h3><p>（通用参数，用于调试效果）</p><p> 雷达图的纯色透明背景需要暴露两个参数：①色彩、②透明度。</p><p> 雷达图的显示半径对用场景中的m米（m为配置参数）。</p><p> 地图的虚化显示状态需要暴露一个参数：①色彩、②透明度。</p><p> 小地图拖动功能中，地图有效边缘距离可显示边缘最大距离的常量R（px）。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 辅助系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统目标任务拆解</title>
      <link href="/2023/08/10/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E6%A0%87%E4%BB%BB%E5%8A%A1%E6%8B%86%E8%A7%A3/"/>
      <url>/2023/08/10/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E6%A0%87%E4%BB%BB%E5%8A%A1%E6%8B%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="系统目标任务拆解"><a href="#系统目标任务拆解" class="headerlink" title="*系统目标任务拆解*"></a><em><strong>*系统目标任务拆解*</strong></em></h1><h1 id="1-内容概述"><a href="#1-内容概述" class="headerlink" title="*1.内容概述*"></a><em><strong>*1.内容概述*</strong></em></h1><p>Ο 基于成长体验的初步规划，尝试拆解达成规划的工作内容。</p><p>· 直接关联的游戏系统以及开发模块。</p><p>· 系统的设计核心要素（目的和意义）</p><p>· 已经明确的方案或者一些初步的构想。</p><p>Ο 关于用户转化设计的构思。</p><h1 id="2-任务拆分"><a href="#2-任务拆分" class="headerlink" title="*2.任务拆分*"></a><em><strong>*2.任务拆分*</strong></em></h1><p><img src="/2023/08/10/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E6%A0%87%E4%BB%BB%E5%8A%A1%E6%8B%86%E8%A7%A3/%E5%9B%BE%E7%89%871.png" alt="图片1"></p><h1 id="3-关于用户转化的构思"><a href="#3-关于用户转化的构思" class="headerlink" title="*3.关于用户转化的构思*"></a><em><strong>*3.关于用户转化的构思*</strong></em></h1><p>· 基本逻辑结构见下图。</p><p>· 用户类型划分： </p><p>o 1类用户：仅玩主线（指高质量剧情任务）</p><p>o 2类用户：主线到深渊和爬塔，爬塔玩法转化失败。</p><p>o 3类用户：主线、爬塔、和深渊—-这类用户一般有望转化为4类。</p><p>o 4类用户：高端玩家，主线、爬塔、深渊、隐王。</p><p>· 关于转化逻辑的说明—-可能不存在从<strong>复刷式爬塔玩法</strong>转化到<strong>一次性爬塔玩法</strong>上来设计。 </p><p>o 很难存在连续性：从设计上来看，这两类玩法的系统差异会比较大，玩家不太容易串联起来。</p><p>o ex：类似于lol的普通模式和极地大乱斗（无限火力），如果想要把极地大乱斗做成普通模式的前置体验，并不太容易，可能也没有必要。</p><p><img src="/2023/08/10/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E6%A0%87%E4%BB%BB%E5%8A%A1%E6%8B%86%E8%A7%A3/%E5%9B%BE%E7%89%872.png" alt="图片2"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 系统框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统工作的展开流程</title>
      <link href="/2023/08/10/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%B1%95%E5%BC%80%E6%B5%81%E7%A8%8B/"/>
      <url>/2023/08/10/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%B1%95%E5%BC%80%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="一、概要"><a href="#一、概要" class="headerlink" title="*一、概要*"></a><em><strong>*一、概要*</strong></em></h1><h2 id="1-项目系统枚举以及它们之间的耦合关系"><a href="#1-项目系统枚举以及它们之间的耦合关系" class="headerlink" title="*1.项目系统枚举以及它们之间的耦合关系*"></a><em><strong>*1.项目系统枚举以及它们之间的耦合关系*</strong></em></h2><p>· 资源流转关系（主要）</p><p>· 界面跳转关系</p><p>· 功能结合关系</p><h2 id="2-系统工作的展开次序"><a href="#2-系统工作的展开次序" class="headerlink" title="*2.系统工作的展开次序*"></a><em><strong>*2.系统工作的展开次序*</strong></em></h2><p>· 开发次序 </p><p>o 明确系统的开发工作以怎样的方式展开 </p><p>§ 系统开发的前提条件是否就绪、如何就绪</p><p>§ 系统开发的结果是否能验证以及如何验证</p><p>· 设计次序 </p><p>o 系统的设计工作应当怎样进行，接下来要做什么事 </p><p>§ 出完整的设计—-当下能想清楚的</p><p>§ 分段的开发规划—-当下需要立即给出的需求（明确开发前提是否就绪，结果如何验证）</p><h1 id="二、系统枚举"><a href="#二、系统枚举" class="headerlink" title="*二、系统枚举*"></a><em><strong>*二、系统枚举*</strong></em></h1><p>· 系统模块的拆分以资源流转关系为主</p><p>· 关于资源流转的系统</p><p>①资源流转有一套统一的规则，而不是每个系统各自负责。</p><p>②策划希望如何管理游戏中的资源，以及辅助程序理清策划的思路。</p><p>③该部分开发的验证方式，需要在制作系统的同时兼顾这部分开发。</p><p><img src="/2023/08/10/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%B1%95%E5%BC%80%E6%B5%81%E7%A8%8B/image-20230810152900377.png" alt="image-20230810152900377"></p><h1 id="三、系统工作的展开次序"><a href="#三、系统工作的展开次序" class="headerlink" title="*三、系统工作的展开次序*"></a><em><strong>*三、系统工作的展开次序*</strong></em></h1><h2 id="1-系统开发次序"><a href="#1-系统开发次序" class="headerlink" title="*1.系统开发次序*"></a><em><strong>*1.系统开发次序*</strong></em></h2><p><img src="/2023/08/10/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%B1%95%E5%BC%80%E6%B5%81%E7%A8%8B/image-20230810152935732.png" alt="image-20230810152935732"></p><h3 id="2-系统设计次序"><a href="#2-系统设计次序" class="headerlink" title="*2.系统设计次序*"></a><em><strong>*2.系统设计次序*</strong></em></h3><p><img src="/2023/08/10/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%B1%95%E5%BC%80%E6%B5%81%E7%A8%8B/image-20230810152954251.png" alt="image-20230810152954251"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 系统框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 流程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>成长体验规划</title>
      <link href="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/"/>
      <url>/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1-成长体验规划"><a href="#1-成长体验规划" class="headerlink" title="*1.成长体验规划*"></a><em><strong>*1.成长体验规划*</strong></em></h1><p>· 对标物： </p><p>　o 异刃3主线内容50小时，包含各成长系统的养成、多角色成长、必要支线</p><p>　o 伊甸1.0版本主线30小时，主要为角色成长，系统内容相对简单，且2D跑路相对更便捷省时</p><p>　o FF7主线22小时，极单纯的体验，几乎无多角色养成内容，无其他系统内容</p><p>· 期望目标： </p><p>　o 主线内容60小时（算播剧情的正常游戏时长）、其他一次性玩法内容相加约100小时</p><p>　o - 按照普通玩家每日消耗1小时内容量,预估上线内容可撑160天(约半年)</p><h2 id="一次性基础内容："><a href="#一次性基础内容：" class="headerlink" title="*一次性基础内容：*"></a><em><strong>*一次性基础内容：*</strong></em></h2><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145410802-16916504533882.png" alt="image-20230810145410802"></p><p>主线</p><p>　 - 游戏最核心内容，以线性叙事为主，精做</p><p>　 - 主线关卡难度和前期玩家成长曲线一致，在主线结尾部分可以拉1-2个BOSS战力或操作卡点</p><p>角色共情玩法</p><p>　 - 角色突破、羁绊任务相关的玩法内容，精做</p><p>　 - 由于不同角色自身强度不同，投放时间不同，难度曲线的范围仅做示意用，该部分玩法难度会高于普通支线任务，以突出玩家对角色在战力验证上的认同度</p><p>支线</p><p>　 - 主要为世界风土人情、猎奇故事、世界观补充等内容，具体呈现方式采用B类剧情。</p><p>　 - 期望玩家主要去是感受一段独立叙事，所以不做任何战力验证，但会加入解谜元素和这方面的玩法难度、以及引入“小游戏”。</p><p>爬塔</p><p> 　- 纯战力验证玩法，玩家成长到一定等级后开放（或随主线进度），塔本身为线性难度，玩家最终随战力提升爬塔进度越来越慢。</p><p>　 - 爬塔难度转折点为成长曲线的毕业点，高出的后续部分用于留给阵容迭代空间</p><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145428232.png" alt="image-20230810145428232"></p><h2 id="高端一次性内容"><a href="#高端一次性内容" class="headerlink" title="*高端一次性内容*"></a><em><strong>*高端一次性内容*</strong></em></h2><p>下图对原曲线做了等比缩小；这部分内容设计仅服务于高端玩家，在考虑到阵容迭代的情况下，只画出了战力变化趋势，具体增幅和收束曲线待具体设计。</p><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145445345.png" alt="image-20230810145445345"></p><p>隐王<br>- 各种隐藏BOSS关卡，纯战力验证，基本无剧情呈现；开启条件复杂，普通用户几乎接触不到<br>- 隐王投放为间断式，图例表示在该橙色范围内会投放若干个隐王，仅服务于追求战力的高端用户，挑战成功无特殊奖励，但会加入隐王挑战排名等系统。</p><h2 id="复刷内容"><a href="#复刷内容" class="headerlink" title="*复刷内容*"></a><em><strong>*复刷内容*</strong></em></h2><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145540456.png" alt="image-20230810145540456"></p><p>材料副本<br>- 内容为经验、各种道具合成类材料的简单复刷本，玩家按需去刷，限制门票（比如消耗绿票，随时间回复）<br>深渊<br>- 存在一定基本难度的副本，10层左右的线性关卡，每周重置，消耗红票刷，有很小几率掉落更好的饰品（圣遗物）、技能点等道具，为玩家后期提升生长需要追求的复刷内容。</p><h2 id="成长预期构成"><a href="#成长预期构成" class="headerlink" title="*成长预期构成*"></a><em><strong>*成长预期构成*</strong></em></h2><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145601790.png" alt="image-20230810145601790"></p><p>新手期<br>- 成长曲线的收束点前称为新手期，这段时间内玩家快速成长，各系统基础数值的不断获取会大幅提升战力</p><h1 id="2-一些其他的补充构想"><a href="#2-一些其他的补充构想" class="headerlink" title="*2.一些其他的补充构想*"></a><em><strong>*2.一些其他的补充构想*</strong></em></h1><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145615433.png" alt="image-20230810145615433"></p><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145622522.png" alt="image-20230810145622522"></p><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145629891.png" alt="image-20230810145629891"></p><p><img src="/2023/08/10/%E6%88%90%E9%95%BF%E4%BD%93%E9%AA%8C%E8%A7%84%E5%88%92/image-20230810145637460.png" alt="image-20230810145637460"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
          <category> 系统框架 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回想起来，波奇酱想要组建怎样的乐队，好像我还从来没有问过</title>
      <link href="/2023/08/06/%E5%9B%9E%E6%83%B3%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%B3%A2%E5%A5%87%E9%85%B1%E6%83%B3%E8%A6%81%E7%BB%84%E5%BB%BA%E6%80%8E%E6%A0%B7%E7%9A%84%E4%B9%90%E9%98%9F%EF%BC%8C%E5%A5%BD%E5%83%8F%E6%88%91%E8%BF%98%E4%BB%8E%E6%9D%A5%E6%B2%A1%E6%9C%89%E9%97%AE%E8%BF%87/"/>
      <url>/2023/08/06/%E5%9B%9E%E6%83%B3%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%B3%A2%E5%A5%87%E9%85%B1%E6%83%B3%E8%A6%81%E7%BB%84%E5%BB%BA%E6%80%8E%E6%A0%B7%E7%9A%84%E4%B9%90%E9%98%9F%EF%BC%8C%E5%A5%BD%E5%83%8F%E6%88%91%E8%BF%98%E4%BB%8E%E6%9D%A5%E6%B2%A1%E6%9C%89%E9%97%AE%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>孤独摇滚p5，波奇结束当天练习刚离开酒吧，虹夏担心她的状态，追上去进行了一段简单的交谈。<br>我觉得自己可能是真的太喜欢这一幕了，看了很多遍。</p><center><img src="b&ek=1&kp=1&pt=0&bo=4AEOAeABDgECEDQ!&tl=1&su=0127114975&tm=1691776800&dis_t=1691779031&dis_k=2a503347851e5fee7f149be10c871388&sce=0-12-12&rf=2-9.gif" width = "" height = ""></center><p>コーラていい？　（可乐可以吗？）<br>はい｡   （给你。)</p><p>我喜欢这个递水的动作，热情大方有活力，此刻想必即便是对于波奇酱这样的社交笨蛋，在局促和慌乱中也能感受到关怀和治愈吧。</p><p>（虹夏是天使吧.os）</p><p>我觉得自己果然还是最偏爱这群人，<br>刚进中学时，那个突然坐我前面和我打招呼的、第一次有人qq上和我聊天的；<br>后来学习口语，有小伙伴拍拍旁边的座位笑着对我说 “坐”；<br>这些画面原来一直都这么清晰。</p><p>作为没有什么回忆习惯的人，多年以来能记住的大概也就一些片段了；<br>以及，一些做过的恶（划掉）</p><p>我开始意识到，如果有机会的话，我大概会把这些画面拍下来，它们都是宝贵的资产。</p><center><img src="b&ek=1&kp=1&pt=0&bo=4AEOAeABDgECEDQ!&tl=1&su=0107421631&tm=1691776800&dis_t=1691779031&dis_k=f3db3df12591b0e39695595857e57c0e&sce=0-12-12&rf=2-9.gif" width = "" height = ""></center>回想起来，波奇酱想要组建怎样的乐队，<p>为什么要组乐队之类的问题，<br>我好像从来还没问过。</p><p>虹夏意识到当初将波奇拉入乐队可能并非波奇本身的意愿，大家对于乐队的追求可能也并非同一种表现形式。<br>这种对他人具有本能的关怀和行动力，是Fe很高的表现，实际上也为乐队提供了不可忽视的价值——<br>对于扁平化的创意型团队，如果成员之间无法互相理解的话，是注定失败的。</p><p>而对于int型人格（可能是我这种人吧），他们可能会更加注重目标的达成以及直接与自身相关的事情；其实并非感知不到他人的情绪和处境，而是忽视了或者缺乏关注。<br>但他们终究会意识到，“爱人”具有独特的价值，是需要学习并培养成习惯的东西。<br>当然，这始终与天然的善意有所不同。</p><center><img src="b&ek=1&kp=1&pt=0&bo=4AEOAeABDgECEDQ!&tl=1&su=0216212127&tm=1691776800&dis_t=1691779031&dis_k=29e6342476f7eb84c6a4582c4c62693c&sce=0-12-12&rf=2-9.gif" width = "" height = ""></center>其实真正的梦想还要更远大些，<p>不过暂时还要对波奇酱保密，<br>那明天也拜托你了。</p><p>确认了波奇酱心意的虹夏明显很高兴，欢快的跑开了，留下一脸呆滞木讷的波奇。<br>文字无法描述这种感觉，如果你能配合着语音和画面去感受的话，一定会被少女此刻的阳光与快乐所打动。<br>感觉真好呀。</p>]]></content>
      
      
      <categories>
          
          <category> 体验、感受 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ACG体验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剧情的呈现形式</title>
      <link href="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/"/>
      <url>/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>游戏内的剧情演出根据制作工艺会分为三类：</p><h1 id="S类演出：纯视频"><a href="#S类演出：纯视频" class="headerlink" title="S类演出：纯视频"></a>S类演出：纯视频</h1><p>最终导出为一个视频格式的文件，直接在游戏中播放（视频压缩买CRIWARE的sofdec2）。</p><p>该形式在游戏中所占比重很低，主要为表现激烈或宏大场面（包含使用大广角或升格等影视拍摄手法），只有片头或大篇章结尾动画使用，时长普遍多于1分钟，参与演出的角色和内容固定。</p><p><img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps1.jpg" alt="wps1"></p><p><img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps2.jpg" alt="wps2"></p><h1 id="A类演出：带表演的动画"><a href="#A类演出：带表演的动画" class="headerlink" title="A类演出：带表演的动画"></a>A类演出：带表演的动画</h1><p>以sequence动画形式出现，为固定预设演出，该形式在游戏中用于塑造一些场面剧情，主要优点为演出可以根据玩家角色使用情况而定。</p><p>· A类演出可以和B类演出穿插使用 </p><p><img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps3.jpg" alt="wps3"></p><p><img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps4.jpg" alt="wps4"></p><h1 id="B类演出：对话"><a href="#B类演出：对话" class="headerlink" title="B类演出：对话"></a>B类演出：对话</h1><p>在游戏里大量存在，对话和演出内容需要在剧情编辑器内进行配置，内容和对话节奏受玩家控制。</p><p>· 该内容之后完全交于策划制作，不走动画分镜流程</p><p> <img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps5.jpg" alt="wps5"></p><p><img src="/2023/08/05/%E5%89%A7%E6%83%85%E7%9A%84%E5%91%88%E7%8E%B0%E5%BD%A2%E5%BC%8F/wps6.jpg" alt="wps6"></p>]]></content>
      
      
      <categories>
          
          <category> 游戏系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关卡设计的一些技巧小结</title>
      <link href="/2023/08/02/%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8A%80%E5%B7%A7/"/>
      <url>/2023/08/02/%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>关卡设计的技巧方法</p><h1 id="1-引导"><a href="#1-引导" class="headerlink" title="1.引导"></a><strong>1.引导</strong></h1><p>​雪地里的树枝、山脉的倾斜感</p><p>​可得性：门前堆放的杂物、堆积的树枝表达不可通行感。</p><h1 id="2-不完全依赖文字表达叙事"><a href="#2-不完全依赖文字表达叙事" class="headerlink" title="2.不完全依赖文字表达叙事"></a><strong>2.不完全依赖文字表达叙事</strong></h1><p>​叙事手段：明示、暗示、涌现</p><p>​明示：过长动画、台词对话、文本。</p><p>​暗示：不告诉玩家故事是什么、玩家通过自己观察来发现故事。</p><p>​环境叙事：天花板上的气球，可能意味着发生过聚会；</p><p>​涌现叙事：玩家以自己的行为来构造故事。</p><h1 id="3-告诉玩家需要去做什么，不要告诉怎么做。"><a href="#3-告诉玩家需要去做什么，不要告诉怎么做。" class="headerlink" title="3.告诉玩家需要去做什么，不要告诉怎么做。"></a><strong>3.告诉玩家需要去做什么，不要告诉怎么做。</strong></h1><p>​鼓励玩家尝试使用不同的方式去达成目标，鼓励玩家即兴创作。</p><p>​example：并行任务，其他任务会降低当前任务的难度&#x2F;。</p><h1 id="4-不断教给玩家新的东西。"><a href="#4-不断教给玩家新的东西。" class="headerlink" title="4.不断教给玩家新的东西。"></a><strong>4.不断教给玩家新的东西。</strong></h1><p>​书—-游戏设计的快乐理论。游戏体验的设计流程：</p><p>​Learn、play、challenge、surprise</p><p>​新机制，练习新机制，有挑战的玩法尝试新机制，疯狂的东西来提供惊喜</p><p>​ipmt理论：intro-practice-master-twist</p><h1 id="5-要给玩家惊喜。"><a href="#5-要给玩家惊喜。" class="headerlink" title="5.要给玩家惊喜。"></a><strong>5.要给玩家惊喜。</strong></h1><p>​过山车式的情绪体验。（指不断起伏的体验）</p><h1 id="6-好的关卡让玩家强大。"><a href="#6-好的关卡让玩家强大。" class="headerlink" title="6.好的关卡让玩家强大。"></a><strong>6.好的关卡让玩家强大。</strong></h1><p>​能够改变世界的强烈反馈感知。</p><h1 id="7-好的关卡是简单、普通、困难的。"><a href="#7-好的关卡是简单、普通、困难的。" class="headerlink" title="7.好的关卡是简单、普通、困难的。"></a><strong>7.好的关卡是简单、普通、困难的。</strong></h1><p>​提供多种不同难度的游玩路径。</p><h1 id="8-好的关卡是高效的。"><a href="#8-好的关卡是高效的。" class="headerlink" title="8.好的关卡是高效的。"></a><strong>8.好的关卡是高效的。</strong></h1><p>​模块化关卡，设计关卡的拼接模块。可以拼第一个关卡，也可以拼第二个关卡等等···</p><p>​参考死亡细胞。</p><h1 id="9-好的关卡能够创造情感。"><a href="#9-好的关卡能够创造情感。" class="headerlink" title="9.好的关卡能够创造情感。"></a><strong>9.好的关卡能够创造情感。</strong></h1><p>​窗户的高度低于膝盖，会给人一种力量感或偷窥感。</p><p>​窗户的高度高于肩膀，会有一种压迫感和囚禁感。</p><p>​狭窄的角落来限制玩家的视野，来让玩家保持紧张和多疑</p><p>​关卡像迷宫一样扭曲，来创造困惑和恐慌的情绪。</p><p>​开阔的场景来创造孤独感和史诗感。</p><p>​从情感出发，想要给玩家怎样的情感，然后再去思考空间、故事、游戏机制等。</p><h1 id="10-好的关卡由游戏机制驱动的"><a href="#10-好的关卡由游戏机制驱动的" class="headerlink" title="10.好的关卡由游戏机制驱动的"></a><strong>10.好的关卡由游戏机制驱动的</strong></h1><p>​玩法机制不仅用于战斗，还可以用于玩法解密。</p><p>想一想战神4的丢斧头，既可以用来战斗也可以用来参与场景解密玩法。</p>]]></content>
      
      
      <categories>
          
          <category> 方法总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计方法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统设计和落地小结</title>
      <link href="/2023/07/20/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%92%8C%E8%90%BD%E5%9C%B0/"/>
      <url>/2023/07/20/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%92%8C%E8%90%BD%E5%9C%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>系统设计</strong></p><h1 id="一、-前期准备"><a href="#一、-前期准备" class="headerlink" title="一、*前期准备*"></a><strong>一、</strong><em><strong>*前期准备*</strong></em></h1><h2 id="1-1确认设计的核心要素"><a href="#1-1确认设计的核心要素" class="headerlink" title="1.1确认设计的核心要素"></a>1.1确认设计的核心要素</h2><p> 设计目的</p><p> 内容简介</p><p> 界定系统的范围（系统包含的范围和内容要明确）</p><p> 注意事项</p><h2 id="1-2案例分析（寻找示例对象）"><a href="#1-2案例分析（寻找示例对象）" class="headerlink" title="1.2案例分析（寻找示例对象）"></a>1.2案例分析（寻找示例对象）</h2><p> 归纳：所有互斥状态的归纳为一类，习惯排列组合的思维方式杜绝遗漏</p><p> 构建应用情景的模型</p><h1 id="二、-系统规则初步设计"><a href="#二、-系统规则初步设计" class="headerlink" title="二、*系统规则初步设计*"></a><strong>二、</strong><em><strong>*系统规则初步设计*</strong></em></h1><p>系统的职责是规则的制定与规则的呈现</p><h2 id="2-1系统设计草案"><a href="#2-1系统设计草案" class="headerlink" title="2.1系统设计草案"></a>2.1系统设计草案</h2><ul><li><p>先简单捋一下各个模块</p></li><li><p>功能列表</p></li><li><p>基础功能</p></li><li><p>界面功能</p></li><li><p>美术资产列表</p></li><li><p>配置参数、调试参数</p></li><li><p>关键设计的思考、缘由</p></li><li><p>设计中纠结争议的地方、宣讲时大概率需要讨论，可能有修改的地方</p></li></ul><h2 id="2-2完善为设计文档"><a href="#2-2完善为设计文档" class="headerlink" title="2.2完善为设计文档"></a>2.2完善为设计文档</h2><h1 id="三、-创建开发文档"><a href="#三、-创建开发文档" class="headerlink" title="三、*创建开发文档*"></a><strong>三、</strong><em><strong>*创建开发文档*</strong></em></h1><h2 id="3-1开发要分多个阶段：第一阶段要做什么、有什么要求"><a href="#3-1开发要分多个阶段：第一阶段要做什么、有什么要求" class="headerlink" title="3.1开发要分多个阶段：第一阶段要做什么、有什么要求"></a>3.1开发要分多个阶段：第一阶段要做什么、有什么要求</h2><p> 程序要做什么</p><p> 美术要做什么</p><h2 id="3-2具体工作内容详细列表：功能需求列表、美术需求列表"><a href="#3-2具体工作内容详细列表：功能需求列表、美术需求列表" class="headerlink" title="3.2具体工作内容详细列表：功能需求列表、美术需求列表"></a>3.2具体工作内容详细列表：功能需求列表、美术需求列表</h2><h1 id="四、-系统界面"><a href="#四、-系统界面" class="headerlink" title="四、*系统界面*"></a><strong>四、</strong><em><strong>*系统界面*</strong></em></h1><p>这里会思考对美术的要求</p><h2 id="4-1交互体验？"><a href="#4-1交互体验？" class="headerlink" title="4.1交互体验？"></a>4.1交互体验？</h2><h3 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h3><p>· 可视性：功能可视性越好，越方便用户发现和了解使用方法</p><p>· 反馈：反馈与活动相关的信息，以便用户能够继续下一步操作</p><p>· 限制：在特定时刻显示用户操作，以防误操作</p><p>· 映射：准确表达控制及其效果之间的关系</p><p>· 一致性：保证同一系统的同一功能的表现及操作一致</p><p>· 启发性：充分准确的操作提示</p><h3 id="准则"><a href="#准则" class="headerlink" title="准则"></a>准则</h3><p>· 1.伦理的（能体谅人，有帮助）不伤害、改善人的状况</p><p>· 2.有意图的，能帮助用户实现他们的目标和渴望</p><p>· 3.注重实效，帮助委托的组织实现它们的目标</p><p>· 4.优雅的：最简单的完整方案、拥有内部的一致性、合适的容纳和情感</p><h2 id="4-2信息传递"><a href="#4-2信息传递" class="headerlink" title="4.2信息传递"></a>4.2信息传递</h2><h3 id="信息传递的级别"><a href="#信息传递的级别" class="headerlink" title="信息传递的级别"></a>信息传递的级别</h3><h3 id="简洁而专注"><a href="#简洁而专注" class="headerlink" title="简洁而专注"></a>简洁而专注</h3><ul><li><p>简洁</p><ul><li><p>主要信息不遗漏，不易被忽视</p></li><li><p>非主要信息通过更细节的方式展示，而不过分明显</p></li></ul></li></ul><h1 id="五、-系统规则"><a href="#五、-系统规则" class="headerlink" title="五、*系统规则*"></a><strong>五、</strong><em><strong>*系统规则*</strong></em></h1><p>这里会详细思考对程序功能的需求</p><h2 id="5-1逻辑的完整性"><a href="#5-1逻辑的完整性" class="headerlink" title="5.1逻辑的完整性"></a>5.1逻辑的完整性</h2><p>覆盖所有可能的操作分支</p><p>覆盖所有对应的表现</p><h2 id="5-2设计的边界"><a href="#5-2设计的边界" class="headerlink" title="5.2设计的边界"></a>5.2设计的边界</h2><p>忽略纯表现设计，这个应该由美术决定</p><p>增强抽象思维以及概念描述：这是个什么东西，它会应用在哪些情况</p><h1 id="六、-设计实现的轨迹"><a href="#六、-设计实现的轨迹" class="headerlink" title="六、*设计实现的轨迹*"></a><strong>六、</strong><em><strong>*设计实现的轨迹*</strong></em></h1><p>这里思考怎么让整个流程运转起来，后期配置怎么运转起来。</p><ul><li>实际开发过程中大概率不能一次到位完整开发所有构想，程序也无法理解全部构想</li><li>要充分思考系统开发这件事的发展轨迹，并且去掌握它</li></ul>]]></content>
      
      
      <categories>
          
          <category> 方法总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计方法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>王者荣耀世界观</title>
      <link href="/2023/07/10/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E4%B8%96%E7%95%8C%E8%A7%82/"/>
      <url>/2023/07/10/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E4%B8%96%E7%95%8C%E8%A7%82/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>王者荣耀世界观</strong></p><h1 id="上古时期"><a href="#上古时期" class="headerlink" title="*上古时期*"></a><em><strong>*上古时期*</strong></em></h1><h2 id="超智慧生物（神）"><a href="#超智慧生物（神）" class="headerlink" title="超智慧生物（神）"></a>超智慧生物（神）</h2><p>利用强大的宇宙能源【方舟核心】建立起高度发达的文明，却由于最终难以掌握【方舟核心】的力量，使赖以生存的母星遭受毁灭。</p><p>他们漂泊在宇宙之中，寻找下一个栖身之所，并找到了一个蕴藏着丰裕能源的蔚蓝星球——也就是“王者大陆”。</p><p>超智慧生物降临在这颗原始星球上，自诩为【神】，重新开始利用【方舟核心】创立文明。他们建造了【十二奇迹】，日之塔便是其中最重要的代表，它不断抽取王者大陆的地底能源，为新的文明提供看似无限的动力。</p><h2 id="方舟核心"><a href="#方舟核心" class="headerlink" title="方舟核心"></a>方舟核心</h2><p>强大的宇宙能源【方舟核心】（类似于漫威世界的无限宝石）</p><h2 id="十二奇迹"><a href="#十二奇迹" class="headerlink" title="十二奇迹"></a>十二奇迹</h2><p>神创造，日之塔是其中之一。</p><h2 id="王者大陆"><a href="#王者大陆" class="headerlink" title="王者大陆"></a>王者大陆</h2><p>一个蕴藏着丰裕能源的蔚蓝星球</p><h2 id="兽人（魔种）"><a href="#兽人（魔种）" class="headerlink" title="兽人（魔种）"></a>兽人（魔种）</h2><p>王者大陆上的原住民是兽人，拥有强健的体魄但尚未开化；【神】们并不认为这群粗鄙的生物值得成为文明的一员，于是他们称兽人为低贱的【魔种】，用武力奴役【魔种】来作为苦力。</p><h2 id="人类"><a href="#人类" class="headerlink" title="人类"></a>人类</h2><p>【神】觉得只有苦力已然不够，于是他们又创造了【人类】</p><h2 id="神职者"><a href="#神职者" class="headerlink" title="神职者"></a>神职者</h2><p>人类中选拔出一些出类拔萃的进行身体改造和强化，其中改造成功的，成为【神职者】</p><h2 id="【魔道】族人"><a href="#【魔道】族人" class="headerlink" title="【魔道】族人"></a>【魔道】族人</h2><p>改造失败的，便被重新分放到普通人群中，虽是“改造残次品”，但仍拥有超越常人的天赋和能力，被称为【魔道】族人</p><h2 id="神之战"><a href="#神之战" class="headerlink" title="神之战"></a>神之战</h2><p>女娲和帝俊之间的战争。</p><p>结束后几乎所有的神都丧命，只有奄奄一息的女娲。</p><p>帝俊也没死，在潜伏</p><h1 id="3000年后"><a href="#3000年后" class="headerlink" title="*3000年后*"></a><em><strong>*3000年后*</strong></em></h1><h2 id="阻止帝俊势力"><a href="#阻止帝俊势力" class="headerlink" title="阻止帝俊势力"></a>阻止帝俊势力</h2><p>三分之地</p><p>河洛之畔</p><p>稷下学院长安</p><p>稷下学院长城</p><h2 id="帝俊制造的事件"><a href="#帝俊制造的事件" class="headerlink" title="帝俊制造的事件"></a>帝俊制造的事件</h2><p>海都的污染</p><p>云中漠地的魔种之乱</p><p>陷害苏烈</p><p>夜闯长安城</p>]]></content>
      
      
      
        <tags>
            
            <tag> 调研 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/03/05/hello-world/"/>
      <url>/2023/03/05/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
    </entry>
    
    
  
</search>
