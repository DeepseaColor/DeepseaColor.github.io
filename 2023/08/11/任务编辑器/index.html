<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>任务编辑器 | 深海酒馆</title><meta name="author" content="Lvjunhao"><meta name="copyright" content="Lvjunhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="*一、    设计目的*· 主旨是解决当前任务系统存在的四类问题：  　o 元数据（单个任务）不标准、未模板化，之前任务步骤的任务框架会影响后续编辑器对数据的统一操作。 　o 任务状态区分不明晰，这对后续引入编辑器以及维护任务会有很多麻烦。比如之前设定的任务进行条件（声望达到X、队伍中有Y等）与任务完成条件就存在很多耦合的地方。 　o 数据存储方式影响后续流程，比如多人编辑、多版本合并等。 　o">
<meta property="og:type" content="article">
<meta property="og:title" content="任务编辑器">
<meta property="og:url" content="http://deepseacolor.github.io/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/index.html">
<meta property="og:site_name" content="深海酒馆">
<meta property="og:description" content="*一、    设计目的*· 主旨是解决当前任务系统存在的四类问题：  　o 元数据（单个任务）不标准、未模板化，之前任务步骤的任务框架会影响后续编辑器对数据的统一操作。 　o 任务状态区分不明晰，这对后续引入编辑器以及维护任务会有很多麻烦。比如之前设定的任务进行条件（声望达到X、队伍中有Y等）与任务完成条件就存在很多耦合的地方。 　o 数据存储方式影响后续流程，比如多人编辑、多版本合并等。 　o">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic.imgdb.cn/item/64dae3c41ddac507cc8d535b.png">
<meta property="article:published_time" content="2023-08-11T07:19:39.000Z">
<meta property="article:modified_time" content="2023-08-29T12:16:58.757Z">
<meta property="article:author" content="Lvjunhao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.imgdb.cn/item/64dae3c41ddac507cc8d535b.png"><link rel="shortcut icon" href="https://pic.imgdb.cn/item/64db3ce51ddac507cc71e25f.png"><link rel="canonical" href="http://deepseacolor.github.io/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '任务编辑器',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-29 20:16:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.bing.com/th/id/OGC.bc159a29881425e3e8814868e240dafb?pid=1.7&amp;rurl=https%3a%2f%2fimg.siyuetian.net%2fsytconimg%2f2022%2f07%2f070414325483424.gif&amp;ehk=qp0v38QaAxsFF6JwQUZxPLZ%2b6aOYirVPpNz8%2bOI86cs%3d" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">33</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://pic.imgdb.cn/item/64dae3c41ddac507cc8d535b.png')"><nav id="nav"><span id="blog-info"><a href="/" title="深海酒馆"><span class="site-name">深海酒馆</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">任务编辑器</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-11T07:19:39.000Z" title="发表于 2023-08-11 15:19:39">2023-08-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-29T12:16:58.757Z" title="更新于 2023-08-29 20:16:58">2023-08-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E7%B3%BB%E7%BB%9F/">游戏系统</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%B8%E6%88%8F%E7%B3%BB%E7%BB%9F/%E5%8F%99%E4%BA%8B%E6%A8%A1%E5%9D%97/">叙事模块</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="任务编辑器"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、-设计目的"><a href="#一、-设计目的" class="headerlink" title="*一、    设计目的*"></a><em><strong>*一、    设计目的*</strong></em></h1><p>· 主旨是解决当前任务系统存在的四类问题： </p>
<p>　o 元数据（单个任务）不标准、未模板化，之前任务步骤的任务框架会影响后续编辑器对数据的统一操作。</p>
<p>　o 任务状态区分不明晰，这对后续引入编辑器以及维护任务会有很多麻烦。比如之前设定的任务进行条件（声望达到X、队伍中有Y等）与任务完成条件就存在很多耦合的地方。</p>
<p>　o 数据存储方式影响后续流程，比如多人编辑、多版本合并等。</p>
<p>　o 任务功能不全，比如条件逻辑关系（比如多条件判定、发奖与条件发奖等）</p>
<p>· 除此之外，在整理好任务功能后，还需要引入一套方便策划编辑的编辑器。这可以增加策划的工作效率，也能一定程度上避免配置错误的几率。</p>
<h1 id="二、-任务状态流程图"><a href="#二、-任务状态流程图" class="headerlink" title="*二、    任务状态流程图*"></a><em><strong>*二、    任务状态流程图*</strong></em></h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152121502.png" alt="image-20230811152121502"></p>
<h1 id="三、-功能概述"><a href="#三、-功能概述" class="headerlink" title="*三、    功能概述*"></a><em><strong>*三、    功能概述*</strong></em></h1><p>· 这版任务系统是以最小化的任务结构，对任务进行拆分的系统。</p>
<p>· 期望能以堆积木的方式组合出多种多样的复杂任务。</p>
<p>· 下文将以单个任务所涉及的任务状态为出发点，详述与之相关的任务系统。任务编辑器的存储、操作、界面相关功能，另起文档描述，本文仅在聊到具体任务系统功能时，会以任务编辑器的界面来举例，不详述编辑器界面本身。</p>
<h1 id="四、-任务状态与任务"><a href="#四、-任务状态与任务" class="headerlink" title="*四、    任务状态与任务*"></a><em><strong>*四、    任务状态与任务*</strong></em></h1><p>· 我们将任务状态区分为5个状态，如下： </p>
<p>　o 初始状态</p>
<p>　o 可接取状态</p>
<p>　o 接取未完成状态</p>
<p>　o 完成未交付状态</p>
<p>　o 交付发奖状态</p>
<p>· 任何一个任务，都可以用这五个状态，串联起来。</p>
<p>· 任何任务流程，都可以用这样的任务，串联起来。哪怕当前功能不支持，也可以在某个状态对应的配置里加功能来实现，不会改变基础的架构。</p>
<p>· 这5个状态，我们以一个简单的例子来进行展开，例子为“有个老大爷，家里的羊总是被三只狼叼走，需求有一个40级以上的玩家能帮他杀掉这三只狼，他会用3个金币作为回报。”</p>
<h3 id="4-1-任务状态时间线"><a href="#4-1-任务状态时间线" class="headerlink" title="*4.1      任务状态时间线*"></a><em><strong>*4.1      任务状态时间线*</strong></em></h3><p>· 上述例子与任务状态的变化也可线性的来看。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152156739.png" alt="image-20230811152156739"></p>
<h3 id="4-2-初始状态"><a href="#4-2-初始状态" class="headerlink" title="*4.2      初始状态*"></a><em><strong>*4.2      初始状态*</strong></em></h3><p>· 当我们建立一个任务（通过编辑器）后，会配置这个任务相关的数据。但是，此时这个任务的数据只是在游戏内初始化了，还并未真正生效，这个状态，我们就称之为初始状态。</p>
<p>· 之所以要单立一个初始状态出来，除了是因为逻辑上可以这样划分，还因为玩家的数据是在变化的。当玩家的数据从不满足后续的“接取条件”到满足，在时间线上也确实可以划分出这么一段区间来。</p>
<h3 id="4-3-可接取状态"><a href="#4-3-可接取状态" class="headerlink" title="*4.3      可接取状态*"></a><em><strong>*4.3      可接取状态*</strong></em></h3><p>· 如上所述，当玩家的数据从不满足“接取条件”到满足的时候，任务的状态就从初始状态切换到了可接取状态。</p>
<p>· 如上述例子中，老大爷需求一个40级以上的玩家。所以，对于玩家来说，当自己的等级处于0-39级时，这个任务就是初始状态。当自己的等级处于40级及以上时，这个任务就是可接取状态（前提，以前没做过这个任务，不涉及重复完成等问题）。</p>
<h3 id="4-4-接取未完成状态"><a href="#4-4-接取未完成状态" class="headerlink" title="*4.4      接取未完成状态*"></a><em><strong>*4.4      接取未完成状态*</strong></em></h3><p>· 从玩家满足“接取条件”但没有去接取任务，到玩家满足“接取条件”且去找了老大爷接取任务时，任务的状态就从可接取状态切换到了接取未完成状态。</p>
<h3 id="4-5-完成未交付状态"><a href="#4-5-完成未交付状态" class="headerlink" title="*4.5      完成未交付状态*"></a><em><strong>*4.5      完成未交付状态*</strong></em></h3><p>· 玩家接到任务后，此时去山上（举例而已）杀那三只狼。当这三只狼都被玩家杀掉，但是玩家还没有回去告诉老大爷这段，就被称之为完成未交付状态。</p>
<h3 id="4-6-交付发奖"><a href="#4-6-交付发奖" class="headerlink" title="*4.6      交付发奖*"></a><em><strong>*4.6      交付发奖*</strong></em></h3><p>· 交付发奖状态分为两个状态： </p>
<p>　o 成功状态</p>
<p>　o 失败状态</p>
<p>· 成功状态就如上文，玩家告知老大爷（就是在交付任务），这个时候任务就完成了。但是需要注意的是，部分的任务需要处理为实际发奖发到玩家身上了或者说发奖完成了，才算任务完成，后文会提到（这部分与完成条件相对应就好了，详见下文）。</p>
<p>· 当玩家满足失败条件时，任务失败。根据配置走失败的相关的奖励和条件奖励。</p>
<h1 id="五、-任务流程与任务"><a href="#五、-任务流程与任务" class="headerlink" title="*五、    任务流程与任务*"></a><em><strong>*五、    任务流程与任务*</strong></em></h1><p>· 任务流程可以是整个剧情故事，也可以是某个剧情片段。</p>
<p>· 任务流程是逻辑概念，与功能无关。</p>
<p>· 这里提到任务流程，是为了理清楚任务与剧情之间的关系。</p>
<h3 id="5-1-任务流程举例"><a href="#5-1-任务流程举例" class="headerlink" title="*5.1      任务流程举例*"></a><em><strong>*5.1      任务流程举例*</strong></em></h3><p>· 上文中，以老大爷需求玩家杀狼的单个任务为例子，拆解了任务状态。</p>
<p>· 现在引入一段任务流程：“玩家来到长生村，想要调查长生的秘密。于是先找到了村长，了解情况。但村长不太信任玩家，想要玩家帮忙做三件事，才能透露信息。这三件事是，帮助村口的孩子小王抓蛐蛐；帮助村南的老大爷解决问题（上文提到的杀狼任务）；帮助村长把信带给村外哨站的保卫员阿强。“</p>
<h3 id="5-2-任务流程拆解"><a href="#5-2-任务流程拆解" class="headerlink" title="*5.2      任务流程拆解*"></a><em><strong>*5.2      任务流程拆解*</strong></em></h3><p>· 在上述任务流程中，我们可以拆分出7个任务： </p>
<p>　o 与村长的对话任务</p>
<p>　o 前往小王所在地的区域类任务</p>
<p>　o 抓蝈蝈的交互任务</p>
<p>　o 前往老大爷所在地的区域类任务</p>
<p>　o 杀狼的打怪任务</p>
<p>　o 前往村外哨站的区域类任务</p>
<p>　o 听村长讲述长生的秘密</p>
<h3 id="5-3-任务拆解"><a href="#5-3-任务拆解" class="headerlink" title="*5.3      任务拆解*"></a><em><strong>*5.3      任务拆解*</strong></em></h3><p>· 根据上文以老大爷为例的任务拆解，我们现在讲示例的任务流程按任务的各个状态拆解如下：</p>
<p>· <a target="_blank" rel="noopener" href="https://wiki.h3d.com.cn/pages/viewpage.action?pageId=65204114">任务拆分示例 - JRPG - H3D Confluence</a></p>
<p>· 在拆解中，我们能够看到，一段剧情（整个故事，剧情片段，任务流程），可以拆解为多个任务。而每一个任务都是由五种状态组合而成的。</p>
<h1 id="六、-任务配置详述"><a href="#六、-任务配置详述" class="headerlink" title="*六、    任务配置详述*"></a><em><strong>*六、    任务配置详述*</strong></em></h1><p>· 有了前面的概念解析，下面我们来详细描述概念与配置之间的关系，以及配置相关的细节。对应关系图如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152213041.png" alt="image-20230811152213041"></p>
<h3 id="6-1-任务全貌"><a href="#6-1-任务全貌" class="headerlink" title="*6.1      任务全貌*"></a><em><strong>*6.1      任务全貌*</strong></em></h3><p>· 主要用于配置任务基本信息，包括任务简介、任务显示、任务计次的相关功能。</p>
<h4 id="任务简介"><a href="#任务简介" class="headerlink" title="*任务简介*"></a><em><strong>*任务简介*</strong></em></h4><p>· 任务简介的整体配置项如下图所示，注意，所需功能按文字描述为准（因为在编辑器的部分还会涉及到配置项折叠的功能，下同）：</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps42.jpg" alt="img"> </p>
<p>· 任务名字： </p>
<p>　o 显示上暂定限制6个字。</p>
<p>　o 需求任务名字支持RGB的十六进制标签配置，即如果任务名字是“少女与猫“，那么”#FF0000少女#与猫“，那么少女的字体颜色就是红色：“少女与猫”。</p>
<p>　o 正常任务名字如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps43.jpg" alt="img"></p>
<p>· 任务描述： </p>
<p>　o 这里指的是对于任务的详细描述，一般不显示在主界面，而是显示在任务面板中，如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps44.jpg" alt="img"></p>
<p>· 接取NPC： </p>
<p>　o 发放任务的NPC，也可以说是玩家可以从这个NPC 处，接取任务。</p>
<p>　o 当一个NPC（会出现这种情况的也只能是接取NPC）有可接取的任务时，这个NPC的头顶应该显示一个感叹号（UI类型，这里的感叹号需要支持根据不同的任务类型配置不同的颜色）。感叹号的可视范围随NPC的可视范围。</p>
<p>　o 当这个NPC身上的可接取的任务变为其他状态时，感叹号需要消失。</p>
<p>　o 配置一个NPC的模板ID。</p>
<p>　o 对应的NPC身上需要挂载这个任务（能让玩家在此处接取这个任务即可）。</p>
<p>　o 如果取消或更换了这个配置的NPC，则这个NPC需要去掉此任务（对应上述挂载）。</p>
<p>　o 玩家通过接取NPC接到任务后，任务状态由可接取状态变为接取未完成状态。注意，任务状态还有别的方式可以由可接取状态变为接取未完成状态，比如后文会提到的“满足条件自动接取”。</p>
<p>· 完成NPC </p>
<p>　o 用于玩家交付任务的NPC。即当玩家有完成未交付状态的任务，且需要找完成NPC交付时，与完成NPC交互（对话），可以让玩家的任务状态由完成未交付变为交付发奖。</p>
<p>　o 当一个NPC有可交付的任务时，NPC的头顶应该显示一个问号（UI类型，这里的问号需要支持根据不同的任务类型配置不同的颜色）。问号的可视范围随NPC的可视范围。</p>
<p>　o 当这个NPC身上的可交付的任务变为其他状态时，问号需要消失。</p>
<p>　o 配置一个NPC的模板ID。</p>
<p>　o 对应的NPC身上需要挂载这个任务（能知道对应任务到达完成未交付状态即可）。</p>
<p>　o 如果取消或更换了这个配置的NPC，则这个NPC需要去掉此任务（对应上述挂载）。</p>
<p>　o 任务的完成交付也不仅仅由NPC来实现，也可能出现“自动完成”的情况。这种情况下，就不需要完成NPC，任务（不用交付）直接发奖即可。</p>
<p>· 接取对话 </p>
<p>　o 当玩家接到任务时，会触发的对话（接取对话在前，接取任务在后）。对话形式比较简单，不涉及多机位、多NPC。仅仅是单NPC做动作（相比AVG更简单，易配置），如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps45.jpg" alt="img"></p>
<p>　o 对话可配置： </p>
<p>　　　§ NPC语音</p>
<p>　　　§ NPC动作</p>
<p>　　　§ NPC表情（如何和肢体动作是分开的话）</p>
<p>　　　§ NPC对话内容</p>
<p>　　　§ 玩家语音</p>
<p>　　　§ 玩家动作</p>
<p>　　　§ 玩家表情</p>
<p>　　　§ 玩家对话内容</p>
<p>　o 配置的内容可动态增加，比如（此界面由接取对话项后面的“编辑”按钮弹出）：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps46.jpg" alt="img"></p>
<p>　o 当玩家点击“增加对话”按钮后，就会整体出现蓝框内的配置项。初始时，这个面板只有“增加对话”这一个按钮。</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps47.jpg" alt="img"></p>
<p>　o 多次点击“增加对话”按钮，可增加多个蓝框配置。</p>
<p>　o 蓝框配置之间的关系为顺序对话，比如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps48.jpg" alt="img"></p>
<p>　o 如果此界面处于只有“增加按钮”，没有蓝框的情况，则认为没有配置接取对话。对于这种情况，在接任务时，就不出现接取对话框。</p>
<p>　o 这里还需要判断“NPC对白”与“玩家对白”： </p>
<p>　　　§ 如果“NPC对白”配置为空，也就是没配置内容，则跳过此“NPC对白”。</p>
<p>　　　§ 如果“玩家对白”配置为空，也就是没配置内容，则跳过此“玩家对白”。</p>
<p>　　　§ 比如上图中，如果把“据说是被暗鬼的某个组织带走了，最后是在城东出现。你能把这些贵族找回来吗？”去掉，则对话的顺序为： </p>
<p>　　　§ NPC说：最近，有贵族失踪了，闹得人心惶惶的。</p>
<p>　　　§ 玩家说：有什么线索吗？</p>
<p>　　　§ NPC说：没问题，包在我身上。</p>
<p>　o </p>
<p>​        注意，这里仅仅显示3次对话框，2次NPC的和1次玩家的。</p>
<p>　o </p>
<p>· 完成对话 </p>
<p>　o 和接取对话一样的编辑规则，只不过触发时机为任务的交付发奖之前，完成未交付之后。</p>
<p>　o 另外接取对话与完成对话不能用奖励来代替，因为在发AVG的同时，如果要发别的物品，就会出现显示问题。而且，特殊处理也会带来更多的问题。</p>
<p>· 任务类型 </p>
<p>　o 用于标记任务的类型，根据这个标签，就能对不同类型的任务进行定制化的功能补充，比如主线任务的首任务是初始就发到玩家身上且为初始被追踪的任务，又比如奇遇任务需要专门的任务触发界面等。</p>
<p>　o 任务分类规划以经验性的任务形式来分类，具体在开发过程中，不局限于此分类，根据实际需求进行扩充、删减。如下： </p>
<p>　　　§ 主线任务（极光任务，故事的主要展现）</p>
<p>　　　§ 支线任务（光灵任务，角色定制任务，用于展现角色性格、特点）</p>
<p>　　　§ 奇遇任务（暂不涉及，满足一定条件才发到玩家身上，需求初始状态计数）</p>
<p>　　　§ 区域任务（暂不涉及，对应激战2的区域任务，在一个区域内发生了一系列动态事件）</p>
<p>　　　§ 世界任务（暂不涉及，对应原神的世界任务，一次性任务，关联世界等级）</p>
<p>　　　§ 活动任务（暂不涉及，分类繁多，如节日任务，委托任务，甚至日常、周常这种与时间强相关的任务，后续考虑补充小分类）</p>
<p>　o 根据上述分类，我们主要对主线任务、支线任务进行简单区分与优先级排序。 </p>
<p>　　　§ 主线任务在任务面板界面优先级最高，排最上面，暂定为</p>
<p>　　　§ 支线任务在任务面板界面优先级次高，排在第二，暂定为</p>
<p>　　　§ 优先级以数字越小，优先级越高，这个不用配置，程序可写死，有需求再调整。</p>
<p>　　　§ 任务面板界面示例如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152244467.png" alt="image-20230811152244467"></p>
<p>　o 主线任务和支线任务挂载在NPC上时，对应的可接取与可交付头标不同。这部分可以开放配置，也可策划给资源，程序写死，改动频率不高。</p>
<p>　o 举个例子，主线任务的可接取头标的问号是黄色的问号，而支线任务的可接取头标的问号是黄色外加地图有个菱形的问号，后续活动任务的可接取头标的问号是蓝色的问号等。</p>
<h4 id="任务显示"><a href="#任务显示" class="headerlink" title="*任务显示*"></a><em><strong>*任务显示*</strong></em></h4><p>· 任务显示的整体配置项如下：</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps50.jpg" alt="img"></p>
<p>· 是否废弃任务，配置后，任务不在游戏内生效。这个项的作用在于，部分策划临时废弃了的任务，但是又不想删除配置，留待以后使用。</p>
<p>· 是否在任务栏隐藏，默认为隐藏。任务栏的规则，由于我们是选用原神的规则，而不是传统MMO的规则，所以，除了当前正在追踪的任务以外，所有任务都需要在任务栏隐藏，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps51.jpg" alt="img"></p>
<p>​      当有任务追踪时，如下图：</p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps52.jpg" alt="img"></p>
<p>​      传统MMO的任务栏会有很多任务，这里就不列举了。这里程序也可写死，不开放此功能。现阶段策划需求不强烈。</p>
<p>· 是否隐藏任务，指的是在任务面板隐藏（任务默认是不隐藏的），即玩家通过如下图的任务详情界面也找不到任务了：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps53.jpg" alt="img"></p>
<p>​      这类隐藏的任务，往往用于任务的衔接、玩家状态的判定、以及一些特殊功能需求。</p>
<p>· 任务接取时提示，即当玩家接到某个任务时，游戏内会有一个简单的提示，比如“接到任务”，此功能主要用于策划做任务调试。</p>
<p>· 任务完成时提示，同上。</p>
<p>· 是否显示任务状态头标，勾选后，对应的NPC就需要显示上述的“可接取”的感叹号，以及“可交付”的问号图标。如果一个NPC同时满足可接取与可交付的状态，则优先显示可交付的问号图标。</p>
<p>· 任务能否被查找，即当任务可接取时，是否在任务面板上显示，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps54.jpg" alt="img"></p>
<p>​     原神每日的委托任务和世界任务就是属于“任务能被查找”的。</p>
<p>​     但是部分在地图中的一些可接取的打怪等任务，仅仅在小地图上显示的，而不在上图的任务面板里显示。</p>
<p>· 是否自动检索任务，当，前一个任务的完成NPC和后一个任务的接取NPC是同一个，且前一个任务有完成对话，后一个任务有接取对话时，后一个任务勾选了此选项，则会自动弹出后一个任务的接取对话。 </p>
<p>　o 如果后一个NPC有多个任务，则判断后一个任务的接取条件，是否前置为上一个任务。优先展开前置条件为上一个任务的任务。</p>
<p>　o 如果有多个前置条件都是上一个任务的任务，则随机展开一个任务即可。</p>
<p>　o 这里的前置任务的条件指的条件里详细描述的“多个任务完成次数“。</p>
<h4 id="任务计次"><a href="#任务计次" class="headerlink" title="*任务计次*"></a><em><strong>*任务计次*</strong></em></h4><p>· 任务计次指的是任务在各个状态下的次数统计，以及任务限次相关的配置，配置项如下：</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps55.jpg" alt="img"></p>
<p>· 为了避免后续混乱，在此增加两个词的定义： </p>
<p>　o 任务次数，指的是任务当前可以接取或者完成的次数，可被清空。</p>
<p>　o 任务计次，指的任务的历史已接取或已完成的计次，不可被清空。</p>
<p>· 接取计次，此选项不勾的时候，任务为完成计次，即当任务交付发奖时，记一次数。此选项勾选后，就是在接取的时候，记一次数（注意，这个计数是每个玩家的具体任务独有的，和后文的杀怪计数、交互计数都是相互独立的。另外，与后文提到的任务限制次数也不同）。</p>
<p>· 失败后可重新接取，一个勾选的配置项，如果勾了的话，当任务失败后，需要返还玩家任务次数，可重新接取。</p>
<p>· 任务间隔，也可理解为接取冷却。配置默认为0秒，即无间隔。如果有间隔，则满足间隔时间后，才能再次接取。这部分规则也需要关联上述的接取计次，决定是任务完成间隔还是任务接取间隔。</p>
<p>· 初始状态开始计数，主要用于奇遇等任务。<strong>（补充在具体的条件内）</strong> </p>
<p>　o 即当该任务为初始状态时，需要根据配置的接取条件来进行相应的计数。</p>
<p>　o 举例说明为，当前玩家没有接取任何任务，但是在杀死20只狼后，玩家接到了一个叫做“野狼的哀嚎”的任务。</p>
<p>　o 即“野狼的哀嚎”这个任务的接取条件是“击杀20只狼”。</p>
<p>　o 所以勾选了“初始状态开始计数”后，在此任务的初始状态，每击杀一只狼，就会记一次数，直到击杀20只狼，则“野狼的哀嚎”这个任务的任务状态由初始状态变为可接取状态（这里接取到任务，是因为还勾选了下文会提到的功能，满足条件自动接取）。</p>
<p>· 最大可接取次数，达到了最大可接取次数，则该任务就不能再接取了。表现为提示“任务名字 的次数已耗尽。”</p>
<p>　o 如果这里的次数配置为0，则代表该任务不限接取次数。</p>
<p>· 次数清空，这里清空的是“最大可接取次数”里的次数，而不是“接取计次”的计次。可以复选配置“每天&#x2F;每周&#x2F;每月”，即是每隔一天清空次数、还是每隔一周清空次数、或是每隔一个月再清空次数。清空的时间点程序写死，每日对应次日凌晨5点。每周对应次周周一凌晨5点。每月对应次月月初第一天的凌晨5点（这里具体时间点沟通决定，后续可能修改，也可能进行其他清空间隔或方式的拓展）。</p>
<p>· 清空时间点，和上一个字段“清空次数的方式”为一组，即如果是每隔一天就清空次数的话，那么是具体是每天的什么时候清空，是由这个字段配置的。配置1-24的小时数、然后1-59分钟、1-59秒。对应的，每周&#x2F;每月 有不同的配置。</p>
<h3 id="6-2-接取条件"><a href="#6-2-接取条件" class="headerlink" title="*6.2      接取条件*"></a><em><strong>*6.2      接取条件*</strong></em></h3><p>· 只有满足了接取条件，玩家才可以接取到任务。即从可接取状态变为接取未完成状态的条件。</p>
<p>· 接取条件部分，与后文的任务条件通用。具体配置界面如下图：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152313827.png" alt="image-20230811152313827"></p>
<p>· 任务发放，这是一个复选项，可以选择任务是“NPC接取”、“界面接取”还是“满足条件自动发放”（需要注意的是：如果是别的任务发放的任务，则忽略“任务发放”、接取对话与接取NPC）。 </p>
<p>　o NPC接取，默认为此选项。即和NPC交互，然后接取任务。</p>
<p>　o 界面接取，用于玩家通过界面接取任务。此类型的任务发放是客户端发起的，向服务器说，要接某个任务。</p>
<p>　o 满足条件自动发放，即满足接取条件后，任务自动发放到玩家身上。</p>
<p>· 接取条件，即满足了这个条件，任务的状态就从初始状态变为了可接取状态。且接取条件与完成条件通用。 </p>
<p>　o 接取条件的配置如下图：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152329377.png" alt="image-20230811152329377"></p>
<p>​           当玩家点击增加后，会出现一个列表，列表即条件列表，如上中图。勾选后，则在左图内增加相应的配置。</p>
<p>​           点击删除按钮后，则出现当前已选择的条件的列表，如上图的条件，则点击删除按钮后如上右图。之后，选择一项，再点击确定，就能删除一个接取条件了。在编辑器界面上，对应的条件配置也将被删除。</p>
<p>· 以下为具体的任务条件列举（仅包含近期能用到的）：</p>
<p>· <a href="">任务条件列举</a></p>
<p>· 接取条件之间的逻辑关系，需要支持且与或的关系配置，默认为且的关系。这里条件的出现顺序，按实际配置接取条件的出现顺序而定。如果是一次性多选了接取条件，则任意顺序皆可。</p>
<p>· 达成顺序，显性的配置任务的条件达成顺序，且所有的条件都需要有这部分配置。数字越小，则要求优先达成。如果数字大的条件先满足，则不算该条件达成，需要按顺序，让数字小的条件达成后，数字大的条件才可达成。另外，所有条件的默认顺序为如果条件之间的数字相同，则无达成的顺序关系。</p>
<h3 id="6-3-接取触发"><a href="#6-3-接取触发" class="headerlink" title="*6.3      接取触发*"></a><em><strong>*6.3      接取触发*</strong></em></h3><p>· 接取触发是指玩家在接取任务的那一刻，会发生的事情。比如发放一个任务物品等。具体配置项如下：</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps58.jpg" alt="img"> </p>
<p>· 接取触发也可统一称为接取奖励，点击增加按钮后，出现奖励列表，这里的奖励列表与完成任务后的发奖的奖励列表也通用，举例如下： </p>
<p>　o AVG*</p>
<p>　o CG*</p>
<p>　o 奖励</p>
<p>　o 掉落</p>
<p>　o 发放任务*</p>
<p>　o 喊话</p>
<p>　o 扣物品</p>
<p>　o 物品</p>
<p>　o 召唤沿某路径走的NPC*</p>
<p>　o 增加任务接取计数</p>
<p>　o 减少任务接取计数</p>
<p>　o 增加任务接取计次</p>
<p>　o 减少任务接取计次</p>
<p>　o 增加任务完成计数</p>
<p>　o 减少任务完成计数</p>
<p>　o 增加任务完成计次</p>
<p>　o 减少任务完成计次</p>
<p>　o 增加货币</p>
<p>　o 扣货币</p>
<p>　o 传送</p>
<p>　o 解锁技能（暂时不用）</p>
<p>　o 升级技能（暂时不用）</p>
<p>　o 召唤跟随NPC（暂时不用）</p>
<p>　o 删除跟随NPC（暂时不用）</p>
<p>　o 邮件（暂时不用）</p>
<p>　o 经验（暂时不用）</p>
<p>· 点击删除按钮后，和上文提到的条件的删除是一样的。</p>
<h3 id="6-4-完成条件"><a href="#6-4-完成条件" class="headerlink" title="*6.4      完成条件*"></a><em><strong>*6.4      完成条件*</strong></em></h3><p>· 只有满足了完成条件，玩家才能完成任务（未交付）。即从接取未完成状态变为完成未交付状态。</p>
<p>· 具体配置项与具体的条件配置方式、条件关系和接取部分完全相同，只是此处作用于判断任务是否满足条件而完成。</p>
<p>· 失败条件，在完成条件中，还有一部分是失败条件，这部分与接取条件、完成条件一致，只是此处作用于判断任务是否满足条件而失败。任务失败后，将任务状态标记为失败状态，并且，玩家再也看不到失败的任务（失败表现后续功能完善）。</p>
<h3 id="6-5-任务指引"><a href="#6-5-任务指引" class="headerlink" title="*6.5      任务指引*"></a><em><strong>*6.5      任务指引*</strong></em></h3><p>· 任务指引的配置如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps59.jpg" alt="img"></p>
<p>· 这里乱入了一个基础选项功能，顺带提一下，即“自动发放完成奖励”，如果是，则忽略完成描述与完成NPC（不忽略完成对话。如果想忽略完成对话的话，策划自己不配置完成对话就行了），在任务达到完成未交付状态后，就直接发奖，算此任务已到达交付发奖状态。</p>
<p>· 任务目标描述，即一段文字，用来提示玩家任务目标，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps60.jpg" alt="img"></p>
<p>​     如图中的“去图书馆找丽莎”。这段文字同样需求支持RGB配置（详见上文）。其中，完成条件相对于其他条件，有一点不同，就是每一个完成条件，都需要增加一条任务目标描述，用于任务在任务栏显示任务目标。</p>
<p>· 任务完成描述，即当任务从接取未完成变为完成未交付状态时，原本任务目标描述的位置就要显示任务完成描述。</p>
<h3 id="6-6-奖励与串联任务"><a href="#6-6-奖励与串联任务" class="headerlink" title="*6.6      奖励与串联任务*"></a><em><strong>*6.6      奖励与串联任务*</strong></em></h3><p>· 以下为奖励与串联任务部分的配置：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/image-20230811152353798.png" alt="image-20230811152353798"></p>
<p>· 根据任务的成功、失败，发放成功奖励或失败奖励。</p>
<p>· 其中，奖励部分与3的接取触发里面的奖励相同。</p>
<p>· 但是，这里有条件奖励的概念，举个例子，如果我们根据玩家从A点到B点的用时发奖，10秒是一个奖、20秒是一个奖，那么此时就要用到条件奖励，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps62.jpg" alt="img"></p>
<p>​      图中，条件与上述接取、成功、失败等通用的条件。而奖励则是接取奖励、成功、失败奖励等通用的奖励。另外的功能按钮是：</p>
<p>· 增加按钮，增加一组条件-奖励，界面可以是横向扩展（通过横向的滚轮增加一个当前选中页的概念，也可以是手动选中）。</p>
<p>· 复制按钮，复制一组条件-奖励，复制对象为当前选中页的条件-奖励。</p>
<p>· 删除按钮，删除一组条件-奖励，删除最近新增的即可。</p>
<p>· 确定按钮，点击后，就会在编辑器的奖励页签的条件奖励生成对应的配置。</p>
<p>· 取消按钮，点击后，此次操作无效，什么也不发生。</p>
<p>· 特殊处理，有一些特殊情况需要处理： </p>
<p>　o 背包满时，如果奖励物品无法进包，则无法完成任务。此时需要给出对应的提示，比如“请清理下包裹再继续此任务。”出现此提示后，任务退回到完成未交付状态。</p>
<p>　o 部分可中断的奖励，比如AVG、CG等，如果因为杀端或其他一些原因中断了奖励发放，则此类任务需要退回到完成未交付。</p>
<h1 id="七、-任务追踪"><a href="#七、-任务追踪" class="headerlink" title="*七、    任务追踪*"></a><em><strong>*七、    任务追踪*</strong></em></h1><p>· 当玩家接到一个新的任务时，如果这个任务显示在任务栏上，则此时，需要玩家按V键（手机上是点击）后，才出现任务追踪。如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps63.jpg" alt="img"></p>
<p>​     任务也需要配置，是否自动开启追踪。如果玩家不追踪新获得的任务，则依旧显示之前追踪的任务，如下：</p>
<p>​     <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps64.png" alt="img"></p>
<p>​      如果之前没有任务追踪，则在新任务追踪提示后，依旧保持没有任务追踪的状态。</p>
<p>· 任务追踪主要由三部分构成： </p>
<p>　o 指引路径</p>
<p>　o 悬浮图标—指引方向</p>
<p>　o 显示距离与高低</p>
<p>· 另外，还需要描述设置追踪的流程。</p>
<h3 id="7-1-指引路径"><a href="#7-1-指引路径" class="headerlink" title="*7.1      指引路径*"></a><em><strong>*7.1      指引路径*</strong></em></h3><p>· 指引路径，即当玩家开启追踪后，需要在场景内出现一条从玩家当前位置到追踪的目的地的特效线。</p>
<p>· 这条特效线本质为寻路路径，具体用什么算法，程序决定。</p>
<p>· 此特效线所用到的特效可写死，不用配置。</p>
<p>· 特效线需要实时刷新，刷新频率可以根据距离的变化而定，比如玩家每靠近或者远离目的地10米，则刷新此路径。</p>
<p>· 特效线有显示时间，需求策划可配置。</p>
<p>· 如果玩家到目的地之间不可寻路，则不出现此特效线。仅以后面的悬浮图标以及距离、高低来提示玩家。</p>
<p>· 路径如下图所示：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps65.jpg" alt="img"></p>
<h3 id="7-2-悬浮图标—指引方向"><a href="#7-2-悬浮图标—指引方向" class="headerlink" title="*7.2      悬浮图标—指引方向*"></a><em><strong>*7.2      悬浮图标—指引方向*</strong></em></h3><p>· 悬浮图标用于在空间上对玩家进行方向指引，具体如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps66.jpg" alt="img"></p>
<p>· 此悬浮图标与角色的朝向无关，与摄像机的朝向，也就是与视角相关。</p>
<p>· 当目的地位于视角面向的正前方时，此悬浮图标出现在界面的上方。</p>
<p>· 当目的地位于视角面向的左侧时，此悬浮图标出现在界面的左方。</p>
<p>· 当目的地位于视角面向的右侧时，此悬浮图标出现在界面的右方。</p>
<p>· 当目的地位于视角面向的正后方时，此悬浮图标出现在界面的下方。</p>
<p>· 当目的地位于视角面向的上方时，此悬浮图标出现在界面的上方。</p>
<p>· 当目的地位于视角面向的下方时，此悬浮图标出现在界面的下方。</p>
<p>· 且，当玩家的视角面向目的地上下左右不超过X度（可配置，初始可配为15度）时，悬浮图标的下方还会出现具体的玩家位置到目的地的距离。</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps67.jpg" alt="img"></p>
<p>· 如果玩家背离目的地，也就是不满足上述显示距离的条件的时长，超过一定时间后，则自动隐藏指引路径和悬浮图标。但是在任务栏依然显示距离与高低，后文会提到。</p>
<h3 id="7-3-显示距离与高低"><a href="#7-3-显示距离与高低" class="headerlink" title="*7.3      显示距离与高低*"></a><em><strong>*7.3      显示距离与高低*</strong></em></h3><p>· 在悬浮图标里提到，在特定条件下需要显示距离。</p>
<p>· 另外，在任务栏还需要显示距离，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps68.jpg" alt="img"></p>
<p>​      与此同时，还需要文字显示“高处”或“低处”。这部分判断单纯以玩家与目的地的实时高度来决定。但是，仅仅当玩家与目的地的距离小于80米后，才显示高低。这个值可修改，但不用配置，修改频率不高。</p>
<p>· 当玩家与目的地高度一致时，则仅显示距离，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps69.jpg" alt="img"></p>
<h3 id="7-4-任务追踪设置"><a href="#7-4-任务追踪设置" class="headerlink" title="*7.4      任务追踪设置*"></a><em><strong>*7.4      任务追踪设置*</strong></em></h3><p>· 对玩家来说，初始，玩家的默认任务追踪为主线任务。</p>
<p>· 一旦玩家手动设置追踪后，则在任务栏界面仅显示玩家追踪的任务。</p>
<p>· 如果玩家取消了当前追踪的任务，则在任务栏不显示任何界面，如下图：</p>
<p>· <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps70.jpg" alt="img"></p>
<p>· 手动设置任务追踪的流程如下： </p>
<p>　o 点开任务面板在主界面的按钮，如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps71.jpg" alt="img"></p>
<p>　o 选中想要追踪的任务，如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps72.jpg" alt="img"></p>
<p>　o 点击“追踪目标”按钮，如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps73.jpg" alt="img"></p>
<p>　o 点击“追踪目标”按钮后，如下图：</p>
<p>　o <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/wps74.jpg" alt="img"></p>
<p>​           会在任务栏界面出现追踪的这个任务，显示任务名字以及距离。</p>
<h1 id="八、-任务物管理-显隐表"><a href="#八、-任务物管理-显隐表" class="headerlink" title="*八、    任务物管理-显隐表*"></a><em><strong>*八、    任务物管理-显隐表*</strong></em></h1><p>· 需要有一个通用的配置，来管理各个任务所涉及的NPC、交互物的显示与隐藏。</p>
<p>· 可配置任务物的初始状态：显示&#x2F;隐藏，这里对应任务的初始状态。</p>
<p>· 可配置任务物在接取后的状态：显示&#x2F;隐藏，这里对应任务的接取未完成状态。</p>
<p>· 可配置任务物在完成后（完成未交付）的状态：显示&#x2F;隐藏，这里对应任务的完成未交付状态。</p>
<p>· 可配置任务物的交付发奖后的状态：显示&#x2F;隐藏，这里对应任务的交付发奖状态。</p>
<p>· 可配置任务物的失败后的状态：显示&#x2F;隐藏，这里对应任务的失败状态。</p>
<p>· 除了显示、隐藏这两种行为，后续还可增加等待，从某个点走来，走到某个点消失，播动作等需求，但暂时优先级不高。</p>
<p>· 显隐表默认为顺序执行。</p>
<p>· 配置举例：</p>
<p>Init()</p>
<p>{</p>
<p>​     npc(场景ID，NPCID) {行为}</p>
<p>}</p>
<p>Task(任务ID)</p>
<p>{</p>
<p>​     Accept(场景ID，NPCID) {行为}</p>
<p>​     Can_finish(场景ID，NPCID) {行为}</p>
<p>​     Finished(场景ID，NPCID) {行为}</p>
<p>​     Failed(场景ID，NPCID) {行为}</p>
<p>}</p>
<p>其中行为就是提到的显示、隐藏等。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://deepseacolor.github.io">Lvjunhao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://deepseacolor.github.io/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/">http://deepseacolor.github.io/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%BC%96%E8%BE%91%E5%99%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://deepseacolor.github.io" target="_blank">深海酒馆</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://pic.imgdb.cn/item/64dae3c41ddac507cc8d535b.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/11/%E4%BB%BB%E5%8A%A1%E7%B3%BB%E7%BB%9F/" title="任务系统"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/64dae3291ddac507cc8bda1a.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">任务系统</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/11/%E9%92%A5%E5%8C%99%E6%A6%82%E5%BF%B5%E7%8E%A9%E6%B3%95/" title="钥匙概念玩法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/64dae33d1ddac507cc8c0f10.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">钥匙概念玩法</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.bing.com/th/id/OGC.bc159a29881425e3e8814868e240dafb?pid=1.7&amp;rurl=https%3a%2f%2fimg.siyuetian.net%2fsytconimg%2f2022%2f07%2f070414325483424.gif&amp;ehk=qp0v38QaAxsFF6JwQUZxPLZ%2b6aOYirVPpNz8%2bOI86cs%3d" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Lvjunhao</div><div class="author-info__description">我要成为游戏策划高手</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">33</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/DeepseaColor"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/DeepseaColor" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:978424283@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎光临深海小酒馆</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E8%AE%BE%E8%AE%A1%E7%9B%AE%E7%9A%84"><span class="toc-text">*一、    设计目的*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-text">*二、    任务状态流程图*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81-%E5%8A%9F%E8%83%BD%E6%A6%82%E8%BF%B0"><span class="toc-text">*三、    功能概述*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81-%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81%E4%B8%8E%E4%BB%BB%E5%8A%A1"><span class="toc-text">*四、    任务状态与任务*</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E4%BB%BB%E5%8A%A1%E7%8A%B6%E6%80%81%E6%97%B6%E9%97%B4%E7%BA%BF"><span class="toc-text">*4.1      任务状态时间线*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81"><span class="toc-text">*4.2      初始状态*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%8F%AF%E6%8E%A5%E5%8F%96%E7%8A%B6%E6%80%81"><span class="toc-text">*4.3      可接取状态*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E6%8E%A5%E5%8F%96%E6%9C%AA%E5%AE%8C%E6%88%90%E7%8A%B6%E6%80%81"><span class="toc-text">*4.4      接取未完成状态*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E5%AE%8C%E6%88%90%E6%9C%AA%E4%BA%A4%E4%BB%98%E7%8A%B6%E6%80%81"><span class="toc-text">*4.5      完成未交付状态*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E4%BA%A4%E4%BB%98%E5%8F%91%E5%A5%96"><span class="toc-text">*4.6      交付发奖*</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81-%E4%BB%BB%E5%8A%A1%E6%B5%81%E7%A8%8B%E4%B8%8E%E4%BB%BB%E5%8A%A1"><span class="toc-text">*五、    任务流程与任务*</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E4%BB%BB%E5%8A%A1%E6%B5%81%E7%A8%8B%E4%B8%BE%E4%BE%8B"><span class="toc-text">*5.1      任务流程举例*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E4%BB%BB%E5%8A%A1%E6%B5%81%E7%A8%8B%E6%8B%86%E8%A7%A3"><span class="toc-text">*5.2      任务流程拆解*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E4%BB%BB%E5%8A%A1%E6%8B%86%E8%A7%A3"><span class="toc-text">*5.3      任务拆解*</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81-%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%BF%B0"><span class="toc-text">*六、    任务配置详述*</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E4%BB%BB%E5%8A%A1%E5%85%A8%E8%B2%8C"><span class="toc-text">*6.1      任务全貌*</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E7%AE%80%E4%BB%8B"><span class="toc-text">*任务简介*</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%98%BE%E7%A4%BA"><span class="toc-text">*任务显示*</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E8%AE%A1%E6%AC%A1"><span class="toc-text">*任务计次*</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%8E%A5%E5%8F%96%E6%9D%A1%E4%BB%B6"><span class="toc-text">*6.2      接取条件*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E6%8E%A5%E5%8F%96%E8%A7%A6%E5%8F%91"><span class="toc-text">*6.3      接取触发*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%AE%8C%E6%88%90%E6%9D%A1%E4%BB%B6"><span class="toc-text">*6.4      完成条件*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E4%BB%BB%E5%8A%A1%E6%8C%87%E5%BC%95"><span class="toc-text">*6.5      任务指引*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-%E5%A5%96%E5%8A%B1%E4%B8%8E%E4%B8%B2%E8%81%94%E4%BB%BB%E5%8A%A1"><span class="toc-text">*6.6      奖励与串联任务*</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81-%E4%BB%BB%E5%8A%A1%E8%BF%BD%E8%B8%AA"><span class="toc-text">*七、    任务追踪*</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E6%8C%87%E5%BC%95%E8%B7%AF%E5%BE%84"><span class="toc-text">*7.1      指引路径*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%82%AC%E6%B5%AE%E5%9B%BE%E6%A0%87%E2%80%94%E6%8C%87%E5%BC%95%E6%96%B9%E5%90%91"><span class="toc-text">*7.2      悬浮图标—指引方向*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E6%98%BE%E7%A4%BA%E8%B7%9D%E7%A6%BB%E4%B8%8E%E9%AB%98%E4%BD%8E"><span class="toc-text">*7.3      显示距离与高低*</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E4%BB%BB%E5%8A%A1%E8%BF%BD%E8%B8%AA%E8%AE%BE%E7%BD%AE"><span class="toc-text">*7.4      任务追踪设置*</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81-%E4%BB%BB%E5%8A%A1%E7%89%A9%E7%AE%A1%E7%90%86-%E6%98%BE%E9%9A%90%E8%A1%A8"><span class="toc-text">*八、    任务物管理-显隐表*</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By Lvjunhao</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>